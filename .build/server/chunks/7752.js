"use strict";exports.id=7752,exports.ids=[7752],exports.modules={87752:(E,A,_)=>{_.d(A,{ProtectedRoute:()=>M});var N=_(62901),I=_(53305),S=_(80568),T=_(19175),O=_(21680),C=_(27878),R=_(84374);function M({children:E,permissions:A=[],requireAll:_=!1,fallback:M,redirectTo:G}){let{isLoading:L,isAuthenticated:W,hasAnyPermission:P,hasAllPermissions:e,getDashboardRoute:V}=(0,I.TE)(),U=(0,R.useRouter)();return L?N.jsx("div",{className:"flex items-center justify-center min-h-screen",children:N.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):W?!(A.length>0)||(_?e(A):P(A))?N.jsx(N.Fragment,{children:E}):M?N.jsx(N.Fragment,{children:M}):N.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,N.jsxs)(S.bZ,{className:"max-w-md",children:[N.jsx(O.Z,{className:"h-4 w-4"}),N.jsx(S.Cd,{children:"Sin Permisos"}),N.jsx(S.X,{children:"No tienes los permisos necesarios para acceder a esta funcionalidad."}),N.jsx(C.z,{onClick:()=>U.push(G||V()),className:"mt-3 w-full",children:"Volver al Dashboard"})]})}):N.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,N.jsxs)(S.bZ,{className:"max-w-md",children:[N.jsx(T.Z,{className:"h-4 w-4"}),N.jsx(S.Cd,{children:"Acceso Denegado"}),N.jsx(S.X,{children:"Debes iniciar sesi\xf3n para acceder a esta p\xe1gina."}),N.jsx(C.z,{onClick:()=>U.push("/auth/login"),className:"mt-3 w-full",children:"Iniciar Sesi\xf3n"})]})})}},80568:(E,A,_)=>{_.d(A,{Cd:()=>R,X:()=>M,bZ:()=>C});var N=_(62901),I=_(24383),S=_(47279),T=_(68637);let O=(0,S.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),C=I.forwardRef(({className:E,variant:A,..._},I)=>N.jsx("div",{ref:I,role:"alert",className:(0,T.cn)(O({variant:A}),E),..._}));C.displayName="Alert";let R=I.forwardRef(({className:E,...A},_)=>N.jsx("h5",{ref:_,className:(0,T.cn)("mb-1 font-medium leading-none tracking-tight",E),...A}));R.displayName="AlertTitle";let M=I.forwardRef(({className:E,...A},_)=>N.jsx("div",{ref:_,className:(0,T.cn)("text-sm [&_p]:leading-relaxed",E),...A}));M.displayName="AlertDescription"},53305:(E,A,_)=>{_.d(A,{TE:()=>S});var N=_(84700),I=_(48119);function S(){let{data:E,status:A}=(0,N.useSession)(),_=E?.user,S=_?.role,T=_?.organizationId;return{isAuthenticated:!!E,isLoading:"loading"===A,user:_,role:S,organizationId:T,hasPermission:E=>!!S&&(0,I.N$)(S,E),hasAnyPermission:E=>!!S&&(0,I.vr)(S,E),hasAllPermissions:E=>{if(!S)return!1;let A=(0,I.ai)(S).map(E=>E.toString());return(0,I.wP)(A,E)},canAccessRoute:E=>{if(!S)return!1;let A=(0,I.ai)(S).map(E=>E.toString());return(0,I.mn)(A,E)},getDashboardRoute:()=>S?(0,I.Ol)(S):"/dashboard",getAllPermissions:()=>S?(0,I.ai)(S):[],isSuperAdmin:"SUPER_ADMIN"===S,isDistributor:"DISTRIBUIDOR"===S,isOwner:"PROPIETARIO"===S,isAgent:"AGENTE"===S,canManageUsers:"SUPER_ADMIN"===S||"PROPIETARIO"===S,canManageOrganization:"SUPER_ADMIN"===S||"PROPIETARIO"===S,canViewAllConversations:"AGENTE"!==S,canManageWhatsApp:"SUPER_ADMIN"===S||"PROPIETARIO"===S,canManageBilling:"SUPER_ADMIN"===S||"PROPIETARIO"===S,canConfigureAI:"SUPER_ADMIN"===S||"PROPIETARIO"===S,canViewReports:"AGENTE"!==S,canManageClients:"DISTRIBUIDOR"===S||"SUPER_ADMIN"===S}}},48119:(E,A,_)=>{var N;function I(E){switch(E){case"SUPER_ADMIN":return["MANAGE_AI_PROVIDERS","VIEW_SYSTEM_ANALYTICS","MANAGE_SYSTEM_SETTINGS","VIEW_ALL_ORGANIZATIONS","SUSPEND_ORGANIZATIONS","PLATFORM_ADMINISTRATION","VIEW_ALL_CONVERSATIONS","MANAGE_CLIENT_ORGANIZATIONS","VIEW_DASHBOARD","VIEW_CRM_INBOX","MANAGE_CRM_CONVERSATIONS","MANAGE_CRM_CONTACTS","VIEW_CRM_ANALYTICS","EXPORT_CRM_DATA","VIEW_CONTACTS","MANAGE_CONTACTS","VIEW_FOLLOW_UPS","CREATE_FOLLOW_UP_SEQUENCES","MANAGE_FOLLOW_UP_SEQUENCES","EXECUTE_FOLLOW_UPS","VIEW_WHATSAPP_CHANNELS","MANAGE_WHATSAPP_CHANNELS","CONNECT_WHATSAPP_QR","CONNECT_WHATSAPP_API","CONFIGURE_WHATSAPP_SETTINGS","VIEW_QUICK_REPLIES","MANAGE_QUICK_REPLIES","MANAGE_GLOBAL_QUICK_REPLIES","VIEW_AUTOMATIONS","MANAGE_AUTOMATIONS","VIEW_AUTOMATION_ANALYTICS","VIEW_KNOWLEDGE_BASE","MANAGE_KNOWLEDGE_BASE","UPLOAD_KNOWLEDGE_SOURCES","MANAGE_KNOWLEDGE_SOURCES","DELETE_KNOWLEDGE_SOURCES","VIEW_INTEGRATIONS","MANAGE_INTEGRATIONS","CONFIGURE_ECOMMERCE","CONNECT_INTEGRATIONS","DISCONNECT_INTEGRATIONS","CONFIGURE_INTEGRATION_SETTINGS","VIEW_CAMPAIGNS","MANAGE_CAMPAIGNS","CREATE_CAMPAIGNS","EXECUTE_CAMPAIGNS","PAUSE_CAMPAIGNS","SEND_BULK_MESSAGES","VIEW_CAMPAIGN_ANALYTICS","USE_AUDIENCE_BUILDER","VIEW_MESSAGE_TEMPLATES","CREATE_MESSAGE_TEMPLATES","MANAGE_MESSAGE_TEMPLATES","SYNC_META_TEMPLATES","DELETE_MESSAGE_TEMPLATES","VIEW_REPORTS","EXPORT_REPORTS","VIEW_ADVANCED_ANALYTICS","VIEW_TEAM_MEMBERS","INVITE_TEAM_MEMBERS","MANAGE_TEAM_ROLES","REMOVE_TEAM_MEMBERS","VIEW_ALL_USERS","INVITE_USERS","MANAGE_USERS","VIEW_BILLING","MANAGE_BILLING","VIEW_USAGE_ANALYTICS","MANAGE_AI_WALLET","MANAGE_WALLET","VIEW_TRANSACTIONS","RECHARGE_WALLET","VIEW_ORGANIZATION_SETTINGS","MANAGE_ORGANIZATION_SETTINGS","EXPORT_ORGANIZATION_DATA","MANAGE_ORGANIZATION","CREATE_CLIENT_ACCOUNTS"];case"PROPIETARIO":return["VIEW_DASHBOARD","VIEW_CRM_INBOX","MANAGE_CRM_CONVERSATIONS","MANAGE_CRM_CONTACTS","VIEW_CRM_ANALYTICS","EXPORT_CRM_DATA","VIEW_CONTACTS","MANAGE_CONTACTS","VIEW_FOLLOW_UPS","CREATE_FOLLOW_UP_SEQUENCES","MANAGE_FOLLOW_UP_SEQUENCES","EXECUTE_FOLLOW_UPS","VIEW_WHATSAPP_CHANNELS","MANAGE_WHATSAPP_CHANNELS","CONNECT_WHATSAPP_QR","CONNECT_WHATSAPP_API","CONFIGURE_WHATSAPP_SETTINGS","VIEW_QUICK_REPLIES","MANAGE_QUICK_REPLIES","MANAGE_GLOBAL_QUICK_REPLIES","VIEW_AUTOMATIONS","MANAGE_AUTOMATIONS","VIEW_AUTOMATION_ANALYTICS","VIEW_KNOWLEDGE_BASE","MANAGE_KNOWLEDGE_BASE","UPLOAD_KNOWLEDGE_SOURCES","MANAGE_KNOWLEDGE_SOURCES","DELETE_KNOWLEDGE_SOURCES","VIEW_INTEGRATIONS","MANAGE_INTEGRATIONS","CONFIGURE_ECOMMERCE","CONNECT_INTEGRATIONS","DISCONNECT_INTEGRATIONS","CONFIGURE_INTEGRATION_SETTINGS","VIEW_CAMPAIGNS","MANAGE_CAMPAIGNS","CREATE_CAMPAIGNS","EXECUTE_CAMPAIGNS","PAUSE_CAMPAIGNS","SEND_BULK_MESSAGES","VIEW_CAMPAIGN_ANALYTICS","USE_AUDIENCE_BUILDER","VIEW_MESSAGE_TEMPLATES","CREATE_MESSAGE_TEMPLATES","MANAGE_MESSAGE_TEMPLATES","SYNC_META_TEMPLATES","DELETE_MESSAGE_TEMPLATES","VIEW_REPORTS","EXPORT_REPORTS","VIEW_ADVANCED_ANALYTICS","VIEW_TEAM_MEMBERS","INVITE_TEAM_MEMBERS","MANAGE_TEAM_ROLES","REMOVE_TEAM_MEMBERS","VIEW_ALL_USERS","INVITE_USERS","MANAGE_USERS","VIEW_BILLING","MANAGE_BILLING","VIEW_USAGE_ANALYTICS","MANAGE_AI_WALLET","MANAGE_WALLET","VIEW_TRANSACTIONS","RECHARGE_WALLET","VIEW_ORGANIZATION_SETTINGS","MANAGE_ORGANIZATION_SETTINGS","EXPORT_ORGANIZATION_DATA","MANAGE_ORGANIZATION","CREATE_CLIENT_ACCOUNTS","DELETE_CAMPAIGNS","VIEW_AUDIENCE_PREVIEW","VIEW_ASSIGNED_CONVERSATIONS","VIEW_ALL_CONVERSATIONS","MANAGE_WHATSAPP_CONFIG","CONFIGURE_AI"];case"DISTRIBUIDOR":return["VIEW_DASHBOARD","VIEW_CRM_INBOX","MANAGE_CRM_CONVERSATIONS","MANAGE_CRM_CONTACTS","VIEW_CRM_ANALYTICS","EXPORT_CRM_DATA","VIEW_CONTACTS","MANAGE_CONTACTS","VIEW_FOLLOW_UPS","CREATE_FOLLOW_UP_SEQUENCES","EXECUTE_FOLLOW_UPS","VIEW_WHATSAPP_CHANNELS","CONNECT_WHATSAPP_QR","CONFIGURE_WHATSAPP_SETTINGS","VIEW_QUICK_REPLIES","MANAGE_QUICK_REPLIES","VIEW_AUTOMATIONS","VIEW_AUTOMATION_ANALYTICS","VIEW_KNOWLEDGE_BASE","UPLOAD_KNOWLEDGE_SOURCES","MANAGE_KNOWLEDGE_SOURCES","VIEW_INTEGRATIONS","CONNECT_INTEGRATIONS","VIEW_CAMPAIGNS","MANAGE_CAMPAIGNS","CREATE_CAMPAIGNS","EXECUTE_CAMPAIGNS","SEND_BULK_MESSAGES","VIEW_CAMPAIGN_ANALYTICS","USE_AUDIENCE_BUILDER","VIEW_MESSAGE_TEMPLATES","CREATE_MESSAGE_TEMPLATES","MANAGE_MESSAGE_TEMPLATES","VIEW_REPORTS","EXPORT_REPORTS","VIEW_TEAM_MEMBERS","VIEW_ALL_USERS","VIEW_BILLING","VIEW_USAGE_ANALYTICS","VIEW_TRANSACTIONS","VIEW_ORGANIZATION_SETTINGS","VIEW_AUDIENCE_PREVIEW","VIEW_ASSIGNED_CONVERSATIONS","MANAGE_CLIENT_ORGANIZATIONS"];default:return["VIEW_DASHBOARD","VIEW_CRM_INBOX","MANAGE_CRM_CONVERSATIONS","VIEW_CRM_ANALYTICS","VIEW_CONTACTS","VIEW_FOLLOW_UPS","EXECUTE_FOLLOW_UPS","VIEW_WHATSAPP_CHANNELS","VIEW_QUICK_REPLIES","MANAGE_QUICK_REPLIES","VIEW_AUTOMATIONS","VIEW_KNOWLEDGE_BASE","VIEW_CAMPAIGNS","VIEW_CAMPAIGN_ANALYTICS","VIEW_MESSAGE_TEMPLATES","VIEW_REPORTS","VIEW_ORGANIZATION_SETTINGS","VIEW_BILLING","VIEW_USAGE_ANALYTICS","VIEW_ASSIGNED_CONVERSATIONS"]}}function S(E,A){return A.some(A=>E.includes(A.toString()))}function T(E,A){return A.every(A=>E.includes(A.toString()))}function O(E,A){let _={"/dashboard":["VIEW_DASHBOARD"],"/campaigns":["VIEW_CAMPAIGNS"],"/campaigns/create":["CREATE_CAMPAIGNS"],"/campaigns/templates":["VIEW_MESSAGE_TEMPLATES"],"/contacts":["VIEW_CONTACTS"],"/reports":["VIEW_REPORTS"],"/integrations":["VIEW_INTEGRATIONS"],"/knowledge":["VIEW_KNOWLEDGE_BASE"],"/automations":["VIEW_AUTOMATIONS"],"/team":["VIEW_TEAM_MEMBERS"],"/billing":["VIEW_BILLING"],"/settings":["VIEW_ORGANIZATION_SETTINGS"],"/whatsapp":["VIEW_WHATSAPP_CHANNELS"]}[A];return!_||S(E,_)}function C(E){switch(E){case"SUPER_ADMIN":case"PROPIETARIO":case"AGENTE":default:return"/dashboard";case"DISTRIBUIDOR":return"/distributor"}}function R(E,A){return I(E).map(E=>E.toString()).includes(A.toString())}function M(E,A){return S(I(E).map(E=>E.toString()),A)}_.d(A,{N$:()=>R,Ol:()=>C,ai:()=>I,mn:()=>O,vr:()=>M,wP:()=>T,y3:()=>N}),function(E){E.VIEW_DASHBOARD="VIEW_DASHBOARD",E.VIEW_CRM_INBOX="VIEW_CRM_INBOX",E.MANAGE_CRM_CONVERSATIONS="MANAGE_CRM_CONVERSATIONS",E.MANAGE_CRM_CONTACTS="MANAGE_CRM_CONTACTS",E.VIEW_CRM_ANALYTICS="VIEW_CRM_ANALYTICS",E.EXPORT_CRM_DATA="EXPORT_CRM_DATA",E.VIEW_CONTACTS="VIEW_CONTACTS",E.MANAGE_CONTACTS="MANAGE_CONTACTS",E.VIEW_FOLLOW_UPS="VIEW_FOLLOW_UPS",E.CREATE_FOLLOW_UP_SEQUENCES="CREATE_FOLLOW_UP_SEQUENCES",E.MANAGE_FOLLOW_UP_SEQUENCES="MANAGE_FOLLOW_UP_SEQUENCES",E.EXECUTE_FOLLOW_UPS="EXECUTE_FOLLOW_UPS",E.VIEW_WHATSAPP_CHANNELS="VIEW_WHATSAPP_CHANNELS",E.MANAGE_WHATSAPP_CHANNELS="MANAGE_WHATSAPP_CHANNELS",E.CONNECT_WHATSAPP_QR="CONNECT_WHATSAPP_QR",E.CONNECT_WHATSAPP_API="CONNECT_WHATSAPP_API",E.CONFIGURE_WHATSAPP_SETTINGS="CONFIGURE_WHATSAPP_SETTINGS",E.VIEW_QUICK_REPLIES="VIEW_QUICK_REPLIES",E.MANAGE_QUICK_REPLIES="MANAGE_QUICK_REPLIES",E.MANAGE_GLOBAL_QUICK_REPLIES="MANAGE_GLOBAL_QUICK_REPLIES",E.VIEW_AUTOMATIONS="VIEW_AUTOMATIONS",E.MANAGE_AUTOMATIONS="MANAGE_AUTOMATIONS",E.VIEW_AUTOMATION_ANALYTICS="VIEW_AUTOMATION_ANALYTICS",E.VIEW_KNOWLEDGE_BASE="VIEW_KNOWLEDGE_BASE",E.MANAGE_KNOWLEDGE_BASE="MANAGE_KNOWLEDGE_BASE",E.UPLOAD_KNOWLEDGE_SOURCES="UPLOAD_KNOWLEDGE_SOURCES",E.MANAGE_KNOWLEDGE_SOURCES="MANAGE_KNOWLEDGE_SOURCES",E.DELETE_KNOWLEDGE_SOURCES="DELETE_KNOWLEDGE_SOURCES",E.VIEW_INTEGRATIONS="VIEW_INTEGRATIONS",E.MANAGE_INTEGRATIONS="MANAGE_INTEGRATIONS",E.CONFIGURE_ECOMMERCE="CONFIGURE_ECOMMERCE",E.CONNECT_INTEGRATIONS="CONNECT_INTEGRATIONS",E.DISCONNECT_INTEGRATIONS="DISCONNECT_INTEGRATIONS",E.CONFIGURE_INTEGRATION_SETTINGS="CONFIGURE_INTEGRATION_SETTINGS",E.VIEW_CAMPAIGNS="VIEW_CAMPAIGNS",E.MANAGE_CAMPAIGNS="MANAGE_CAMPAIGNS",E.CREATE_CAMPAIGNS="CREATE_CAMPAIGNS",E.EXECUTE_CAMPAIGNS="EXECUTE_CAMPAIGNS",E.PAUSE_CAMPAIGNS="PAUSE_CAMPAIGNS",E.SEND_BULK_MESSAGES="SEND_BULK_MESSAGES",E.VIEW_CAMPAIGN_ANALYTICS="VIEW_CAMPAIGN_ANALYTICS",E.USE_AUDIENCE_BUILDER="USE_AUDIENCE_BUILDER",E.VIEW_MESSAGE_TEMPLATES="VIEW_MESSAGE_TEMPLATES",E.CREATE_MESSAGE_TEMPLATES="CREATE_MESSAGE_TEMPLATES",E.MANAGE_MESSAGE_TEMPLATES="MANAGE_MESSAGE_TEMPLATES",E.SYNC_META_TEMPLATES="SYNC_META_TEMPLATES",E.DELETE_MESSAGE_TEMPLATES="DELETE_MESSAGE_TEMPLATES",E.VIEW_REPORTS="VIEW_REPORTS",E.EXPORT_REPORTS="EXPORT_REPORTS",E.VIEW_ADVANCED_ANALYTICS="VIEW_ADVANCED_ANALYTICS",E.VIEW_TEAM_MEMBERS="VIEW_TEAM_MEMBERS",E.INVITE_TEAM_MEMBERS="INVITE_TEAM_MEMBERS",E.MANAGE_TEAM_ROLES="MANAGE_TEAM_ROLES",E.REMOVE_TEAM_MEMBERS="REMOVE_TEAM_MEMBERS",E.VIEW_ALL_USERS="VIEW_ALL_USERS",E.INVITE_USERS="INVITE_USERS",E.MANAGE_USERS="MANAGE_USERS",E.VIEW_BILLING="VIEW_BILLING",E.MANAGE_BILLING="MANAGE_BILLING",E.VIEW_USAGE_ANALYTICS="VIEW_USAGE_ANALYTICS",E.MANAGE_AI_WALLET="MANAGE_AI_WALLET",E.MANAGE_WALLET="MANAGE_WALLET",E.VIEW_TRANSACTIONS="VIEW_TRANSACTIONS",E.RECHARGE_WALLET="RECHARGE_WALLET",E.VIEW_ORGANIZATION_SETTINGS="VIEW_ORGANIZATION_SETTINGS",E.MANAGE_ORGANIZATION_SETTINGS="MANAGE_ORGANIZATION_SETTINGS",E.EXPORT_ORGANIZATION_DATA="EXPORT_ORGANIZATION_DATA",E.MANAGE_ORGANIZATION="MANAGE_ORGANIZATION",E.CREATE_CLIENT_ACCOUNTS="CREATE_CLIENT_ACCOUNTS",E.MANAGE_AI_PROVIDERS="MANAGE_AI_PROVIDERS",E.VIEW_SYSTEM_ANALYTICS="VIEW_SYSTEM_ANALYTICS",E.MANAGE_SYSTEM_SETTINGS="MANAGE_SYSTEM_SETTINGS",E.VIEW_ALL_ORGANIZATIONS="VIEW_ALL_ORGANIZATIONS",E.SUSPEND_ORGANIZATIONS="SUSPEND_ORGANIZATIONS",E.PLATFORM_ADMINISTRATION="PLATFORM_ADMINISTRATION",E.DELETE_CAMPAIGNS="DELETE_CAMPAIGNS",E.VIEW_AUDIENCE_PREVIEW="VIEW_AUDIENCE_PREVIEW",E.VIEW_ASSIGNED_CONVERSATIONS="VIEW_ASSIGNED_CONVERSATIONS",E.VIEW_ALL_CONVERSATIONS="VIEW_ALL_CONVERSATIONS",E.MANAGE_CLIENT_ORGANIZATIONS="MANAGE_CLIENT_ORGANIZATIONS",E.MANAGE_WHATSAPP_CONFIG="MANAGE_WHATSAPP_CONFIG",E.CONFIGURE_AI="CONFIGURE_AI"}(N||(N={}))}};