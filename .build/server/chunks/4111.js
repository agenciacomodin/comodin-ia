"use strict";exports.id=4111,exports.ids=[4111],exports.modules={3844:(e,a,s)=>{s.d(a,{default:()=>Z});var t=s(62901),i=s(24383),r=s(23803),n=s(27878),l=s(31606),d=s(82657),o=s(72388),c=s(63234),m=s(7313),h=s(545),x=s(68537),u=s(97718),p=s(91334),f=s(10780),j=s(82063),g=s(66843);let v=(0,s(71945).Z)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);var y=s(16501),N=s(71028),b=s(9233),w=s(76021),C=s(61673),k=s(7639),S=s(68637),E=s(60437);function Z({initialFilters:e=[],onFiltersChange:a,onPreviewGenerated:s,campaignId:d,className:o}){let[c,m]=(0,i.useState)(e),[h,N]=(0,i.useState)(null),[b,w]=(0,i.useState)(!1),[Z,T]=(0,i.useState)([]),[A,P]=(0,i.useState)([]),{toast:_}=(0,E.pm)(),R=()=>{m([...c,{type:"INCLUDE_TAG",operator:"AND",configuration:{}}])},L=(e,a)=>{let s=[...c];s[e]=a,m(s)},D=e=>{c.length>1&&m(c.filter((a,s)=>s!==e))},z=async()=>{if(0===c.length){_({title:"Error",description:"Agrega al menos un filtro para generar la vista previa",variant:"destructive"});return}try{w(!0);let e=await fetch("/api/campaigns/audience-preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filters:c,campaignId:d})}),a=await e.json();if(a.success)N(a.data),s?.(a.data),_({title:"Vista previa generada",description:`Se encontraron ${a.data.totalContacts} contactos que coinciden con los criterios`});else throw Error(a.error)}catch(e){console.error("Error generating preview:",e),_({title:"Error",description:"Error al generar la vista previa de audiencia",variant:"destructive"})}finally{w(!1)}};return 0===c.length&&R(),(0,t.jsxs)("div",{className:(0,S.cn)("space-y-6",o),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold flex items-center",children:[t.jsx(x.Z,{className:"mr-2 h-5 w-5"}),"Constructor de Audiencias Avanzado"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Define tu p\xfablico objetivo con precisi\xf3n quir\xfargica usando m\xfaltiples criterios"})]}),(0,t.jsxs)(n.z,{onClick:R,size:"sm",children:[t.jsx(u.Z,{className:"mr-2 h-4 w-4"}),"A\xf1adir Filtro"]})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[t.jsx(r.ll,{className:"text-base",children:"Criterios de Segmentaci\xf3n"}),t.jsx(r.SZ,{children:"Los contactos deben cumplir con los criterios definidos a continuaci\xf3n"})]}),t.jsx(r.aY,{className:"space-y-4",children:c.map((e,a)=>t.jsx(M,{filter:e,index:a,availableTags:Z,availableChannels:A,canRemove:c.length>1,onChange:e=>L(a,e),onRemove:()=>D(a)},a))})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)(r.ll,{className:"text-base flex items-center",children:[t.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Vista Previa de Audiencia"]}),t.jsx(r.SZ,{children:"Genera una vista previa para ver qu\xe9 contactos se incluir\xe1n en la campa\xf1a"})]}),(0,t.jsxs)(r.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:h?`\xdaltima actualizaci\xf3n: ${(0,C.WU)(new Date(h.createdAt),"dd/MM/yyyy HH:mm",{locale:k.es})}`:"No se ha generado una vista previa a\xfan"}),t.jsx(n.z,{onClick:z,disabled:b,size:"sm",children:b?(0,t.jsxs)(t.Fragment,{children:[t.jsx(f.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Generando..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(j.Z,{className:"mr-2 h-4 w-4"}),"Generar Vista Previa"]})})]}),h&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsxs)("div",{className:"bg-primary/10 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(g.Z,{className:"h-5 w-5 text-primary"}),t.jsx("span",{className:"font-medium",children:"Total de Contactos"})]}),t.jsx("p",{className:"text-2xl font-bold text-primary mt-1",children:h.totalContacts.toLocaleString()})]}),(0,t.jsxs)("div",{className:"bg-yellow-500/10 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(v,{className:"h-5 w-5 text-yellow-600"}),t.jsx("span",{className:"font-medium",children:"Contactos VIP"})]}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:h.vipCount.toLocaleString()}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[h.totalContacts>0?(h.vipCount/h.totalContacts*100).toFixed(1):0,"% del total"]})]}),(0,t.jsxs)("div",{className:"bg-blue-500/10 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(y.Z,{className:"h-5 w-5 text-blue-600"}),t.jsx("span",{className:"font-medium",children:"Tiempo de Procesamiento"})]}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:[h.processingTime,"ms"]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)(r.Zb,{children:[t.jsx(r.Ol,{className:"pb-3",children:t.jsx(r.ll,{className:"text-sm",children:"Distribuci\xf3n por Canal"})}),t.jsx(r.aY,{children:t.jsx("div",{className:"space-y-2",children:Object.entries(h.channelsDistribution||{}).map(([e,a])=>(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm",children:e}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${h.totalContacts>0?a/h.totalContacts*100:0}%`}})}),t.jsx("span",{className:"text-sm font-medium w-8 text-right",children:a})]})]},e))})})]}),(0,t.jsxs)(r.Zb,{children:[t.jsx(r.Ol,{className:"pb-3",children:t.jsx(r.ll,{className:"text-sm",children:"Distribuci\xf3n por Etiquetas"})}),t.jsx(r.aY,{children:t.jsx("div",{className:"space-y-2",children:Object.entries(h.tagsDistribution||{}).slice(0,5).map(([e,a])=>(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm",children:e}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${h.totalContacts>0?a/h.totalContacts*100:0}%`}})}),t.jsx("span",{className:"text-sm font-medium w-8 text-right",children:a})]})]},e))})})]})]}),h.sampleContacts&&h.sampleContacts.length>0&&(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{className:"pb-3",children:[t.jsx(r.ll,{className:"text-sm",children:"Muestra de Contactos"}),(0,t.jsxs)(r.SZ,{children:["Primeros ",h.sampleContacts.length," contactos que coinciden con los criterios"]})]}),t.jsx(r.aY,{children:t.jsx("div",{className:"space-y-3",children:h.sampleContacts.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white text-sm font-medium",children:e.name.charAt(0).toUpperCase()}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium",children:e.name}),e.isVip&&t.jsx(v,{className:"h-4 w-4 text-yellow-500"})]}),t.jsx("span",{className:"text-sm text-muted-foreground",children:e.phone})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[e.tags.map(e=>t.jsx(l.C,{variant:"secondary",className:"text-xs",children:e},e)),e.lastContact&&(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["\xdaltimo contacto: ",(0,C.WU)(new Date(e.lastContact),"dd/MM",{locale:k.es})]})]})]},e.id))})})]})]})]})]})]})}function M({filter:e,index:a,availableTags:s,availableChannels:i,canRemove:c,onChange:m,onRemove:h}){let x=a=>{m({...e,...a})};return t.jsx(r.Zb,{className:"relative",children:(0,t.jsxs)(r.aY,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(l.C,{variant:"outline",className:"text-xs",children:["Filtro ",a+1]}),a>0&&(0,t.jsxs)(o.Ph,{value:e.operator,onValueChange:e=>x({operator:e}),children:[t.jsx(o.i4,{className:"w-20 h-7",children:t.jsx(o.ki,{})}),(0,t.jsxs)(o.Bw,{children:[t.jsx(o.Ql,{value:"AND",children:"Y"}),t.jsx(o.Ql,{value:"OR",children:"O"})]})]})]}),c&&t.jsx(n.z,{variant:"ghost",size:"sm",onClick:h,className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",children:t.jsx(N.Z,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(d.Label,{children:"Tipo de filtro"}),(0,t.jsxs)(o.Ph,{value:e.type,onValueChange:e=>x({type:e,configuration:{}}),children:[t.jsx(o.i4,{children:t.jsx(o.ki,{placeholder:"Selecciona el tipo de filtro"})}),(0,t.jsxs)(o.Bw,{children:[t.jsx(o.Ql,{value:"INCLUDE_TAG",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(b.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Incluir etiqueta"})]})}),t.jsx(o.Ql,{value:"EXCLUDE_TAG",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(b.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Excluir etiqueta"})]})}),t.jsx(o.Ql,{value:"CHANNEL",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(y.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Canal de origen"})]})}),t.jsx(o.Ql,{value:"VIP_STATUS",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(v,{className:"h-4 w-4"}),t.jsx("span",{children:"Estado VIP"})]})}),t.jsx(o.Ql,{value:"LAST_CONTACT",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(w.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"\xdaltimo contacto"})]})}),t.jsx(o.Ql,{value:"CONVERSATION_STATUS",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(y.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Estado de conversaci\xf3n"})]})})]})]})]}),t.jsx(T,{filterType:e.type,configuration:e.configuration,availableTags:s,availableChannels:i,onChange:a=>{m({...e,configuration:{...e.configuration,...a}})}})]})]})})}function T({filterType:e,configuration:a,availableTags:s,availableChannels:r,onChange:x}){let[u,p]=(0,i.useState)(a.tagNames||[]),[f,j]=(0,i.useState)(a.channelIds||[]),[g,v]=(0,i.useState)(a.lastContactAfter?new Date(a.lastContactAfter):void 0),[y,N]=(0,i.useState)(a.lastContactBefore?new Date(a.lastContactBefore):void 0);switch(e){case"INCLUDE_TAG":case"EXCLUDE_TAG":return(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(d.Label,{children:"INCLUDE_TAG"===e?"Los contactos DEBEN TENER estas etiquetas:":"Los contactos NO DEBEN TENER estas etiquetas:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(c.X,{id:`tag-${e}`,checked:u.includes(e),onCheckedChange:a=>{a?p([...u,e]):p(u.filter(a=>a!==e))}}),t.jsx(d.Label,{htmlFor:`tag-${e}`,className:"text-sm font-normal",children:e})]},e))}),u.length>0&&(0,t.jsxs)("div",{className:"mt-2",children:[t.jsx(d.Label,{className:"text-xs text-muted-foreground",children:"Etiquetas seleccionadas:"}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:u.map(e=>t.jsx(l.C,{variant:"secondary",className:"text-xs",children:e},e))})]})]});case"CHANNEL":return(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(d.Label,{children:"El canal DEBE SER:"}),t.jsx("div",{className:"space-y-2",children:r.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(c.X,{id:`channel-${e.id}`,checked:f.includes(e.id),onCheckedChange:a=>{a?j([...f,e.id]):j(f.filter(a=>a!==e.id))}}),t.jsx(d.Label,{htmlFor:`channel-${e.id}`,className:"text-sm font-normal",children:e.name})]},e.id))})]});case"VIP_STATUS":return(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(d.Label,{children:"Estado VIP:"}),(0,t.jsxs)(o.Ph,{value:!0===a.vipStatus?"vip":!1===a.vipStatus?"regular":"all",onValueChange:e=>{x({...a,vipStatus:"vip"===e||"regular"!==e&&null})},children:[t.jsx(o.i4,{children:t.jsx(o.ki,{placeholder:"Selecciona estado VIP"})}),(0,t.jsxs)(o.Bw,{children:[t.jsx(o.Ql,{value:"all",children:"Todos los contactos"}),t.jsx(o.Ql,{value:"vip",children:"Solo contactos VIP"}),t.jsx(o.Ql,{value:"regular",children:"Solo contactos regulares"})]})]})]});case"LAST_CONTACT":return(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(d.Label,{children:"\xdaltimo contacto desde:"}),(0,t.jsxs)(h.J2,{children:[t.jsx(h.xo,{asChild:!0,children:(0,t.jsxs)(n.z,{variant:"outline",className:(0,S.cn)("justify-start text-left font-normal",!g&&"text-muted-foreground"),children:[t.jsx(w.Z,{className:"mr-2 h-4 w-4"}),g?(0,C.WU)(g,"dd/MM/yyyy",{locale:k.es}):"Seleccionar fecha"]})}),t.jsx(h.yk,{className:"w-auto p-0",children:t.jsx(m.f,{mode:"single",selected:g,onSelect:v,initialFocus:!0})})]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(d.Label,{children:"\xdaltimo contacto hasta:"}),(0,t.jsxs)(h.J2,{children:[t.jsx(h.xo,{asChild:!0,children:(0,t.jsxs)(n.z,{variant:"outline",className:(0,S.cn)("justify-start text-left font-normal",!y&&"text-muted-foreground"),children:[t.jsx(w.Z,{className:"mr-2 h-4 w-4"}),y?(0,C.WU)(y,"dd/MM/yyyy",{locale:k.es}):"Seleccionar fecha"]})}),t.jsx(h.yk,{className:"w-auto p-0",children:t.jsx(m.f,{mode:"single",selected:y,onSelect:N,initialFocus:!0})})]})]})]});case"CONVERSATION_STATUS":return(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(d.Label,{children:"Estado de conversaci\xf3n:"}),t.jsx("div",{className:"space-y-2",children:["OPEN","PENDING","RESOLVED","TRANSFERRED","ARCHIVED"].map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(c.X,{id:`status-${e}`,checked:(a.conversationStatuses||[]).includes(e),onCheckedChange:s=>{let t=a.conversationStatuses||[],i=s?[...t,e]:t.filter(a=>a!==e);x({...a,conversationStatuses:i})}}),t.jsx(d.Label,{htmlFor:`status-${e}`,className:"text-sm font-normal",children:"OPEN"===e?"Abierta":"PENDING"===e?"Pendiente":"RESOLVED"===e?"Resuelta":"TRANSFERRED"===e?"Transferida":"ARCHIVED"===e?"Archivada":e})]},e))})]});default:return t.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Selecciona un tipo de filtro para configurar las opciones"})}}},7313:(e,a,s)=>{s.d(a,{f:()=>o});var t=s(62901);s(24383);var i=s(96527),r=s(60004),n=s(20972),l=s(68637),d=s(27878);function o({className:e,classNames:a,showOutsideDays:s=!0,...o}){return t.jsx(n._W,{showOutsideDays:s,className:(0,l.cn)("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,l.cn)((0,d.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,l.cn)((0,d.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:({...e})=>t.jsx(i.Z,{className:"h-4 w-4"}),IconRight:({...e})=>t.jsx(r.Z,{className:"h-4 w-4"})},...o})}o.displayName="Calendar"},23803:(e,a,s)=>{s.d(a,{Ol:()=>l,SZ:()=>o,Zb:()=>n,aY:()=>c,eW:()=>m,ll:()=>d});var t=s(62901),i=s(24383),r=s(68637);let n=i.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));n.displayName="Card";let l=i.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...a}));l.displayName="CardHeader";let d=i.forwardRef(({className:e,...a},s)=>t.jsx("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));d.displayName="CardTitle";let o=i.forwardRef(({className:e,...a},s)=>t.jsx("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",e),...a}));o.displayName="CardDescription";let c=i.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,r.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent";let m=i.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",e),...a}));m.displayName="CardFooter"},63234:(e,a,s)=>{s.d(a,{X:()=>d});var t=s(62901),i=s(24383),r=s(52838),n=s(85453),l=s(68637);let d=i.forwardRef(({className:e,...a},s)=>t.jsx(r.fC,{ref:s,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...a,children:t.jsx(r.z$,{className:(0,l.cn)("flex items-center justify-center text-current"),children:t.jsx(n.Z,{className:"h-4 w-4"})})}));d.displayName=r.fC.displayName},82657:(e,a,s)=>{s.d(a,{Label:()=>o});var t=s(62901),i=s(24383),r=s(8388),n=s(47279),l=s(68637);let d=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=i.forwardRef(({className:e,...a},s)=>t.jsx(r.f,{ref:s,className:(0,l.cn)(d(),e),...a}));o.displayName=r.f.displayName},545:(e,a,s)=>{s.d(a,{J2:()=>l,xo:()=>d,yk:()=>o});var t=s(62901),i=s(24383),r=s(82829),n=s(68637);let l=r.fC,d=r.xz,o=i.forwardRef(({className:e,align:a="center",sideOffset:s=4,...i},l)=>t.jsx(r.h_,{children:t.jsx(r.VY,{ref:l,align:a,sideOffset:s,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...i})}));o.displayName=r.VY.displayName},72388:(e,a,s)=>{s.d(a,{Bw:()=>p,Ph:()=>c,Ql:()=>f,i4:()=>h,ki:()=>m});var t=s(62901),i=s(24383),r=s(76960),n=s(7259),l=s(26026),d=s(85453),o=s(68637);let c=r.fC;r.ZA;let m=r.B4,h=i.forwardRef(({className:e,children:a,...s},i)=>(0,t.jsxs)(r.xz,{ref:i,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[a,t.jsx(r.JO,{asChild:!0,children:t.jsx(n.Z,{className:"h-4 w-4 opacity-50"})})]}));h.displayName=r.xz.displayName;let x=i.forwardRef(({className:e,...a},s)=>t.jsx(r.u_,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:t.jsx(l.Z,{className:"h-4 w-4"})}));x.displayName=r.u_.displayName;let u=i.forwardRef(({className:e,...a},s)=>t.jsx(r.$G,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:t.jsx(n.Z,{className:"h-4 w-4"})}));u.displayName=r.$G.displayName;let p=i.forwardRef(({className:e,children:a,position:s="popper",...i},n)=>t.jsx(r.h_,{children:(0,t.jsxs)(r.VY,{ref:n,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...i,children:[t.jsx(x,{}),t.jsx(r.l_,{className:(0,o.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),t.jsx(u,{})]})}));p.displayName=r.VY.displayName,i.forwardRef(({className:e,...a},s)=>t.jsx(r.__,{ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=r.__.displayName;let f=i.forwardRef(({className:e,children:a,...s},i)=>(0,t.jsxs)(r.ck,{ref:i,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(r.wU,{children:t.jsx(d.Z,{className:"h-4 w-4"})})}),t.jsx(r.eT,{children:a})]}));f.displayName=r.ck.displayName,i.forwardRef(({className:e,...a},s)=>t.jsx(r.Z0,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=r.Z0.displayName},91334:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},16501:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},97718:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},10780:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},9233:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},71028:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},82063:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},69910:(e,a,s)=>{s.r(a),s.d(a,{default:()=>d});var t=s(83537),i=s(1507),r=s(15438),n=s(97973),l=s(77516);async function d({children:e}){try{await (0,i.BN)()}catch(e){(0,r.redirect)("/auth/login")}return(0,t.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[t.jsx(n._,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsx(l.c,{}),t.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})}},7639:(e,a,s)=>{s.d(a,{es:()=>h});let t={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d\xeda",other:"{{count}} d\xedas"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a\xf1o",other:"alrededor de {{count}} a\xf1os"},xYears:{one:"1 a\xf1o",other:"{{count}} a\xf1os"},overXYears:{one:"m\xe1s de 1 a\xf1o",other:"m\xe1s de {{count}} a\xf1os"},almostXYears:{one:"casi 1 a\xf1o",other:"casi {{count}} a\xf1os"}};var i=s(72054);let r={date:(0,i.l)({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:(0,i.l)({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,i.l)({formats:{full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},n={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma\xf1ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},l={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma\xf1ana a las' p",nextWeek:"eeee 'a las' p",other:"P"};var d=s(83882);let o={ordinalNumber:(e,a)=>Number(e)+"\xba",era:(0,d.Y)({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu\xe9s de cristo"]},defaultWidth:"wide"}),quarter:(0,d.Y)({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:(0,d.Y)({values:{narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},defaultWidth:"wide"}),day:(0,d.Y)({values:{narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s\xe1"],abbreviated:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],wide:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"]},defaultWidth:"wide"}),dayPeriod:(0,d.Y)({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},defaultFormattingWidth:"wide"})};var c=s(13050),m=s(15259);let h={code:"es",formatDistance:(e,a,s)=>{let i;let r=t[e];return(i="string"==typeof r?r:1===a?r.one:r.other.replace("{{count}}",a.toString()),s?.addSuffix)?s.comparison&&s.comparison>0?"en "+i:"hace "+i:i},formatLong:r,formatRelative:(e,a,s,t)=>1!==a.getHours()?l[e]:n[e],localize:o,match:{ordinalNumber:(0,c.y)({matchPattern:/^(\d+)(º)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,m.t)({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},defaultParseWidth:"any"}),quarter:(0,m.t)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:(0,m.t)({matchPatterns:{narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},defaultParseWidth:"any"}),day:(0,m.t)({matchPatterns:{narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,m.t)({matchPatterns:{narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}}}};