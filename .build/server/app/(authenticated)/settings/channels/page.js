(()=>{var e={};e.id=1935,e.ids=[1935],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},95448:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d}),s(19517),s(69910),s(71363),s(15307);var t=s(36576),n=s(72007),r=s(21818),i=s.n(r),l=s(88897),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(a,c);let d=["",{children:["(authenticated)",{children:["settings",{children:["channels",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,19517)),"/home/ubuntu/comodin_ia/app/app/(authenticated)/settings/channels/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,69910)),"/home/ubuntu/comodin_ia/app/app/(authenticated)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,71363,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,15307)),"/home/ubuntu/comodin_ia/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,71363,23)),"next/dist/client/components/not-found-error"]}],o=["/home/ubuntu/comodin_ia/app/app/(authenticated)/settings/channels/page.tsx"],x="/(authenticated)/settings/channels/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(authenticated)/settings/channels/page",pathname:"/settings/channels",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},16747:(e,a,s)=>{Promise.resolve().then(s.bind(s,29609))},29609:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>Y});var t=s(62901),n=s(24383),r=s(84700),i=s(87752),l=s(48119),c=s(23803),d=s(27878),o=s(31606),x=s(84227),m=s(23094),u=s(21391),h=s(71945);let p=(0,h.Z)("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var g=s(21680),j=s(97718),N=s(12280);let f=(0,h.Z)("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);var v=s(67935);let y=(0,h.Z)("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);var b=s(250),C=s(82657),E=s(52),w=s(84377),A=s(10780);function I({onChannelCreated:e,onBack:a}){let[s,r]=(0,n.useState)(null),[i,l]=(0,n.useState)(""),[x,h]=(0,n.useState)(""),[p,j]=(0,n.useState)(""),[N,f]=(0,n.useState)(""),[v,I]=(0,n.useState)(!1),[S,R]=(0,n.useState)(!1),T=async()=>{if(i&&x){R(!0);try{await new Promise(e=>setTimeout(e,2e3)),r({qrCode:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2ZmZiIvPjx0ZXh0IHg9IjEwMCIgeT0iMTAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiMzMzMiIHRleHQtYW5jaG9yPSJtaWRkbGUiPkNvZGlnbyBRUjwvdGV4dD48L3N2Zz4=",expiration:new Date(Date.now()+3e5),status:"WAITING",connectionId:`qr_${Date.now()}`}),setTimeout(()=>{r(e=>e?{...e,status:"SCANNING"}:null)},3e3),setTimeout(()=>{r(e=>e?{...e,status:"SUCCESS"}:null)},8e3)}catch(e){console.error("Error generando QR:",e),r(e=>e?{...e,status:"ERROR"}:null)}finally{R(!1)}}},D=()=>{if(!s)return"gray";switch(s.status){case"WAITING":return"blue";case"SCANNING":return"yellow";case"SUCCESS":return"green";case"ERROR":case"EXPIRED":return"red";default:return"gray"}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Conexi\xf3n R\xe1pida (QR)"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"La forma m\xe1s f\xe1cil de conectar WhatsApp a tu plataforma"})]}),t.jsx(d.z,{variant:"outline",onClick:a,children:"Volver"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[t.jsx(c.ll,{children:"Configuraci\xf3n del Canal"}),t.jsx(c.SZ,{children:"Configura los detalles de tu nuevo canal de WhatsApp"})]}),(0,t.jsxs)(c.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(C.Label,{htmlFor:"channel-name",children:"Nombre del Canal"}),t.jsx(b.I,{id:"channel-name",value:i,onChange:e=>l(e.target.value),placeholder:"Ej: Soporte Principal",disabled:s?.status==="SUCCESS"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(C.Label,{htmlFor:"phone-number",children:"N\xfamero de Tel\xe9fono"}),t.jsx(b.I,{id:"phone-number",value:x,onChange:e=>h(e.target.value),placeholder:"+52 55 1234 5678",disabled:s?.status==="SUCCESS"}),t.jsx("p",{className:"text-xs text-gray-500",children:"N\xfamero que aparecer\xe1 asociado a este canal"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(C.Label,{htmlFor:"welcome-message",children:"Mensaje de Bienvenida (Opcional)"}),t.jsx(E.g,{id:"welcome-message",value:p,onChange:e=>j(e.target.value),placeholder:"Mensaje autom\xe1tico para nuevos contactos",rows:3,disabled:s?.status==="SUCCESS"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(C.Label,{htmlFor:"auto-reply",children:"Respuesta Autom\xe1tica (Opcional)"}),t.jsx(E.g,{id:"auto-reply",value:N,onChange:e=>f(e.target.value),placeholder:"Mensaje fuera del horario de atenci\xf3n",rows:3,disabled:s?.status==="SUCCESS"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx(C.Label,{children:"Canal Predeterminado"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Usar este canal como predeterminado para nuevas conversaciones"})]}),t.jsx(w.Switch,{checked:v,onCheckedChange:I,disabled:s?.status==="SUCCESS"})]}),t.jsx("div",{className:"pt-4",children:s?"SUCCESS"===s.status?(0,t.jsxs)(d.z,{onClick:()=>{s&&"SUCCESS"===s.status&&(e({id:`channel_${Date.now()}`,name:i,phone:x,connectionType:"QR_CODE",status:"CONNECTED",isActive:!0,isDefault:v,messagesReceived:0,messagesSent:0,connectedAt:new Date}),a())},className:"w-full bg-blue-600 hover:bg-blue-700",children:[t.jsx(m.Z,{className:"h-4 w-4 mr-2"}),"Completar Configuraci\xf3n"]}):t.jsx(d.z,{onClick:()=>{r(null),l(""),h(""),j(""),f(""),I(!1)},variant:"outline",className:"w-full",children:"Reintentar"}):t.jsx(d.z,{onClick:T,disabled:!i||!x||S,className:"w-full bg-green-600 hover:bg-green-700",children:S?(0,t.jsxs)(t.Fragment,{children:[t.jsx(A.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Generando QR..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(y,{className:"h-4 w-4 mr-2"}),"Generar C\xf3digo QR"]})})})]})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[t.jsx(c.ll,{children:"C\xf3digo QR"}),t.jsx(c.SZ,{children:"Escanea este c\xf3digo desde WhatsApp en tu tel\xe9fono"})]}),t.jsx(c.aY,{children:s?(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[(()=>{if(!s)return null;switch(s.status){case"WAITING":return t.jsx(u.Z,{className:"h-4 w-4 text-blue-600"});case"SCANNING":return t.jsx(A.Z,{className:"h-4 w-4 text-yellow-600 animate-spin"});case"SUCCESS":return t.jsx(m.Z,{className:"h-4 w-4 text-green-600"});case"ERROR":case"EXPIRED":return t.jsx(g.Z,{className:"h-4 w-4 text-red-600"});default:return null}})(),t.jsx(o.C,{variant:"green"===D()?"default":"outline",className:`${"green"===D()?"bg-green-100 text-green-800":"blue"===D()?"bg-blue-100 text-blue-800":"yellow"===D()?"bg-yellow-100 text-yellow-800":"red"===D()?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:(()=>{if(!s)return"";switch(s.status){case"WAITING":return"Esperando escaneo...";case"SCANNING":return"Conectando con WhatsApp...";case"SUCCESS":return"\xa1Conectado exitosamente!";case"ERROR":return"Error en la conexi\xf3n";case"EXPIRED":return"El c\xf3digo QR ha expirado";default:return""}})()})]}),("WAITING"===s.status||"SCANNING"===s.status)&&t.jsx("div",{className:"bg-white p-4 border-2 border-gray-200 rounded-lg inline-block",children:t.jsx("img",{src:s.qrCode,alt:"C\xf3digo QR de WhatsApp",className:"w-48 h-48"})}),"WAITING"===s.status&&(0,t.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[t.jsx("p",{children:"1. Abre WhatsApp en tu tel\xe9fono"}),t.jsx("p",{children:"2. Ve a Configuraci\xf3n → Dispositivos vinculados"}),t.jsx("p",{children:'3. Toca "Vincular un dispositivo"'}),t.jsx("p",{children:"4. Escanea este c\xf3digo QR"})]}),"SUCCESS"===s.status&&(0,t.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg",children:[t.jsx(m.Z,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),t.jsx("p",{className:"text-green-800 font-medium",children:"\xa1WhatsApp conectado exitosamente!"}),t.jsx("p",{className:"text-green-600 text-sm mt-1",children:"Tu canal est\xe1 listo para recibir mensajes"})]}),("ERROR"===s.status||"EXPIRED"===s.status)&&(0,t.jsxs)("div",{className:"p-4 bg-red-50 rounded-lg",children:[t.jsx(g.Z,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),t.jsx("p",{className:"text-red-800 font-medium",children:"EXPIRED"===s.status?"El c\xf3digo QR ha expirado":"Error en la conexi\xf3n"}),t.jsx("p",{className:"text-red-600 text-sm mt-1",children:"Intenta generar un nuevo c\xf3digo"})]}),"WAITING"===s.status&&t.jsx("p",{className:"text-xs text-gray-500",children:"El c\xf3digo expira en 5 minutos"})]}):(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-lg flex items-center justify-center",children:t.jsx(y,{className:"w-12 h-12 text-gray-400"})}),t.jsx("p",{className:"text-gray-500",children:"Completa la configuraci\xf3n para generar el c\xf3digo QR"})]})})]})]})]})}var S=s(80568),R=s(44928),T=s(83898);let D=(0,h.Z)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);var k=s(34216),P=s(91334),M=s(82333),O=s(39350);function Z({onChannelCreated:e,onBack:a}){let[s,r]=(0,n.useState)(""),[i,l]=(0,n.useState)(""),[o,u]=(0,n.useState)(""),[h,p]=(0,n.useState)(""),[j,N]=(0,n.useState)(""),[f,v]=(0,n.useState)(""),[y,A]=(0,n.useState)(""),[I,Z]=(0,n.useState)(""),[_,L]=(0,n.useState)(""),[V,G]=(0,n.useState)(""),[z,U]=(0,n.useState)(!1),[W,F]=(0,n.useState)(!1),[H,B]=(0,n.useState)(!1),[q,Y]=(0,n.useState)("idle"),Q=async(e,a)=>{try{await navigator.clipboard.writeText(e),O.Am.success(`${a} copiado al portapapeles`)}catch(e){O.Am.error("Error al copiar")}},X=async()=>{if(!o||!h||!f)return O.Am.error("Por favor completa todos los campos requeridos"),!1;B(!0),Y("testing");try{if(await new Promise(e=>setTimeout(e,3e3)),Math.random()>.3)return Y("success"),!0;return Y("error"),O.Am.error("Las credenciales no son v\xe1lidas"),!1}catch(e){return Y("error"),O.Am.error("Error al validar las credenciales"),!1}finally{B(!1)}},$=async()=>{await X()&&s&&i&&(e({id:`channel_${Date.now()}`,name:s,phone:i,connectionType:"API_OFFICIAL",status:"CONNECTED",isActive:!0,isDefault:z,messagesReceived:0,messagesSent:0,connectedAt:new Date}),O.Am.success("Canal creado exitosamente"),a())},K="https://tudominio.com/api/webhooks/whatsapp";return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Conexi\xf3n Profesional (API)"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Conecta usando la API oficial de Meta para funcionalidades avanzadas"})]}),t.jsx(d.z,{variant:"outline",onClick:a,children:"Volver"})]}),(0,t.jsxs)(S.bZ,{className:"border-blue-200 bg-blue-50",children:[t.jsx(R.Z,{className:"h-4 w-4 text-blue-600"}),(0,t.jsxs)(S.X,{className:"text-blue-800",children:[t.jsx("strong",{children:"Conexi\xf3n Profesional:"})," Esta opci\xf3n requiere una cuenta de Meta Business y configuraci\xf3n avanzada. Ofrece mayor control, estad\xedsticas detalladas y capacidad de automatizaci\xf3n."]})]}),(0,t.jsxs)(x.Tabs,{defaultValue:"setup",className:"space-y-6",children:[(0,t.jsxs)(x.TabsList,{className:"grid w-full grid-cols-3",children:[t.jsx(x.TabsTrigger,{value:"setup",children:"Configuraci\xf3n Inicial"}),t.jsx(x.TabsTrigger,{value:"credentials",children:"Credenciales API"}),t.jsx(x.TabsTrigger,{value:"advanced",children:"Configuraci\xf3n Avanzada"})]}),(0,t.jsxs)(x.TabsContent,{value:"setup",className:"space-y-6",children:[(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[t.jsx(c.ll,{children:"Informaci\xf3n del Canal"}),t.jsx(c.SZ,{children:"Configuraci\xf3n b\xe1sica de tu canal profesional"})]}),(0,t.jsxs)(c.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(C.Label,{htmlFor:"api-channel-name",children:"Nombre del Canal *"}),t.jsx(b.I,{id:"api-channel-name",value:s,onChange:e=>r(e.target.value),placeholder:"Ej: Ventas Profesional"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(C.Label,{htmlFor:"api-phone-number",children:"N\xfamero de Tel\xe9fono *"}),t.jsx(b.I,{id:"api-phone-number",value:i,onChange:e=>l(e.target.value),placeholder:"+52 55 1234 5678"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,t.jsxs)("div",{children:[t.jsx(C.Label,{children:"Canal Predeterminado"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Usar este canal como predeterminado para nuevas conversaciones"})]}),t.jsx(w.Switch,{checked:z,onCheckedChange:U})]})]})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[t.jsx(c.ll,{children:"Gu\xeda de Configuraci\xf3n"}),t.jsx(c.SZ,{children:"Pasos para obtener las credenciales de la API de Meta"})]}),t.jsx(c.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 text-blue-600 text-sm font-semibold flex items-center justify-center",children:"1"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium",children:"Crear una App de Meta"}),t.jsx("p",{className:"text-sm text-gray-600",children:'Ve a Meta for Developers y crea una nueva aplicaci\xf3n de tipo "Business"'}),t.jsx(d.z,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:(0,t.jsxs)("a",{href:"https://developers.facebook.com/apps",target:"_blank",rel:"noopener noreferrer",children:[t.jsx(T.Z,{className:"h-3 w-3 mr-1"}),"Ir a Meta Developers"]})})]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 text-blue-600 text-sm font-semibold flex items-center justify-center",children:"2"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium",children:"Configurar WhatsApp Business API"}),t.jsx("p",{className:"text-sm text-gray-600",children:'Agrega el producto "WhatsApp" a tu aplicaci\xf3n y configura tu n\xfamero de tel\xe9fono'})]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 text-blue-600 text-sm font-semibold flex items-center justify-center",children:"3"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium",children:"Obtener Credenciales"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Copia el Access Token, App ID, y Phone Number ID desde el panel de Meta"})]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 text-blue-600 text-sm font-semibold flex items-center justify-center",children:"4"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium",children:"Configurar Webhook"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Configura el webhook para recibir mensajes entrantes"})]})]})]})})]})]}),t.jsx(x.TabsContent,{value:"credentials",className:"space-y-6",children:(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsxs)(c.ll,{className:"flex items-center space-x-2",children:[t.jsx(D,{className:"h-5 w-5"}),t.jsx("span",{children:"Credenciales de la API de Meta"})]}),t.jsx(c.SZ,{children:"Introduce las credenciales obtenidas de tu aplicaci\xf3n de Meta"})]}),(0,t.jsxs)(c.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(C.Label,{htmlFor:"access-token",children:"Access Token *"}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[t.jsx(b.I,{id:"access-token",type:W?"text":"password",value:o,onChange:e=>u(e.target.value),placeholder:"EAAxxxxxxxxxxxxxxxxxxxx"}),t.jsx(d.z,{variant:"outline",size:"sm",onClick:()=>F(!W),children:W?t.jsx(k.Z,{className:"h-4 w-4"}):t.jsx(P.Z,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Token de acceso de tu aplicaci\xf3n de Meta"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(C.Label,{htmlFor:"app-id",children:"App ID *"}),t.jsx(b.I,{id:"app-id",value:h,onChange:e=>p(e.target.value),placeholder:"1234567890123456"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(C.Label,{htmlFor:"app-secret",children:"App Secret"}),t.jsx(b.I,{id:"app-secret",type:W?"text":"password",value:j,onChange:e=>N(e.target.value),placeholder:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(C.Label,{htmlFor:"phone-number-id",children:"Phone Number ID *"}),t.jsx(b.I,{id:"phone-number-id",value:f,onChange:e=>v(e.target.value),placeholder:"1234567890123456"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(C.Label,{htmlFor:"business-account-id",children:"Business Account ID"}),t.jsx(b.I,{id:"business-account-id",value:y,onChange:e=>A(e.target.value),placeholder:"1234567890123456"})]})]}),(0,t.jsxs)("div",{className:"pt-4 border-t",children:[t.jsx("h4",{className:"font-medium mb-3",children:"Configuraci\xf3n de Webhook"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(C.Label,{children:"URL de Webhook"}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[t.jsx(b.I,{value:K,readOnly:!0,className:"bg-gray-50"}),t.jsx(d.z,{variant:"outline",size:"sm",onClick:()=>Q(K,"URL de webhook"),children:t.jsx(M.Z,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Configura esta URL en tu aplicaci\xf3n de Meta"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(C.Label,{htmlFor:"webhook-token",children:"Verify Token"}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[t.jsx(b.I,{id:"webhook-token",value:I,onChange:e=>Z(e.target.value),placeholder:"Token de verificaci\xf3n"}),t.jsx(d.z,{variant:"outline",size:"sm",onClick:()=>{Z(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)),O.Am.success("Token de webhook generado")},children:"Generar"})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Token para verificar los webhooks"})]})]})]}),"idle"!==q&&(0,t.jsxs)("div",{className:"pt-4",children:["testing"===q&&(0,t.jsxs)(S.bZ,{className:"border-yellow-200 bg-yellow-50",children:[t.jsx(g.Z,{className:"h-4 w-4 text-yellow-600"}),t.jsx(S.X,{className:"text-yellow-800",children:"Validando credenciales..."})]}),"success"===q&&(0,t.jsxs)(S.bZ,{className:"border-green-200 bg-green-50",children:[t.jsx(m.Z,{className:"h-4 w-4 text-green-600"}),t.jsx(S.X,{className:"text-green-800",children:"\xa1Credenciales v\xe1lidas! La conexi\xf3n se estableci\xf3 correctamente."})]}),"error"===q&&(0,t.jsxs)(S.bZ,{className:"border-red-200 bg-red-50",children:[t.jsx(g.Z,{className:"h-4 w-4 text-red-600"}),t.jsx(S.X,{className:"text-red-800",children:"Error al validar las credenciales. Verifica que sean correctas."})]})]}),t.jsx("div",{className:"pt-4",children:t.jsx(d.z,{onClick:X,disabled:H||!o||!h||!f,className:"w-full",children:H?"Validando...":"Probar Conexi\xf3n"})})]})]})}),(0,t.jsxs)(x.TabsContent,{value:"advanced",className:"space-y-6",children:[(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[t.jsx(c.ll,{children:"Mensajes Autom\xe1ticos"}),t.jsx(c.SZ,{children:"Configura mensajes autom\xe1ticos para mejorar la experiencia del cliente"})]}),(0,t.jsxs)(c.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(C.Label,{htmlFor:"api-welcome-message",children:"Mensaje de Bienvenida"}),t.jsx(E.g,{id:"api-welcome-message",value:_,onChange:e=>L(e.target.value),placeholder:"\xa1Hola! Gracias por contactarnos. En breve uno de nuestros agentes te atender\xe1.",rows:3}),t.jsx("p",{className:"text-xs text-gray-500",children:"Mensaje autom\xe1tico enviado a nuevos contactos"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(C.Label,{htmlFor:"api-auto-reply",children:"Respuesta Autom\xe1tica"}),t.jsx(E.g,{id:"api-auto-reply",value:V,onChange:e=>G(e.target.value),placeholder:"Gracias por tu mensaje. Actualmente estamos fuera del horario de atenci\xf3n. Te responderemos pronto.",rows:3}),t.jsx("p",{className:"text-xs text-gray-500",children:"Mensaje enviado fuera del horario de atenci\xf3n"})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[t.jsx(d.z,{variant:"outline",onClick:a,children:"Cancelar"}),t.jsx(d.z,{onClick:$,disabled:!s||!i||!o||!h||!f||H,className:"bg-blue-600 hover:bg-blue-700",children:H?"Creando Canal...":"Crear Canal"})]})]})]})]})}var _=s(65923),L=s(14573),V=s(79046),G=s(30502),z=s(57234),U=s(71028),W=s(33901),F=s(19406),H=s(97623);function B({channels:e,selectedChannel:a,onChannelSelect:s,onChannelUpdate:r,onChannelDelete:i}){let[l,x]=(0,n.useState)(null),[h,j]=(0,n.useState)({name:"",phone:"",welcomeMessage:"",autoReplyMessage:"",isActive:!0,isDefault:!1}),f=e=>{switch(e){case"CONNECTED":return t.jsx(m.Z,{className:"h-4 w-4 text-green-600"});case"CONNECTING":return t.jsx(u.Z,{className:"h-4 w-4 text-yellow-600"});case"DISCONNECTED":default:return t.jsx(p,{className:"h-4 w-4 text-gray-400"});case"ERROR":case"EXPIRED":return t.jsx(g.Z,{className:"h-4 w-4 text-red-600"})}},y=e=>{x(e),j({name:e.name,phone:e.phone,welcomeMessage:"",autoReplyMessage:"",isActive:e.isActive,isDefault:e.isDefault})},A=e=>{i(e.id),O.Am.success("Canal eliminado exitosamente")},I=e=>{let a=!e.isActive;r(e.id,{isActive:a}),O.Am.success(`Canal ${a?"activado":"desactivado"}`)},S=e=>{if(!e)return"Nunca";let a=Math.floor((new Date().getTime()-e.getTime())/6e4),s=Math.floor(a/60);return a<1?"Ahora":a<60?`Hace ${a} min`:s<24?`Hace ${s}h`:`Hace ${Math.floor(s/24)} d\xedas`};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[t.jsx(c.ll,{children:"Gesti\xf3n de Canales"}),t.jsx(c.SZ,{children:"Administra todos tus canales de WhatsApp conectados"})]}),t.jsx(c.aY,{children:0===e.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:t.jsx(N.Z,{className:"w-8 h-8 text-gray-400"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay canales configurados"}),t.jsx("p",{className:"text-gray-500 mb-4",children:"Crea tu primer canal para comenzar a usar WhatsApp"})]}):t.jsx("div",{className:"space-y-4",children:e.map(e=>t.jsx("div",{className:`p-4 border rounded-lg hover:bg-gray-50 transition-colors cursor-pointer ${a?.id===e.id?"ring-2 ring-blue-500 bg-blue-50":""}`,onClick:()=>s(e),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex-shrink-0",children:f(e.status)}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:e.name}),e.isDefault&&(0,t.jsxs)(o.C,{variant:"secondary",className:"text-xs bg-yellow-100 text-yellow-800",children:[t.jsx(V.Z,{className:"h-3 w-3 mr-1"}),"Predeterminado"]}),!e.isActive&&t.jsx(o.C,{variant:"outline",className:"text-xs text-gray-500",children:"Inactivo"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[t.jsx("span",{children:e.phone}),t.jsx("span",{children:"•"}),t.jsx("span",{children:H.Sn[e.connectionType]}),t.jsx("span",{children:"•"}),t.jsx(o.C,{variant:"outline",className:`text-xs ${"green"===H.Om[e.status]?"border-green-200 text-green-700":"yellow"===H.Om[e.status]?"border-yellow-200 text-yellow-700":"red"===H.Om[e.status]?"border-red-200 text-red-700":"orange"===H.Om[e.status]?"border-orange-200 text-orange-700":"border-gray-200 text-gray-700"}`,children:H.fB[e.status]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"hidden md:flex items-center space-x-4 text-sm",children:[(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("p",{className:"font-medium text-gray-900",children:(e.messagesReceived+e.messagesSent).toLocaleString()}),t.jsx("p",{className:"text-gray-500",children:"Mensajes"})]}),(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("p",{className:"font-medium text-gray-900",children:S(e.lastActivity)}),t.jsx("p",{className:"text-gray-500",children:"Actividad"})]})]}),(0,t.jsxs)(F.h_,{children:[t.jsx(F.$F,{asChild:!0,onClick:e=>e.stopPropagation(),children:t.jsx(d.z,{variant:"ghost",size:"sm",children:t.jsx(G.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(F.AW,{align:"end",children:[t.jsx(F.Ju,{children:"Acciones"}),t.jsx(F.VD,{}),(0,t.jsxs)(F.Xi,{onClick:a=>{a.stopPropagation(),y(e)},children:[t.jsx(z.Z,{className:"h-4 w-4 mr-2"}),"Editar"]}),(0,t.jsxs)(F.Xi,{onClick:a=>{a.stopPropagation(),I(e)},children:[t.jsx(v.Z,{className:"h-4 w-4 mr-2"}),e.isActive?"Desactivar":"Activar"]}),t.jsx(F.VD,{}),(0,t.jsxs)(L.aR,{children:[t.jsx(L.vW,{asChild:!0,children:(0,t.jsxs)(F.Xi,{className:"text-red-600 focus:text-red-600",onClick:e=>e.stopPropagation(),children:[t.jsx(U.Z,{className:"h-4 w-4 mr-2"}),"Eliminar"]})}),(0,t.jsxs)(L._T,{onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)(L.fY,{children:[t.jsx(L.f$,{children:"\xbfEst\xe1s seguro?"}),(0,t.jsxs)(L.yT,{children:['Esta acci\xf3n no se puede deshacer. Se eliminar\xe1 permanentemente el canal "',e.name,'" y se perder\xe1 toda la configuraci\xf3n asociada.']})]}),(0,t.jsxs)(L.xo,{children:[t.jsx(L.le,{children:"Cancelar"}),t.jsx(L.OL,{className:"bg-red-600 hover:bg-red-700",onClick:()=>A(e),children:"Eliminar"})]})]})]})]})]})]})]})},e.id))})})]}),a&&(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsxs)(c.ll,{className:"flex items-center space-x-2",children:[t.jsx(W.Z,{className:"h-5 w-5"}),(0,t.jsxs)("span",{children:["Detalles de ",a.name]})]}),t.jsx(c.SZ,{children:"Estad\xedsticas y configuraci\xf3n detallada del canal"})]}),t.jsx(c.aY,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Informaci\xf3n General"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Estado:"}),t.jsx(o.C,{variant:"outline",className:`text-xs ${"green"===H.Om[a.status]?"border-green-200 text-green-700":"yellow"===H.Om[a.status]?"border-yellow-200 text-yellow-700":"red"===H.Om[a.status]?"border-red-200 text-red-700":"orange"===H.Om[a.status]?"border-orange-200 text-orange-700":"border-gray-200 text-gray-700"}`,children:H.fB[a.status]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Tipo:"}),t.jsx("span",{className:"font-medium",children:H.Sn[a.connectionType]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Conectado:"}),t.jsx("span",{className:"font-medium",children:a.connectedAt?a.connectedAt.toLocaleDateString("es-ES"):"No conectado"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"\xdaltima actividad:"}),t.jsx("span",{className:"font-medium",children:S(a.lastActivity)})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Estad\xedsticas"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Recibidos:"}),t.jsx("span",{className:"font-medium text-blue-600",children:a.messagesReceived.toLocaleString()})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Enviados:"}),t.jsx("span",{className:"font-medium text-green-600",children:a.messagesSent.toLocaleString()})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Total:"}),t.jsx("span",{className:"font-medium",children:(a.messagesReceived+a.messagesSent).toLocaleString()})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Acciones"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(d.z,{size:"sm",variant:"outline",className:"w-full justify-start",onClick:()=>y(a),children:[t.jsx(z.Z,{className:"h-4 w-4 mr-2"}),"Editar Configuraci\xf3n"]}),(0,t.jsxs)(d.z,{size:"sm",variant:"outline",className:"w-full justify-start",onClick:()=>I(a),children:[t.jsx(v.Z,{className:"h-4 w-4 mr-2"}),a.isActive?"Desactivar Canal":"Activar Canal"]})]})]})]})})]}),t.jsx(_.Vq,{open:!!l,onOpenChange:()=>x(null),children:(0,t.jsxs)(_.cZ,{className:"sm:max-w-[500px]",children:[(0,t.jsxs)(_.fK,{children:[t.jsx(_.$N,{children:"Editar Canal"}),t.jsx(_.Be,{children:"Modifica la configuraci\xf3n del canal de WhatsApp"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(C.Label,{htmlFor:"edit-name",children:"Nombre del Canal"}),t.jsx(b.I,{id:"edit-name",value:h.name,onChange:e=>j(a=>({...a,name:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(C.Label,{htmlFor:"edit-phone",children:"N\xfamero de Tel\xe9fono"}),t.jsx(b.I,{id:"edit-phone",value:h.phone,onChange:e=>j(a=>({...a,phone:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(C.Label,{htmlFor:"edit-welcome",children:"Mensaje de Bienvenida"}),t.jsx(E.g,{id:"edit-welcome",value:h.welcomeMessage,onChange:e=>j(a=>({...a,welcomeMessage:e.target.value})),rows:3,placeholder:"Mensaje autom\xe1tico para nuevos contactos"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(C.Label,{htmlFor:"edit-auto-reply",children:"Respuesta Autom\xe1tica"}),t.jsx(E.g,{id:"edit-auto-reply",value:h.autoReplyMessage,onChange:e=>j(a=>({...a,autoReplyMessage:e.target.value})),rows:3,placeholder:"Mensaje fuera del horario de atenci\xf3n"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx(C.Label,{children:"Canal Activo"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Activar o desactivar este canal"})]}),t.jsx(w.Switch,{checked:h.isActive,onCheckedChange:e=>j(a=>({...a,isActive:e}))})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx(C.Label,{children:"Canal Predeterminado"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Usar como canal principal para nuevas conversaciones"})]}),t.jsx(w.Switch,{checked:h.isDefault,onCheckedChange:e=>j(a=>({...a,isDefault:e}))})]})]}),(0,t.jsxs)(_.cN,{children:[t.jsx(d.z,{variant:"outline",onClick:()=>x(null),children:"Cancelar"}),t.jsx(d.z,{onClick:()=>{l&&(r(l.id,{name:h.name,phone:h.phone,isActive:h.isActive,isDefault:h.isDefault}),h.isDefault&&e.forEach(e=>{e.id!==l.id&&e.isDefault&&r(e.id,{isDefault:!1})}),O.Am.success("Canal actualizado exitosamente"),x(null))},children:"Guardar Cambios"})]})]})})]})}let q=[{id:"1",name:"Soporte Principal",phone:"+52 55 1234 5678",connectionType:"QR_CODE",status:"CONNECTED",isActive:!0,isDefault:!0,messagesReceived:1245,messagesSent:987,lastActivity:new Date(Date.now()-3e5),connectedAt:new Date(Date.now()-1728e5)},{id:"2",name:"Ventas",phone:"+52 55 8765 4321",connectionType:"API_OFFICIAL",status:"CONNECTED",isActive:!0,isDefault:!1,messagesReceived:645,messagesSent:523,lastActivity:new Date(Date.now()-9e5),connectedAt:new Date(Date.now()-6048e5)},{id:"3",name:"Servicio T\xe9cnico",phone:"+52 55 5555 0000",connectionType:"QR_CODE",status:"EXPIRED",isActive:!1,isDefault:!1,messagesReceived:234,messagesSent:198,lastActivity:new Date(Date.now()-2592e5),connectedAt:new Date(Date.now()-864e6)}];function Y(){let{data:e}=(0,r.useSession)()||{},[a,s]=(0,n.useState)(q),[h,b]=(0,n.useState)("overview"),[C,E]=(0,n.useState)(null),w=e=>{switch(e){case"CONNECTED":return t.jsx(m.Z,{className:"h-4 w-4 text-green-600"});case"CONNECTING":return t.jsx(u.Z,{className:"h-4 w-4 text-yellow-600"});case"DISCONNECTED":default:return t.jsx(p,{className:"h-4 w-4 text-gray-400"});case"ERROR":return t.jsx(g.Z,{className:"h-4 w-4 text-red-600"});case"EXPIRED":return t.jsx(g.Z,{className:"h-4 w-4 text-orange-600"})}},A=e=>{s(a=>[...a,e])},S=a.filter(e=>"CONNECTED"===e.status&&e.isActive),R=a.reduce((e,a)=>e+a.messagesReceived+a.messagesSent,0);return t.jsx(i.ProtectedRoute,{permissions:[l.y3.MANAGE_ORGANIZATION_SETTINGS],children:(0,t.jsxs)("div",{className:"p-6",children:[t.jsx("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Canales de WhatsApp"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona las conexiones de WhatsApp para tu organizaci\xf3n"})]}),(0,t.jsxs)(d.z,{onClick:()=>b("new-connection"),className:"bg-green-600 hover:bg-green-700",children:[t.jsx(j.Z,{className:"h-4 w-4 mr-2"}),"Nuevo Canal"]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[t.jsx(c.Zb,{children:t.jsx(c.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(N.Z,{className:"h-5 w-5 text-green-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.length}),t.jsx("p",{className:"text-sm text-gray-600",children:"Canales Totales"})]})]})})}),t.jsx(c.Zb,{children:t.jsx(c.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(f,{className:"h-5 w-5 text-blue-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.length}),t.jsx("p",{className:"text-sm text-gray-600",children:"Conectados"})]})]})})}),t.jsx(c.Zb,{children:t.jsx(c.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx(v.Z,{className:"h-5 w-5 text-purple-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:R.toLocaleString()}),t.jsx("p",{className:"text-sm text-gray-600",children:"Mensajes Totales"})]})]})})}),t.jsx(c.Zb,{children:t.jsx(c.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:t.jsx(m.Z,{className:"h-5 w-5 text-indigo-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.find(e=>e.isDefault)?.name||"No definido"}),t.jsx("p",{className:"text-sm text-gray-600 truncate",children:"Canal Predeterminado"})]})]})})})]}),(0,t.jsxs)(x.Tabs,{value:h,onValueChange:b,className:"space-y-6",children:[(0,t.jsxs)(x.TabsList,{className:"grid w-full grid-cols-4",children:[(0,t.jsxs)(x.TabsTrigger,{value:"overview",children:[t.jsx(N.Z,{className:"w-4 h-4 mr-2"}),"Resumen"]}),(0,t.jsxs)(x.TabsTrigger,{value:"channels",children:[t.jsx(v.Z,{className:"w-4 h-4 mr-2"}),"Canales"]}),(0,t.jsxs)(x.TabsTrigger,{value:"qr-connection",children:[t.jsx(y,{className:"w-4 h-4 mr-2"}),"Conexi\xf3n QR"]}),(0,t.jsxs)(x.TabsTrigger,{value:"api-connection",children:[t.jsx(f,{className:"w-4 h-4 mr-2"}),"Conexi\xf3n API"]})]}),t.jsx(x.TabsContent,{value:"overview",className:"space-y-6",children:(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[t.jsx(c.ll,{children:"Estado de Conexiones"}),t.jsx(c.SZ,{children:"Vista general de todos tus canales de WhatsApp"})]}),t.jsx(c.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[a.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[t.jsx("div",{className:"flex items-center space-x-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[w(e.status),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium",children:e.name}),e.isDefault&&t.jsx(o.C,{variant:"secondary",className:"text-xs",children:"Predeterminado"}),!e.isActive&&t.jsx(o.C,{variant:"outline",className:"text-xs text-gray-500",children:"Inactivo"})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[e.phone," • ",H.Sn[e.connectionType]]})]})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"text-right text-sm",children:[(0,t.jsxs)("p",{className:"text-gray-900",children:[(e.messagesReceived+e.messagesSent).toLocaleString()," mensajes"]}),t.jsx("p",{className:"text-gray-500",children:t.jsx(o.C,{variant:"outline",className:`text-xs ${"green"===H.Om[e.status]?"border-green-200 text-green-700":"yellow"===H.Om[e.status]?"border-yellow-200 text-yellow-700":"red"===H.Om[e.status]?"border-red-200 text-red-700":"orange"===H.Om[e.status]?"border-orange-200 text-orange-700":"border-gray-200 text-gray-700"}`,children:H.fB[e.status]})})]}),t.jsx(d.z,{variant:"outline",size:"sm",onClick:()=>{E(e),b("channels")},children:"Configurar"})]})]},e.id)),0===a.length&&(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:t.jsx(N.Z,{className:"w-8 h-8 text-gray-400"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay canales configurados"}),t.jsx("p",{className:"text-gray-500 mb-4",children:"Conecta tu primer canal de WhatsApp para comenzar"}),t.jsx(d.z,{onClick:()=>b("qr-connection"),children:"Crear Primer Canal"})]})]})})]})}),t.jsx(x.TabsContent,{value:"channels",children:t.jsx(B,{channels:a,selectedChannel:C,onChannelSelect:E,onChannelUpdate:(e,a)=>{s(s=>s.map(s=>s.id===e?{...s,...a}:s))},onChannelDelete:e=>{s(a=>a.filter(a=>a.id!==e)),C?.id===e&&E(null)}})}),t.jsx(x.TabsContent,{value:"qr-connection",children:t.jsx(I,{onChannelCreated:A,onBack:()=>b("overview")})}),t.jsx(x.TabsContent,{value:"api-connection",children:t.jsx(Z,{onChannelCreated:A,onBack:()=>b("overview")})})]})]})})}},14573:(e,a,s)=>{"use strict";s.d(a,{OL:()=>j,_T:()=>m,aR:()=>c,f$:()=>p,fY:()=>u,le:()=>N,vW:()=>d,xo:()=>h,yT:()=>g});var t=s(62901),n=s(24383),r=s(13443),i=s(68637),l=s(27878);let c=r.fC,d=r.xz,o=r.h_,x=n.forwardRef(({className:e,...a},s)=>t.jsx(r.aV,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:s}));x.displayName=r.aV.displayName;let m=n.forwardRef(({className:e,...a},s)=>(0,t.jsxs)(o,{children:[t.jsx(x,{}),t.jsx(r.VY,{ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a})]}));m.displayName=r.VY.displayName;let u=({className:e,...a})=>t.jsx("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...a});u.displayName="AlertDialogHeader";let h=({className:e,...a})=>t.jsx("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});h.displayName="AlertDialogFooter";let p=n.forwardRef(({className:e,...a},s)=>t.jsx(r.Dx,{ref:s,className:(0,i.cn)("text-lg font-semibold",e),...a}));p.displayName=r.Dx.displayName;let g=n.forwardRef(({className:e,...a},s)=>t.jsx(r.dk,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...a}));g.displayName=r.dk.displayName;let j=n.forwardRef(({className:e,...a},s)=>t.jsx(r.aU,{ref:s,className:(0,i.cn)((0,l.d)(),e),...a}));j.displayName=r.aU.displayName;let N=n.forwardRef(({className:e,...a},s)=>t.jsx(r.$j,{ref:s,className:(0,i.cn)((0,l.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...a}));N.displayName=r.$j.displayName},23803:(e,a,s)=>{"use strict";s.d(a,{Ol:()=>l,SZ:()=>d,Zb:()=>i,aY:()=>o,eW:()=>x,ll:()=>c});var t=s(62901),n=s(24383),r=s(68637);let i=n.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));i.displayName="Card";let l=n.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...a}));l.displayName="CardHeader";let c=n.forwardRef(({className:e,...a},s)=>t.jsx("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));c.displayName="CardTitle";let d=n.forwardRef(({className:e,...a},s)=>t.jsx("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",e),...a}));d.displayName="CardDescription";let o=n.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,r.cn)("p-6 pt-0",e),...a}));o.displayName="CardContent";let x=n.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",e),...a}));x.displayName="CardFooter"},65923:(e,a,s)=>{"use strict";s.d(a,{$N:()=>p,Be:()=>g,Vq:()=>c,cN:()=>h,cZ:()=>m,fK:()=>u,hg:()=>d});var t=s(62901),n=s(24383),r=s(18832),i=s(42594),l=s(68637);let c=r.fC,d=r.xz,o=r.h_;r.x8;let x=n.forwardRef(({className:e,...a},s)=>t.jsx(r.aV,{ref:s,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));x.displayName=r.aV.displayName;let m=n.forwardRef(({className:e,children:a,...s},n)=>(0,t.jsxs)(o,{children:[t.jsx(x,{}),(0,t.jsxs)(r.VY,{ref:n,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[a,(0,t.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(i.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=r.VY.displayName;let u=({className:e,...a})=>t.jsx("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});u.displayName="DialogHeader";let h=({className:e,...a})=>t.jsx("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});h.displayName="DialogFooter";let p=n.forwardRef(({className:e,...a},s)=>t.jsx(r.Dx,{ref:s,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));p.displayName=r.Dx.displayName;let g=n.forwardRef(({className:e,...a},s)=>t.jsx(r.dk,{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...a}));g.displayName=r.dk.displayName},82657:(e,a,s)=>{"use strict";s.d(a,{Label:()=>d});var t=s(62901),n=s(24383),r=s(8388),i=s(47279),l=s(68637);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef(({className:e,...a},s)=>t.jsx(r.f,{ref:s,className:(0,l.cn)(c(),e),...a}));d.displayName=r.f.displayName},84377:(e,a,s)=>{"use strict";s.d(a,{Switch:()=>l});var t=s(62901),n=s(24383),r=s(59094),i=s(68637);let l=n.forwardRef(({className:e,...a},s)=>t.jsx(r.fC,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...a,ref:s,children:t.jsx(r.bU,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));l.displayName=r.fC.displayName},84227:(e,a,s)=>{"use strict";s.d(a,{Tabs:()=>l,TabsContent:()=>o,TabsList:()=>c,TabsTrigger:()=>d});var t=s(62901),n=s(24383),r=s(49099),i=s(68637);let l=r.fC,c=n.forwardRef(({className:e,...a},s)=>t.jsx(r.aV,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...a}));c.displayName=r.aV.displayName;let d=n.forwardRef(({className:e,...a},s)=>t.jsx(r.xz,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...a}));d.displayName=r.xz.displayName;let o=n.forwardRef(({className:e,...a},s)=>t.jsx(r.VY,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a}));o.displayName=r.VY.displayName},52:(e,a,s)=>{"use strict";s.d(a,{g:()=>i});var t=s(62901),n=s(24383),r=s(68637);let i=n.forwardRef(({className:e,...a},s)=>t.jsx("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));i.displayName="Textarea"},97623:(e,a,s)=>{"use strict";s.d(a,{BT:()=>n.AutomationActionType,C2:()=>S,DX:()=>E,Dn:()=>w,ED:()=>u,Eb:()=>j,FQ:()=>N,Go:()=>i,Jg:()=>h,Om:()=>o,Pg:()=>y,Rh:()=>I,Rn:()=>g,Sn:()=>c,UM:()=>T,Ug:()=>b,Vb:()=>n.AutomationConditionType,WC:()=>l,WV:()=>C,WY:()=>r,aE:()=>x,d1:()=>p,fB:()=>d,hC:()=>n.KnowledgeSourceStatus,hQ:()=>f,mT:()=>R,n9:()=>m,rH:()=>n.KnowledgeSourceType,uU:()=>A,wu:()=>D,ym:()=>v});var t,n=s(53524);!function(e){e.INSUFFICIENT_BALANCE="INSUFFICIENT_BALANCE",e.NO_PROVIDER_AVAILABLE="NO_PROVIDER_AVAILABLE",e.PROVIDER_ERROR="PROVIDER_ERROR",e.INVALID_REQUEST="INVALID_REQUEST",e.RATE_LIMIT_EXCEEDED="RATE_LIMIT_EXCEEDED",e.INTERNAL_ERROR="INTERNAL_ERROR"}(t||(t={}));let r={OPEN:"Abierta",PENDING:"Pendiente",RESOLVED:"Resuelta",TRANSFERRED:"Transferida",ARCHIVED:"Archivada"},i={LOW:"Baja",MEDIUM:"Media",HIGH:"Alta",URGENT:"Urgente"},l={LOW:"gray",MEDIUM:"blue",HIGH:"orange",URGENT:"red"},c={QR_CODE:"Conexi\xf3n R\xe1pida (QR)",API_OFFICIAL:"Conexi\xf3n Profesional (API)"},d={DISCONNECTED:"Desconectado",CONNECTING:"Conectando",CONNECTED:"Conectado",ERROR:"Error",EXPIRED:"Expirado"},o={DISCONNECTED:"gray",CONNECTING:"yellow",CONNECTED:"green",ERROR:"red",EXPIRED:"orange"},x={image:["image/jpeg","image/png","image/gif","image/webp"],document:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"],video:["video/mp4","video/avi","video/mov","video/wmv"],audio:["audio/mp3","audio/wav","audio/aac","audio/ogg"]},m={image:10485760,document:52428800,video:104857600,audio:20971520},u={SALES:"Ventas",SUPPORT:"Soporte",QUESTION:"Pregunta",COMPLAINT:"Queja",BOOKING:"Reserva",PAYMENT:"Pago",INFORMATION:"Informaci\xf3n",GREETING:"Saludo",FAREWELL:"Despedida",OTHER:"Otro"},h={SALES:"green",SUPPORT:"blue",QUESTION:"yellow",COMPLAINT:"red",BOOKING:"purple",PAYMENT:"orange",INFORMATION:"cyan",GREETING:"teal",FAREWELL:"gray",OTHER:"slate"},p={INTENTION_DETECTED:"Intenci\xf3n detectada",KEYWORDS_CONTAINS:"Contiene palabras clave",SENDER_IS_VIP:"Remitente es VIP",TIME_RANGE:"Horario espec\xedfico",FIRST_MESSAGE:"Primer mensaje",MESSAGE_COUNT:"N\xfamero de mensajes",RESPONSE_TIME:"Tiempo de respuesta"},g={ADD_TAG:"Agregar etiqueta",ASSIGN_AGENT:"Asignar agente",SET_PRIORITY:"Establecer prioridad",AUTO_REPLY:"Respuesta autom\xe1tica",MARK_VIP:"Marcar como VIP",TRANSFER_CONVERSATION:"Transferir conversaci\xf3n",CREATE_TASK:"Crear tarea",SEND_NOTIFICATION:"Enviar notificaci\xf3n"},j={pdf:["application/pdf"],document:["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],text:["text/plain","text/markdown","text/csv"],web:["text/html"]},N=52428800,f={UPLOADING:"Subiendo",PROCESSING:"Procesando",CHUNKING:"Fragmentando",EMBEDDING:"Generando Embeddings",ACTIVE:"Activo",ERROR:"Error",DISABLED:"Deshabilitado"},v={ECOMMERCE:"E-commerce",CRM:"CRM",ERP:"ERP",PAYMENT:"Pagos",ANALYTICS:"An\xe1lisis",MARKETING:"Marketing",SOCIAL_MEDIA:"Redes Sociales",EMAIL:"Email Marketing",SUPPORT:"Soporte",OTHER:"Otros"},y={AVAILABLE:"Disponible",CONNECTED:"Conectado",DISCONNECTED:"Desconectado",ERROR:"Error",PENDING:"Pendiente"},b={SHOPIFY:{displayName:"Shopify",description:"Conecta tu tienda Shopify para consultar productos, pedidos e inventario",authType:"oauth",authFields:["shop_domain","access_token"],iconUrl:"/integrations/shopify.svg",brandColor:"#7AB55C",supportedFeatures:["products","orders","customers","inventory"],documentation:"https://docs.shopify.com/api"},WOOCOMMERCE:{displayName:"WooCommerce",description:"Conecta tu tienda WooCommerce para gestionar productos y pedidos",authType:"api_key",authFields:["site_url","consumer_key","consumer_secret"],iconUrl:"/integrations/woocommerce.svg",brandColor:"#7F54B3",supportedFeatures:["products","orders","customers"],documentation:"https://woocommerce.github.io/woocommerce-rest-api-docs/"},TIENDANUBE:{displayName:"TiendaNube",description:"Conecta tu tienda TiendaNube para sincronizar cat\xe1logo y pedidos",authType:"oauth",authFields:["store_id","access_token"],iconUrl:"/integrations/tiendanube.svg",brandColor:"#FF6900",supportedFeatures:["products","orders","customers"],documentation:"https://developers.tiendanube.com/"}},C={PENDING:"Pendiente",APPROVED:"Aprobada",REJECTED:"Rechazada",PAUSED:"Pausada",ARCHIVED:"Archivada"},E={PENDING:"yellow",APPROVED:"green",REJECTED:"red",PAUSED:"orange",ARCHIVED:"gray"},w={DRAFT:"Borrador",SCHEDULED:"Programada",SENDING:"Enviando",COMPLETED:"Completada",PAUSED:"Pausada",CANCELLED:"Cancelada",FAILED:"Fallida"},A={DRAFT:"gray",SCHEDULED:"blue",SENDING:"yellow",COMPLETED:"green",PAUSED:"orange",CANCELLED:"red",FAILED:"red"},I={IMMEDIATE:"Inmediato",SCHEDULED:"Programado",DRIP:"Secuencial",AB_TEST:"Prueba A/B",WHATSAPP_BUSINESS:"WhatsApp Business",WHATSAPP_API:"WhatsApp API"},S={IMMEDIATE:"Env\xedo inmediato a todos los destinatarios",SCHEDULED:"Env\xedo programado para una fecha espec\xedfica",DRIP:"Env\xedo secuencial con intervalos definidos",AB_TEST:"Prueba diferentes versiones del mensaje",WHATSAPP_BUSINESS:"M\xe1ximo 40 mensajes diarios, cualquier contenido (texto/imagen/video/audio)",WHATSAPP_API:"Env\xedo ilimitado, solo plantillas verificadas por Meta"},R={INCLUDE_TAG:"Incluir etiqueta",EXCLUDE_TAG:"Excluir etiqueta",CHANNEL:"Canal de origen",VIP_STATUS:"Estado VIP",LAST_CONTACT:"\xdaltimo contacto",CONVERSATION_STATUS:"Estado de conversaci\xf3n"},T={SEND_RATE:10,BATCH_SIZE:100,RETRY_ATTEMPTS:3,PREVIEW_SAMPLE_SIZE:20,PREVIEW_EXPIRATION_HOURS:24},D={BUSINESS:{MAX_DAILY_MESSAGES:40,SEND_RATE:2,BATCH_SIZE:10,REQUIRES_VERIFICATION:!1,SUPPORTS_RICH_MEDIA:!0},API:{MAX_DAILY_MESSAGES:null,SEND_RATE:50,BATCH_SIZE:500,REQUIRES_VERIFICATION:!0,SUPPORTS_RICH_MEDIA:!0}}},23094:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},82333:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},30502:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},83898:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},34216:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},91334:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},10780:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},44928:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},12280:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},57234:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},79046:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},71028:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},69910:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>c});var t=s(83537),n=s(1507),r=s(15438),i=s(97973),l=s(77516);async function c({children:e}){try{await (0,n.BN)()}catch(e){(0,r.redirect)("/auth/login")}return(0,t.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[t.jsx(i._,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsx(l.c,{}),t.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})}},19517:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(88895).createProxy)(String.raw`/home/ubuntu/comodin_ia/app/app/(authenticated)/settings/channels/page.tsx#default`)},8388:(e,a,s)=>{"use strict";s.d(a,{f:()=>l});var t=s(24383),n=s(74132),r=s(62901),i=t.forwardRef((e,a)=>(0,r.jsx)(n.WV.label,{...e,ref:a,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var l=i},59094:(e,a,s)=>{"use strict";s.d(a,{bU:()=>C,fC:()=>b});var t=s(24383),n=s(1940),r=s(56163),i=s(89291),l=s(98106),c=s(45666),d=s(49209),o=s(74132),x=s(62901),m="Switch",[u,h]=(0,i.b)(m),[p,g]=u(m),j=t.forwardRef((e,a)=>{let{__scopeSwitch:s,name:i,checked:c,defaultChecked:d,required:m,disabled:u,value:h="on",onCheckedChange:g,...j}=e,[N,f]=t.useState(null),b=(0,r.e)(a,e=>f(e)),C=t.useRef(!1),E=!N||!!N.closest("form"),[w=!1,A]=(0,l.T)({prop:c,defaultProp:d,onChange:g});return(0,x.jsxs)(p,{scope:s,checked:w,disabled:u,children:[(0,x.jsx)(o.WV.button,{type:"button",role:"switch","aria-checked":w,"aria-required":m,"data-state":y(w),"data-disabled":u?"":void 0,disabled:u,value:h,...j,ref:b,onClick:(0,n.M)(e.onClick,e=>{A(e=>!e),E&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),E&&(0,x.jsx)(v,{control:N,bubbles:!C.current,name:i,value:h,checked:w,required:m,disabled:u,style:{transform:"translateX(-100%)"}})]})});j.displayName=m;var N="SwitchThumb",f=t.forwardRef((e,a)=>{let{__scopeSwitch:s,...t}=e,n=g(N,s);return(0,x.jsx)(o.WV.span,{"data-state":y(n.checked),"data-disabled":n.disabled?"":void 0,...t,ref:a})});f.displayName=N;var v=e=>{let{control:a,checked:s,bubbles:n=!0,...r}=e,i=t.useRef(null),l=(0,c.D)(s),o=(0,d.t)(a);return t.useEffect(()=>{let e=i.current,a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==s&&a){let t=new Event("click",{bubbles:n});a.call(e,s),e.dispatchEvent(t)}},[l,s,n]),(0,x.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...r,tabIndex:-1,ref:i,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function y(e){return e?"checked":"unchecked"}var b=j,C=f},49099:(e,a,s)=>{"use strict";s.d(a,{VY:()=>D,aV:()=>R,fC:()=>S,xz:()=>T});var t=s(24383),n=s(1940),r=s(89291),i=s(34603),l=s(52490),c=s(74132),d=s(1861),o=s(98106),x=s(50430),m=s(62901),u="Tabs",[h,p]=(0,r.b)(u,[i.Pc]),g=(0,i.Pc)(),[j,N]=h(u),f=t.forwardRef((e,a)=>{let{__scopeTabs:s,value:t,onValueChange:n,defaultValue:r,orientation:i="horizontal",dir:l,activationMode:u="automatic",...h}=e,p=(0,d.gm)(l),[g,N]=(0,o.T)({prop:t,onChange:n,defaultProp:r});return(0,m.jsx)(j,{scope:s,baseId:(0,x.M)(),value:g,onValueChange:N,orientation:i,dir:p,activationMode:u,children:(0,m.jsx)(c.WV.div,{dir:p,"data-orientation":i,...h,ref:a})})});f.displayName=u;var v="TabsList",y=t.forwardRef((e,a)=>{let{__scopeTabs:s,loop:t=!0,...n}=e,r=N(v,s),l=g(s);return(0,m.jsx)(i.fC,{asChild:!0,...l,orientation:r.orientation,dir:r.dir,loop:t,children:(0,m.jsx)(c.WV.div,{role:"tablist","aria-orientation":r.orientation,...n,ref:a})})});y.displayName=v;var b="TabsTrigger",C=t.forwardRef((e,a)=>{let{__scopeTabs:s,value:t,disabled:r=!1,...l}=e,d=N(b,s),o=g(s),x=A(d.baseId,t),u=I(d.baseId,t),h=t===d.value;return(0,m.jsx)(i.ck,{asChild:!0,...o,focusable:!r,active:h,children:(0,m.jsx)(c.WV.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:x,...l,ref:a,onMouseDown:(0,n.M)(e.onMouseDown,e=>{r||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(t)}),onKeyDown:(0,n.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(t)}),onFocus:(0,n.M)(e.onFocus,()=>{let e="manual"!==d.activationMode;h||r||!e||d.onValueChange(t)})})})});C.displayName=b;var E="TabsContent",w=t.forwardRef((e,a)=>{let{__scopeTabs:s,value:n,forceMount:r,children:i,...d}=e,o=N(E,s),x=A(o.baseId,n),u=I(o.baseId,n),h=n===o.value,p=t.useRef(h);return t.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(l.z,{present:r||h,children:({present:s})=>(0,m.jsx)(c.WV.div,{"data-state":h?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":x,hidden:!s,id:u,tabIndex:0,...d,ref:a,style:{...e.style,animationDuration:p.current?"0s":void 0},children:s&&i})})});function A(e,a){return`${e}-trigger-${a}`}function I(e,a){return`${e}-content-${a}`}w.displayName=E;var S=f,R=y,T=C,D=w},45666:(e,a,s)=>{"use strict";s.d(a,{D:()=>n});var t=s(24383);function n(e){let a=t.useRef({value:e,previous:e});return t.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}}};var a=require("../../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[4372,7329,1472,7420,5003,8855,9358,533,3383,1826,6003,7752],()=>s(95448));module.exports=t})();