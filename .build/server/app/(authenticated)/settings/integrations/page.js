(()=>{var e={};e.id=3545,e.ids=[3545],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},81791:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c}),s(50139),s(69910),s(71363),s(15307);var a=s(36576),r=s(72007),n=s(21818),i=s.n(n),o=s(88897),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["(authenticated)",{children:["settings",{children:["integrations",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,50139)),"/home/ubuntu/comodin_ia/app/app/(authenticated)/settings/integrations/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,69910)),"/home/ubuntu/comodin_ia/app/app/(authenticated)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,71363,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,15307)),"/home/ubuntu/comodin_ia/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,71363,23)),"next/dist/client/components/not-found-error"]}],d=["/home/ubuntu/comodin_ia/app/app/(authenticated)/settings/integrations/page.tsx"],m="/(authenticated)/settings/integrations/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(authenticated)/settings/integrations/page",pathname:"/settings/integrations",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},68092:(e,t,s)=>{Promise.resolve().then(s.bind(s,87752)),Promise.resolve().then(s.bind(s,24545)),Promise.resolve().then(s.t.bind(s,95003,23))},24545:(e,t,s)=>{"use strict";s.d(t,{IntegrationsManager:()=>D});var a=s(62901),r=s(24383),n=s(23803),i=s(27878),o=s(31606),l=s(84227),c=s(250),d=s(59183),m=s(66843),u=s(33901);let x=(0,s(71945).Z)("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]);var p=s(23094),h=s(61659),f=s(21391),g=s(21680),N=s(67935),j=s(91046),E=s(71028),v=s(97718),y=s(83898),b=s(68832),C=s(68637),I=s(97623),A=s(65923),R=s(82657),w=s(63234),T=s(80568),S=s(10333),_=s(39350);function P({integration:e,open:t,onOpenChange:s,onSuccess:n}){let[o,l]=(0,r.useState)(!1),[d,m]=(0,r.useState)("form"),[u,x]=(0,r.useState)({}),[h,f]=(0,r.useState)([]),[N,j]=(0,r.useState)(null),E=e.platform&&e.platform in I.Ug?I.Ug[e.platform]:null,v=(e,t)=>{x(s=>({...s,[e]:t}))},b=(e,t)=>{f(s=>t?[...s,e]:s.filter(t=>t!==e))},C=async()=>{l(!0),m("testing");try{let t=await fetch("/api/integrations/test-connection",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({integrationId:e.id,credentials:u,features:h})}),s=await t.json();if(j(s),t.ok&&s.success)await P();else throw Error(s.error||"Error al probar la conexi\xf3n")}catch(e){console.error("Error testing connection:",e),_.Am.error("Error al probar la conexi\xf3n"),m("form")}finally{l(!1)}},P=async()=>{try{if((await fetch("/api/integrations/connections",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({integrationId:e.id,name:u.name||e.displayName,credentials:u,features:h,config:{...u,testResults:N}})})).ok)m("success"),_.Am.success("Integraci\xf3n conectada exitosamente"),setTimeout(()=>{n()},2e3);else throw Error("Error al crear la conexi\xf3n")}catch(e){console.error("Error creating connection:",e),_.Am.error("Error al crear la conexi\xf3n"),m("form")}};return a.jsx(A.Vq,{open:t,onOpenChange:s,children:(0,a.jsxs)(A.cZ,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(A.fK,{children:[(0,a.jsxs)(A.$N,{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{children:["Conectar ",e.displayName]}),E?.documentation&&a.jsx(i.z,{variant:"ghost",size:"sm",asChild:!0,children:a.jsx("a",{href:E.documentation,target:"_blank",rel:"noopener noreferrer",children:a.jsx(y.Z,{className:"w-4 h-4"})})})]}),a.jsx(A.Be,{children:E?.description||e.description})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(T.bZ,{children:[a.jsx(g.Z,{className:"h-4 w-4"}),a.jsx(T.X,{children:"Las credenciales se almacenan de forma segura y encriptada. Solo se utilizan para consultas autorizadas a tu tienda."})]}),"form"===d&&(E?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx(R.Label,{htmlFor:"name",children:"Nombre de la conexi\xf3n (opcional)"}),a.jsx(c.I,{id:"name",placeholder:`Mi tienda ${e.displayName}`,value:u.name||"",onChange:e=>v("name",e.target.value)})]}),"SHOPIFY"===e.platform&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[a.jsx(R.Label,{htmlFor:"shop_domain",children:"Dominio de la tienda *"}),a.jsx(c.I,{id:"shop_domain",placeholder:"mi-tienda.myshopify.com",value:u.shop_domain||"",onChange:e=>v("shop_domain",e.target.value),required:!0}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Solo el dominio, ejemplo: mi-tienda.myshopify.com"})]}),(0,a.jsxs)("div",{children:[a.jsx(R.Label,{htmlFor:"access_token",children:"Token de acceso *"}),a.jsx(c.I,{id:"access_token",type:"password",placeholder:"shpat_...",value:u.access_token||"",onChange:e=>v("access_token",e.target.value),required:!0}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Token de acceso privado de tu aplicaci\xf3n Shopify"})]})]}),"WOOCOMMERCE"===e.platform&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[a.jsx(R.Label,{htmlFor:"site_url",children:"URL del sitio *"}),a.jsx(c.I,{id:"site_url",placeholder:"https://mi-tienda.com",value:u.site_url||"",onChange:e=>v("site_url",e.target.value),required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx(R.Label,{htmlFor:"consumer_key",children:"Consumer Key *"}),a.jsx(c.I,{id:"consumer_key",placeholder:"ck_...",value:u.consumer_key||"",onChange:e=>v("consumer_key",e.target.value),required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx(R.Label,{htmlFor:"consumer_secret",children:"Consumer Secret *"}),a.jsx(c.I,{id:"consumer_secret",type:"password",placeholder:"cs_...",value:u.consumer_secret||"",onChange:e=>v("consumer_secret",e.target.value),required:!0})]})]}),"TIENDANUBE"===e.platform&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[a.jsx(R.Label,{htmlFor:"store_id",children:"ID de la tienda *"}),a.jsx(c.I,{id:"store_id",placeholder:"123456",value:u.store_id||"",onChange:e=>v("store_id",e.target.value),required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx(R.Label,{htmlFor:"access_token",children:"Token de acceso *"}),a.jsx(c.I,{id:"access_token",type:"password",placeholder:"abc123...",value:u.access_token||"",onChange:e=>v("access_token",e.target.value),required:!0})]})]}),E.supportedFeatures&&E.supportedFeatures.length>0&&(0,a.jsxs)("div",{children:[a.jsx(R.Label,{children:"Funcionalidades a habilitar"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:E.supportedFeatures.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(w.X,{id:e,checked:h.includes(e),onCheckedChange:t=>b(e,t)}),a.jsx(R.Label,{htmlFor:e,className:"text-sm capitalize",children:e})]},e))})]})]}):null),"testing"===d&&(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(S.Z,{className:"mx-auto h-8 w-8 animate-spin text-blue-600 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Probando conexi\xf3n..."}),a.jsx("p",{className:"text-gray-500",children:"Verificando credenciales y configuraci\xf3n"})]}),"success"===d&&(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(p.Z,{className:"mx-auto h-12 w-12 text-green-600 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"\xa1Conexi\xf3n exitosa!"}),(0,a.jsxs)("p",{className:"text-gray-500 mb-4",children:[e.displayName," se ha conectado correctamente"]}),N?.storeInfo&&(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 mt-4 text-left",children:[a.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Informaci\xf3n de la tienda:"}),(0,a.jsxs)("div",{className:"text-sm text-green-800 space-y-1",children:[N.storeInfo.name&&(0,a.jsxs)("p",{children:["Nombre: ",N.storeInfo.name]}),N.storeInfo.url&&(0,a.jsxs)("p",{children:["URL: ",N.storeInfo.url]}),N.storeInfo.productsCount&&(0,a.jsxs)("p",{children:["Productos: ",N.storeInfo.productsCount]})]})]})]}),"form"===d&&(0,a.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(i.z,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),(0,a.jsxs)(i.z,{onClick:C,disabled:o,children:[o&&a.jsx(S.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Probar y Conectar"]})]})]})]})})}function D({organizationId:e}){let[t,s]=(0,r.useState)([]),[A,R]=(0,r.useState)([]),[w,T]=(0,r.useState)(null),[S,D]=(0,r.useState)(!0),[O,k]=(0,r.useState)(""),[L,M]=(0,r.useState)("all"),[Z,F]=(0,r.useState)(!1),[V,U]=(0,r.useState)(null),z=async()=>{try{let e=await fetch("/api/integrations/connections");if(e.ok){let t=await e.json();R(t.connections||[])}}catch(e){console.error("Error loading connections:",e),_.Am.error("Error al cargar conexiones")}},G=async()=>{try{let e=await fetch("/api/integrations/stats");if(e.ok){let t=await e.json();T(t.stats)}}catch(e){console.error("Error loading stats:",e)}finally{D(!1)}},H=t.filter(e=>{let t=e.displayName.toLowerCase().includes(O.toLowerCase())||e.description?.toLowerCase().includes(O.toLowerCase()),s="all"===L||e.type===L;return t&&s}),q=e=>{let t=A.find(t=>t.integrationId===e);return t?.status||"AVAILABLE"},B=e=>{let t=A.find(t=>t.integrationId===e);return t?.id},W=e=>{U(e),F(!0)},Y=async(e,t)=>{if(confirm("\xbfEst\xe1s seguro de que deseas desconectar esta integraci\xf3n?"))try{if((await fetch(`/api/integrations/connections/${t}`,{method:"DELETE"})).ok)await z(),await G(),_.Am.success("Integraci\xf3n desconectada exitosamente");else throw Error("Error al desconectar")}catch(e){console.error("Error disconnecting:",e),_.Am.error("Error al desconectar la integraci\xf3n")}},K=e=>{switch(e){case"ECOMMERCE":return a.jsx(d.Z,{className:"w-5 h-5"});case"CRM":return a.jsx(m.Z,{className:"w-5 h-5"});case"ANALYTICS":return a.jsx(u.Z,{className:"w-5 h-5"});default:return a.jsx(x,{className:"w-5 h-5"})}},X=e=>{switch(e){case"CONNECTED":return a.jsx(p.Z,{className:"w-4 h-4 text-green-500"});case"ERROR":return a.jsx(h.Z,{className:"w-4 h-4 text-red-500"});case"PENDING":return a.jsx(f.Z,{className:"w-4 h-4 text-blue-500"});case"DISCONNECTED":return a.jsx(g.Z,{className:"w-4 h-4 text-yellow-500"});default:return a.jsx(N.Z,{className:"w-4 h-4 text-gray-400"})}};return S?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[w&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(n.Zb,{children:a.jsx(n.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Disponibles"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.total})]}),a.jsx(x,{className:"h-8 w-8 text-blue-500"})]})})}),a.jsx(n.Zb,{children:a.jsx(n.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Conectadas"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:w.connected})]}),a.jsx(p.Z,{className:"h-8 w-8 text-green-500"})]})})}),a.jsx(n.Zb,{children:a.jsx(n.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Con Errores"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:w.error})]}),a.jsx(h.Z,{className:"h-8 w-8 text-red-500"})]})})}),a.jsx(n.Zb,{children:a.jsx(n.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"E-commerce"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:w.byType.ECOMMERCE||0})]}),a.jsx(d.Z,{className:"h-8 w-8 text-orange-500"})]})})})]}),(0,a.jsxs)(l.Tabs,{defaultValue:"available",className:"space-y-6",children:[(0,a.jsxs)(l.TabsList,{className:"grid w-full grid-cols-3",children:[a.jsx(l.TabsTrigger,{value:"available",children:"Disponibles"}),a.jsx(l.TabsTrigger,{value:"connected",children:"Conectadas"}),a.jsx(l.TabsTrigger,{value:"activity",children:"Actividad"})]}),(0,a.jsxs)(l.TabsContent,{value:"available",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[a.jsx(j.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx(c.I,{placeholder:"Buscar integraciones...",value:O,onChange:e=>k(e.target.value),className:"pl-10"})]}),(0,a.jsxs)("select",{value:L,onChange:e=>M(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"Todos los tipos"}),a.jsx("option",{value:"ECOMMERCE",children:"E-commerce"}),a.jsx("option",{value:"CRM",children:"CRM"}),a.jsx("option",{value:"ERP",children:"ERP"}),a.jsx("option",{value:"ANALYTICS",children:"An\xe1lisis"}),a.jsx("option",{value:"MARKETING",children:"Marketing"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(e=>{let t=q(e.id),s=B(e.id),r="CONNECTED"===t;return(0,a.jsxs)(n.Zb,{className:"relative overflow-hidden",children:[a.jsx(n.Ol,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:(0,C.cn)("w-12 h-12 rounded-lg flex items-center justify-center",e.brandColor?`bg-[${e.brandColor}]`:"bg-gray-100"),children:K(e.type)}),(0,a.jsxs)("div",{children:[a.jsx(n.ll,{className:"text-lg",children:e.displayName}),a.jsx("p",{className:"text-sm text-gray-500",children:I.ym[e.type]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[X(t),a.jsx(o.C,{variant:"secondary",className:(0,C.cn)("text-xs","CONNECTED"===t&&"bg-green-100 text-green-800","ERROR"===t&&"bg-red-100 text-red-800","PENDING"===t&&"bg-blue-100 text-blue-800"),children:I.Pg[t]})]})]})}),(0,a.jsxs)(n.aY,{className:"pb-4",children:[a.jsx(n.SZ,{className:"mb-4",children:e.description}),(0,a.jsxs)("div",{className:"space-y-3",children:[e.supportedFeatures&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Funcionalidades:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.supportedFeatures.map(e=>a.jsx(o.C,{variant:"outline",className:"text-xs",children:e},e))})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-2",children:[r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.z,{variant:"outline",size:"sm",className:"flex-1",children:[a.jsx(N.Z,{className:"w-4 h-4 mr-2"}),"Configurar"]}),a.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>s&&Y(e.id,s),children:a.jsx(E.Z,{className:"w-4 h-4"})})]}):(0,a.jsxs)(i.z,{onClick:()=>W(e),size:"sm",className:"flex-1",children:[a.jsx(v.Z,{className:"w-4 h-4 mr-2"}),"Conectar"]}),e.documentation&&a.jsx(i.z,{variant:"ghost",size:"sm",asChild:!0,children:a.jsx("a",{href:e.documentation,target:"_blank",rel:"noopener noreferrer",children:a.jsx(y.Z,{className:"w-4 h-4"})})})]})]})]})]},e.id)})}),0===H.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(x,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron integraciones"}),a.jsx("p",{className:"text-gray-500",children:"Intenta ajustar los filtros de b\xfasqueda"})]})]}),a.jsx(l.TabsContent,{value:"connected",className:"space-y-6",children:A.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:A.map(e=>(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:K(e.integration.type)}),(0,a.jsxs)("div",{children:[a.jsx(n.ll,{className:"text-lg",children:e.name||e.integration.displayName}),a.jsx("p",{className:"text-sm text-gray-500",children:e.storeName||e.integration.description})]})]}),X(e.status)]})}),a.jsx(n.aY,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[e.storeUrl&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"URL de la tienda:"}),a.jsx("p",{className:"text-sm text-blue-600",children:e.storeUrl})]}),e.lastSyncAt&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"\xdaltima sincronizaci\xf3n:"}),a.jsx("p",{className:"text-sm text-gray-600",children:new Date(e.lastSyncAt).toLocaleString("es-ES")})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,a.jsxs)(i.z,{variant:"outline",size:"sm",className:"flex-1",children:[a.jsx(N.Z,{className:"w-4 h-4 mr-2"}),"Configurar"]}),(0,a.jsxs)(i.z,{variant:"outline",size:"sm",children:[a.jsx(b.Z,{className:"w-4 h-4 mr-2"}),"Sincronizar"]}),a.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>Y(e.integrationId,e.id),children:a.jsx(E.Z,{className:"w-4 h-4"})})]})]})})]},e.id))}):(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(p.Z,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay integraciones conectadas"}),a.jsx("p",{className:"text-gray-500",children:'Conecta tu primera integraci\xf3n desde la pesta\xf1a "Disponibles"'})]})}),a.jsx(l.TabsContent,{value:"activity",className:"space-y-6",children:(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"Actividad Reciente"}),a.jsx(n.SZ,{children:"Historial de eventos de sincronizaci\xf3n y conexiones"})]}),a.jsx(n.aY,{children:a.jsx("div",{className:"space-y-4",children:w?.recentActivity&&w.recentActivity.length>0?w.recentActivity.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(b.Z,{className:"w-4 h-4 text-blue-500"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:e.action}),a.jsx("p",{className:"text-xs text-gray-500",children:e.integrationName})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx(o.C,{variant:"success"===e.status?"default":"destructive",className:"text-xs mb-1",children:e.status}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString("es-ES")})]})]},e.id)):(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(b.Z,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),a.jsx("p",{className:"text-gray-500",children:"No hay actividad reciente"})]})})})]})})]}),V&&a.jsx(P,{integration:V,open:Z,onOpenChange:F,onSuccess:()=>{z(),G(),F(!1),U(null)}})]})}},23803:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>o,SZ:()=>c,Zb:()=>i,aY:()=>d,eW:()=>m,ll:()=>l});var a=s(62901),r=s(24383),n=s(68637);let i=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let o=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=r.forwardRef(({className:e,...t},s)=>a.jsx("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let c=r.forwardRef(({className:e,...t},s)=>a.jsx("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let d=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,n.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent";let m=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t}));m.displayName="CardFooter"},63234:(e,t,s)=>{"use strict";s.d(t,{X:()=>l});var a=s(62901),r=s(24383),n=s(52838),i=s(85453),o=s(68637);let l=r.forwardRef(({className:e,...t},s)=>a.jsx(n.fC,{ref:s,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(n.z$,{className:(0,o.cn)("flex items-center justify-center text-current"),children:a.jsx(i.Z,{className:"h-4 w-4"})})}));l.displayName=n.fC.displayName},65923:(e,t,s)=>{"use strict";s.d(t,{$N:()=>h,Be:()=>f,Vq:()=>l,cN:()=>p,cZ:()=>u,fK:()=>x,hg:()=>c});var a=s(62901),r=s(24383),n=s(18832),i=s(42594),o=s(68637);let l=n.fC,c=n.xz,d=n.h_;n.x8;let m=r.forwardRef(({className:e,...t},s)=>a.jsx(n.aV,{ref:s,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));m.displayName=n.aV.displayName;let u=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(d,{children:[a.jsx(m,{}),(0,a.jsxs)(n.VY,{ref:r,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,(0,a.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(i.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));u.displayName=n.VY.displayName;let x=({className:e,...t})=>a.jsx("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});x.displayName="DialogHeader";let p=({className:e,...t})=>a.jsx("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});p.displayName="DialogFooter";let h=r.forwardRef(({className:e,...t},s)=>a.jsx(n.Dx,{ref:s,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));h.displayName=n.Dx.displayName;let f=r.forwardRef(({className:e,...t},s)=>a.jsx(n.dk,{ref:s,className:(0,o.cn)("text-sm text-muted-foreground",e),...t}));f.displayName=n.dk.displayName},82657:(e,t,s)=>{"use strict";s.d(t,{Label:()=>c});var a=s(62901),r=s(24383),n=s(8388),i=s(47279),o=s(68637);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef(({className:e,...t},s)=>a.jsx(n.f,{ref:s,className:(0,o.cn)(l(),e),...t}));c.displayName=n.f.displayName},84227:(e,t,s)=>{"use strict";s.d(t,{Tabs:()=>o,TabsContent:()=>d,TabsList:()=>l,TabsTrigger:()=>c});var a=s(62901),r=s(24383),n=s(49099),i=s(68637);let o=n.fC,l=r.forwardRef(({className:e,...t},s)=>a.jsx(n.aV,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));l.displayName=n.aV.displayName;let c=r.forwardRef(({className:e,...t},s)=>a.jsx(n.xz,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));c.displayName=n.xz.displayName;let d=r.forwardRef(({className:e,...t},s)=>a.jsx(n.VY,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));d.displayName=n.VY.displayName},97623:(e,t,s)=>{"use strict";s.d(t,{BT:()=>r.AutomationActionType,C2:()=>w,DX:()=>C,Dn:()=>I,ED:()=>x,Eb:()=>g,FQ:()=>N,Go:()=>i,Jg:()=>p,Om:()=>d,Pg:()=>v,Rh:()=>R,Rn:()=>f,Sn:()=>l,UM:()=>S,Ug:()=>y,Vb:()=>r.AutomationConditionType,WC:()=>o,WV:()=>b,WY:()=>n,aE:()=>m,d1:()=>h,fB:()=>c,hC:()=>r.KnowledgeSourceStatus,hQ:()=>j,mT:()=>T,n9:()=>u,rH:()=>r.KnowledgeSourceType,uU:()=>A,wu:()=>_,ym:()=>E});var a,r=s(53524);!function(e){e.INSUFFICIENT_BALANCE="INSUFFICIENT_BALANCE",e.NO_PROVIDER_AVAILABLE="NO_PROVIDER_AVAILABLE",e.PROVIDER_ERROR="PROVIDER_ERROR",e.INVALID_REQUEST="INVALID_REQUEST",e.RATE_LIMIT_EXCEEDED="RATE_LIMIT_EXCEEDED",e.INTERNAL_ERROR="INTERNAL_ERROR"}(a||(a={}));let n={OPEN:"Abierta",PENDING:"Pendiente",RESOLVED:"Resuelta",TRANSFERRED:"Transferida",ARCHIVED:"Archivada"},i={LOW:"Baja",MEDIUM:"Media",HIGH:"Alta",URGENT:"Urgente"},o={LOW:"gray",MEDIUM:"blue",HIGH:"orange",URGENT:"red"},l={QR_CODE:"Conexi\xf3n R\xe1pida (QR)",API_OFFICIAL:"Conexi\xf3n Profesional (API)"},c={DISCONNECTED:"Desconectado",CONNECTING:"Conectando",CONNECTED:"Conectado",ERROR:"Error",EXPIRED:"Expirado"},d={DISCONNECTED:"gray",CONNECTING:"yellow",CONNECTED:"green",ERROR:"red",EXPIRED:"orange"},m={image:["image/jpeg","image/png","image/gif","image/webp"],document:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"],video:["video/mp4","video/avi","video/mov","video/wmv"],audio:["audio/mp3","audio/wav","audio/aac","audio/ogg"]},u={image:10485760,document:52428800,video:104857600,audio:20971520},x={SALES:"Ventas",SUPPORT:"Soporte",QUESTION:"Pregunta",COMPLAINT:"Queja",BOOKING:"Reserva",PAYMENT:"Pago",INFORMATION:"Informaci\xf3n",GREETING:"Saludo",FAREWELL:"Despedida",OTHER:"Otro"},p={SALES:"green",SUPPORT:"blue",QUESTION:"yellow",COMPLAINT:"red",BOOKING:"purple",PAYMENT:"orange",INFORMATION:"cyan",GREETING:"teal",FAREWELL:"gray",OTHER:"slate"},h={INTENTION_DETECTED:"Intenci\xf3n detectada",KEYWORDS_CONTAINS:"Contiene palabras clave",SENDER_IS_VIP:"Remitente es VIP",TIME_RANGE:"Horario espec\xedfico",FIRST_MESSAGE:"Primer mensaje",MESSAGE_COUNT:"N\xfamero de mensajes",RESPONSE_TIME:"Tiempo de respuesta"},f={ADD_TAG:"Agregar etiqueta",ASSIGN_AGENT:"Asignar agente",SET_PRIORITY:"Establecer prioridad",AUTO_REPLY:"Respuesta autom\xe1tica",MARK_VIP:"Marcar como VIP",TRANSFER_CONVERSATION:"Transferir conversaci\xf3n",CREATE_TASK:"Crear tarea",SEND_NOTIFICATION:"Enviar notificaci\xf3n"},g={pdf:["application/pdf"],document:["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],text:["text/plain","text/markdown","text/csv"],web:["text/html"]},N=52428800,j={UPLOADING:"Subiendo",PROCESSING:"Procesando",CHUNKING:"Fragmentando",EMBEDDING:"Generando Embeddings",ACTIVE:"Activo",ERROR:"Error",DISABLED:"Deshabilitado"},E={ECOMMERCE:"E-commerce",CRM:"CRM",ERP:"ERP",PAYMENT:"Pagos",ANALYTICS:"An\xe1lisis",MARKETING:"Marketing",SOCIAL_MEDIA:"Redes Sociales",EMAIL:"Email Marketing",SUPPORT:"Soporte",OTHER:"Otros"},v={AVAILABLE:"Disponible",CONNECTED:"Conectado",DISCONNECTED:"Desconectado",ERROR:"Error",PENDING:"Pendiente"},y={SHOPIFY:{displayName:"Shopify",description:"Conecta tu tienda Shopify para consultar productos, pedidos e inventario",authType:"oauth",authFields:["shop_domain","access_token"],iconUrl:"/integrations/shopify.svg",brandColor:"#7AB55C",supportedFeatures:["products","orders","customers","inventory"],documentation:"https://docs.shopify.com/api"},WOOCOMMERCE:{displayName:"WooCommerce",description:"Conecta tu tienda WooCommerce para gestionar productos y pedidos",authType:"api_key",authFields:["site_url","consumer_key","consumer_secret"],iconUrl:"/integrations/woocommerce.svg",brandColor:"#7F54B3",supportedFeatures:["products","orders","customers"],documentation:"https://woocommerce.github.io/woocommerce-rest-api-docs/"},TIENDANUBE:{displayName:"TiendaNube",description:"Conecta tu tienda TiendaNube para sincronizar cat\xe1logo y pedidos",authType:"oauth",authFields:["store_id","access_token"],iconUrl:"/integrations/tiendanube.svg",brandColor:"#FF6900",supportedFeatures:["products","orders","customers"],documentation:"https://developers.tiendanube.com/"}},b={PENDING:"Pendiente",APPROVED:"Aprobada",REJECTED:"Rechazada",PAUSED:"Pausada",ARCHIVED:"Archivada"},C={PENDING:"yellow",APPROVED:"green",REJECTED:"red",PAUSED:"orange",ARCHIVED:"gray"},I={DRAFT:"Borrador",SCHEDULED:"Programada",SENDING:"Enviando",COMPLETED:"Completada",PAUSED:"Pausada",CANCELLED:"Cancelada",FAILED:"Fallida"},A={DRAFT:"gray",SCHEDULED:"blue",SENDING:"yellow",COMPLETED:"green",PAUSED:"orange",CANCELLED:"red",FAILED:"red"},R={IMMEDIATE:"Inmediato",SCHEDULED:"Programado",DRIP:"Secuencial",AB_TEST:"Prueba A/B",WHATSAPP_BUSINESS:"WhatsApp Business",WHATSAPP_API:"WhatsApp API"},w={IMMEDIATE:"Env\xedo inmediato a todos los destinatarios",SCHEDULED:"Env\xedo programado para una fecha espec\xedfica",DRIP:"Env\xedo secuencial con intervalos definidos",AB_TEST:"Prueba diferentes versiones del mensaje",WHATSAPP_BUSINESS:"M\xe1ximo 40 mensajes diarios, cualquier contenido (texto/imagen/video/audio)",WHATSAPP_API:"Env\xedo ilimitado, solo plantillas verificadas por Meta"},T={INCLUDE_TAG:"Incluir etiqueta",EXCLUDE_TAG:"Excluir etiqueta",CHANNEL:"Canal de origen",VIP_STATUS:"Estado VIP",LAST_CONTACT:"\xdaltimo contacto",CONVERSATION_STATUS:"Estado de conversaci\xf3n"},S={SEND_RATE:10,BATCH_SIZE:100,RETRY_ATTEMPTS:3,PREVIEW_SAMPLE_SIZE:20,PREVIEW_EXPIRATION_HOURS:24},_={BUSINESS:{MAX_DAILY_MESSAGES:40,SEND_RATE:2,BATCH_SIZE:10,REQUIRES_VERIFICATION:!1,SUPPORTS_RICH_MEDIA:!0},API:{MAX_DAILY_MESSAGES:null,SEND_RATE:50,BATCH_SIZE:500,REQUIRES_VERIFICATION:!0,SUPPORTS_RICH_MEDIA:!0}}},68832:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(71945).Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},10333:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(71945).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},19175:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(71945).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},71028:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(71945).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},21680:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(71945).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},69910:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(83537),r=s(1507),n=s(15438),i=s(97973),o=s(77516);async function l({children:e}){try{await (0,r.BN)()}catch(e){(0,n.redirect)("/auth/login")}return(0,a.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(i._,{}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(o.c,{}),a.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})}},50139:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(83537),r=s(1507),n=s(93370),i=s(25590);let o=(0,s(88895).createProxy)(String.raw`/home/ubuntu/comodin_ia/app/components/integrations/integrations-manager.tsx#IntegrationsManager`),l=(0,s(89004).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var c=s(89259),d=s(85168);async function m(){let{organization:e,user:t}=await (0,r.BN)();return a.jsx(n.i,{permissions:[i.y3.VIEW_INTEGRATIONS],children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("div",{className:"flex items-center space-x-4 mb-4",children:a.jsx(c.z,{variant:"ghost",size:"sm",asChild:!0,children:(0,a.jsxs)(d.default,{href:"/settings",children:[a.jsx(l,{className:"w-4 h-4 mr-2"}),"Volver a Configuraci\xf3n"]})})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Centro de Integraciones"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Conecta COMOD\xcdN IA con las herramientas de tu negocio para automatizar procesos y mejorar la atenci\xf3n al cliente"})]}),a.jsx(o,{organizationId:e.id})]})})}},93370:(e,t,s)=>{"use strict";s.d(t,{i:()=>a});let a=(0,s(88895).createProxy)(String.raw`/home/ubuntu/comodin_ia/app/components/auth/protected-route.tsx#ProtectedRoute`)},89259:(e,t,s)=>{"use strict";let a,r;s.d(t,{z:()=>h});var n=s(83537),i=s(3995),o=i.forwardRef((e,t)=>{let{children:s,...a}=e,r=i.Children.toArray(s),o=r.find(d);if(o){let e=o.props.children,s=r.map(t=>t!==o?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,n.jsx)(l,{...a,ref:t,children:i.isValidElement(e)?i.cloneElement(e,void 0,s):null})}return(0,n.jsx)(l,{...a,ref:t,children:s})});o.displayName="Slot";var l=i.forwardRef((e,t)=>{let{children:s,...a}=e;if(i.isValidElement(s)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(s=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(s);return i.cloneElement(s,{...function(e,t){let s={...t};for(let a in t){let r=e[a],n=t[a];/^on[A-Z]/.test(a)?r&&n?s[a]=(...e)=>{n(...e),r(...e)}:r&&(s[a]=r):"style"===a?s[a]={...r,...n}:"className"===a&&(s[a]=[r,n].filter(Boolean).join(" "))}return{...e,...s}}(a,s.props),ref:t?function(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}(t,e):e})}return i.Children.count(s)>1?i.Children.only(null):null});l.displayName="SlotClone";var c=({children:e})=>(0,n.jsx)(n.Fragment,{children:e});function d(e){return i.isValidElement(e)&&e.type===c}let m=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,u=function(){for(var e,t,s=0,a="";s<arguments.length;)(e=arguments[s++])&&(t=function e(t){var s,a,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t){if(Array.isArray(t))for(s=0;s<t.length;s++)t[s]&&(a=e(t[s]))&&(r&&(r+=" "),r+=a);else for(s in t)t[s]&&(r&&(r+=" "),r+=s)}return r}(e))&&(a&&(a+=" "),a+=t);return a};var x=s(64761);let p=(a="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",r={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}},e=>{var t;if((null==r?void 0:r.variants)==null)return u(a,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:s,defaultVariants:n}=r,i=Object.keys(s).map(t=>{let a=null==e?void 0:e[t],r=null==n?void 0:n[t];if(null===a)return null;let i=m(a)||m(r);return s[t][i]}),o=e&&Object.entries(e).reduce((e,t)=>{let[s,a]=t;return void 0===a||(e[s]=a),e},{});return u(a,i,null==r?void 0:null===(t=r.compoundVariants)||void 0===t?void 0:t.reduce((e,t)=>{let{class:s,className:a,...r}=t;return Object.entries(r).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...n,...o}[t]):({...n,...o})[t]===s})?[...e,s,a]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)}),h=i.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...r},i)=>{let l=a?o:"button";return n.jsx(l,{className:(0,x.cn)(p({variant:t,size:s,className:e})),ref:i,...r})});h.displayName="Button"},64761:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var a=s(61862),r=s(82703);function n(...e){return(0,r.m6)((0,a.W)(e))}},89004:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(3995);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(...e)=>e.filter((e,t,s)=>!!e&&s.indexOf(e)===t).join(" ");var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:c,...d},m)=>(0,a.createElement)("svg",{ref:m,...i,width:t,height:t,stroke:e,strokeWidth:r?24*Number(s)/Number(t):s,className:n("lucide",o),...d},[...c.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(l)?l:[l]])),l=(e,t)=>{let s=(0,a.forwardRef)(({className:s,...i},l)=>(0,a.createElement)(o,{ref:l,iconNode:t,className:n(`lucide-${r(e)}`,s),...i}));return s.displayName=`${e}`,s}},85168:(e,t,s)=>{"use strict";s.d(t,{default:()=>r.a});var a=s(86236),r=s.n(a)},86236:(e,t,s)=>{"use strict";let{createProxy:a}=s(88895);e.exports=a("/opt/hostedapp/node/root/app/node_modules/next/dist/client/link.js")},52838:(e,t,s)=>{"use strict";s.d(t,{fC:()=>C,z$:()=>I});var a=s(24383),r=s(56163),n=s(89291),i=s(1940),o=s(98106),l=s(45666),c=s(49209),d=s(52490),m=s(74132),u=s(62901),x="Checkbox",[p,h]=(0,n.b)(x),[f,g]=p(x),N=a.forwardRef((e,t)=>{let{__scopeCheckbox:s,name:n,checked:l,defaultChecked:c,required:d,disabled:x,value:p="on",onCheckedChange:h,...g}=e,[N,j]=a.useState(null),E=(0,r.e)(t,e=>j(e)),C=a.useRef(!1),I=!N||!!N.closest("form"),[A=!1,R]=(0,o.T)({prop:l,defaultProp:c,onChange:h}),w=a.useRef(A);return a.useEffect(()=>{let e=N?.form;if(e){let t=()=>R(w.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[N,R]),(0,u.jsxs)(f,{scope:s,state:A,disabled:x,children:[(0,u.jsx)(m.WV.button,{type:"button",role:"checkbox","aria-checked":y(A)?"mixed":A,"aria-required":d,"data-state":b(A),"data-disabled":x?"":void 0,disabled:x,value:p,...g,ref:E,onKeyDown:(0,i.M)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.M)(e.onClick,e=>{R(e=>!!y(e)||!e),I&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),I&&(0,u.jsx)(v,{control:N,bubbles:!C.current,name:n,value:p,checked:A,required:d,disabled:x,style:{transform:"translateX(-100%)"}})]})});N.displayName=x;var j="CheckboxIndicator",E=a.forwardRef((e,t)=>{let{__scopeCheckbox:s,forceMount:a,...r}=e,n=g(j,s);return(0,u.jsx)(d.z,{present:a||y(n.state)||!0===n.state,children:(0,u.jsx)(m.WV.span,{"data-state":b(n.state),"data-disabled":n.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...e.style}})})});E.displayName=j;var v=e=>{let{control:t,checked:s,bubbles:r=!0,...n}=e,i=a.useRef(null),o=(0,l.D)(s),d=(0,c.t)(t);return a.useEffect(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==s&&t){let a=new Event("click",{bubbles:r});e.indeterminate=y(s),t.call(e,!y(s)&&s),e.dispatchEvent(a)}},[o,s,r]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:!y(s)&&s,...n,tabIndex:-1,ref:i,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function y(e){return"indeterminate"===e}function b(e){return y(e)?"indeterminate":e?"checked":"unchecked"}var C=N,I=E},45666:(e,t,s)=>{"use strict";s.d(t,{D:()=>r});var a=s(24383);function r(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[4372,7329,1472,7420,5003,8855,9358,533,255,9795,1826,6003,7752],()=>s(81791));module.exports=a})();