(()=>{var e={};e.id=703,e.ids=[703],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},8248:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>d}),a(83697),a(69910),a(71363),a(15307);var t=a(36576),r=a(72007),i=a(21818),l=a.n(i),n=a(88897),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let d=["",{children:["(authenticated)",{children:["knowledge-base",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,83697)),"/home/ubuntu/comodin_ia/app/app/(authenticated)/knowledge-base/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,69910)),"/home/ubuntu/comodin_ia/app/app/(authenticated)/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,71363,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,15307)),"/home/ubuntu/comodin_ia/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,71363,23)),"next/dist/client/components/not-found-error"]}],o=["/home/ubuntu/comodin_ia/app/app/(authenticated)/knowledge-base/page.tsx"],x="/(authenticated)/knowledge-base/page",h={require:a,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(authenticated)/knowledge-base/page",pathname:"/knowledge-base",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},68898:(e,s,a)=>{Promise.resolve().then(a.bind(a,80691))},80691:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>ed});var t=a(62901),r=a(24383),i=a(84700),l=a(97718),n=a(91464),c=a(75811),d=a(71945);let o=(0,d.Z)("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);var x=a(91046),h=a(27878),m=a(250),u=a(82657),p=a(52),j=a(23803),g=a(84227),v=a(72388),f=a(65923),y=a(60437),N=a(97623),b=a(32317),w=a(42594),C=a(35825),E=a(21395),k=a(80568);function S({onUploadSuccess:e,onCancel:s}){let{toast:a}=(0,y.pm)(),i=(0,r.useRef)(null),[l,c]=(0,r.useState)(!1),[d,o]=(0,r.useState)([]),[x,p]=(0,r.useState)(!1),[g,v]=(0,r.useState)(0),[f,S]=(0,r.useState)({name:"",tags:"",chunkSize:1e3,chunkOverlap:100}),A=[...N.Eb.pdf,...N.Eb.document,...N.Eb.text,...N.Eb.web],R=e=>A.includes(e.type)?e.size>N.FQ?`Archivo demasiado grande. M\xe1ximo ${N.FQ/1024/1024}MB`:null:`Tipo de archivo no soportado: ${e.type}`,P=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?c(!0):"dragleave"===e.type&&c(!1)},[]),Z=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),c(!1),T(Array.from(e.dataTransfer.files))},[]),T=e=>{let s=[],t=[];e.forEach(e=>{let a=R(e);a?t.push(`${e.name}: ${a}`):s.push(e)}),t.length>0&&a({title:"Algunos archivos no se pudieron agregar",description:t.join(", "),variant:"destructive"}),o(e=>[...e,...s]),s.length>0&&!f.name&&S(e=>({...e,name:s[0].name.replace(/\.[^/.]+$/,"")}))},I=e=>{o(s=>s.filter((s,a)=>a!==e))},M=e=>{let s=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,s)*100)/100+" "+["Bytes","KB","MB","GB"][s]},z=async()=>{if(!d.length||!f.name){a({title:"Error",description:"Selecciona al menos un archivo y proporciona un nombre",variant:"destructive"});return}try{p(!0),v(0);let s=d[0],t=new FormData;t.append("file",s),t.append("name",f.name),t.append("tags",JSON.stringify(f.tags.split(",").map(e=>e.trim()).filter(e=>e))),t.append("chunkSize",f.chunkSize.toString()),t.append("chunkOverlap",f.chunkOverlap.toString());let r=setInterval(()=>{v(e=>e>=90?(clearInterval(r),90):e+20*Math.random())},500),i=await fetch("/api/knowledge/upload",{method:"POST",body:t});clearInterval(r),v(100);let l=await i.json();if(l.success)a({title:"\xc9xito",description:"Archivo subido correctamente. El procesamiento comenzar\xe1 en breve."}),e&&e(l.data.source),o([]),S({name:"",tags:"",chunkSize:1e3,chunkOverlap:100}),v(0);else throw Error(l.error||"Error subiendo archivo")}catch(e){console.error("Error uploading file:",e),a({title:"Error",description:e instanceof Error?e.message:"Error subiendo archivo",variant:"destructive"})}finally{p(!1)}};return(0,t.jsxs)("div",{className:"space-y-6 max-w-2xl mx-auto",children:[t.jsx(j.Zb,{className:`border-2 border-dashed transition-colors ${l?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:P,onDragLeave:P,onDragOver:P,onDrop:Z,children:(0,t.jsxs)(j.aY,{className:"p-8",children:[(0,t.jsxs)("div",{className:"text-center",children:[t.jsx(n.Z,{className:`mx-auto h-12 w-12 ${l?"text-blue-500":"text-gray-400"}`}),t.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900",children:"Sube tus documentos"}),t.jsx("p",{className:"mt-2 text-gray-600",children:"Arrastra y suelta archivos aqu\xed, o haz clic para seleccionar"}),t.jsx(h.z,{variant:"outline",className:"mt-4",onClick:()=>i.current?.click(),disabled:x,children:"Seleccionar archivos"}),t.jsx("input",{ref:i,type:"file",multiple:!0,accept:A.join(","),onChange:e=>{e.target.files&&T(Array.from(e.target.files))},className:"hidden"})]}),(0,t.jsxs)("div",{className:"mt-6",children:[t.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Archivos soportados: PDF, DOC, DOCX, TXT, MD, CSV, HTML"}),(0,t.jsxs)("p",{className:"text-xs text-gray-400 text-center mt-1",children:["Tama\xf1o m\xe1ximo: ",N.FQ/1024/1024,"MB"]})]})]})}),d.length>0&&(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium",children:"Archivos seleccionados:"}),d.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(b.Z,{className:"h-5 w-5 text-gray-400"}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium text-sm",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[M(e.size)," • ",e.type]})]})]}),t.jsx(h.z,{variant:"ghost",size:"sm",onClick:()=>I(s),disabled:x,children:t.jsx(w.Z,{className:"h-4 w-4"})})]},s))]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"source-name",children:"Nombre de la fuente *"}),t.jsx(m.I,{id:"source-name",placeholder:"Mi documento de conocimiento",value:f.name,onChange:e=>S(s=>({...s,name:e.target.value})),disabled:x})]}),(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"source-tags",children:"Etiquetas (opcional)"}),t.jsx(m.I,{id:"source-tags",placeholder:"manual, gu\xeda, procedimientos",value:f.tags,onChange:e=>S(s=>({...s,tags:e.target.value})),disabled:x}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Separa las etiquetas con comas"})]}),(0,t.jsxs)("details",{className:"group",children:[t.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 hover:text-gray-900",children:"Configuraci\xf3n avanzada"}),(0,t.jsxs)("div",{className:"mt-3 space-y-3 pl-4 border-l-2 border-gray-100",children:[(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"chunk-size",children:"Tama\xf1o de fragmento"}),t.jsx(m.I,{id:"chunk-size",type:"number",min:100,max:5e3,value:f.chunkSize,onChange:e=>S(s=>({...s,chunkSize:parseInt(e.target.value)||1e3})),disabled:x}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"N\xfamero de caracteres por fragmento (100-5000)"})]}),(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"chunk-overlap",children:"Superposici\xf3n"}),t.jsx(m.I,{id:"chunk-overlap",type:"number",min:0,max:500,value:f.chunkOverlap,onChange:e=>S(s=>({...s,chunkOverlap:parseInt(e.target.value)||100})),disabled:x}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Caracteres de superposici\xf3n entre fragmentos (0-500)"})]})]})]})]}),x&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Subiendo archivo..."}),(0,t.jsxs)("span",{children:[Math.round(g),"%"]})]}),t.jsx(E.E,{value:g})]}),(0,t.jsxs)("div",{className:"flex gap-3 justify-end",children:[s&&t.jsx(h.z,{variant:"outline",onClick:s,disabled:x,children:"Cancelar"}),t.jsx(h.z,{onClick:z,disabled:!d.length||!f.name||x,children:x?"Subiendo...":"Subir y Procesar"})]}),(0,t.jsxs)(k.bZ,{children:[t.jsx(C.Z,{className:"h-4 w-4"}),t.jsx(k.X,{children:"Una vez subido, el archivo ser\xe1 procesado autom\xe1ticamente. Esto puede tomar unos minutos dependiendo del tama\xf1o del documento."})]})]})}var A=a(23094),R=a(21391),P=a(61659),Z=a(10780),T=a(17965),I=a(91334),M=a(71028),z=a(31606),O=a(72405),L=a(19406),F=a(68637);function q({className:e,...s}){return t.jsx("div",{className:(0,F.cn)("animate-pulse rounded-md bg-muted",e),...s})}function D({sources:e,loading:s=!1,onDelete:a,onReprocess:r,onView:i,onRefresh:l}){let n=e=>{switch(e){case N.rH.FILE:return t.jsx(b.Z,{className:"h-4 w-4"});case N.rH.URL:return t.jsx(c.Z,{className:"h-4 w-4"});case N.rH.TEXT:return t.jsx(o,{className:"h-4 w-4"});default:return t.jsx(b.Z,{className:"h-4 w-4"})}},d=e=>{switch(e){case N.hC.ACTIVE:return t.jsx(A.Z,{className:"h-4 w-4 text-green-500"});case N.hC.PROCESSING:case N.hC.CHUNKING:case N.hC.EMBEDDING:return t.jsx(R.Z,{className:"h-4 w-4 text-yellow-500"});case N.hC.ERROR:return t.jsx(C.Z,{className:"h-4 w-4 text-red-500"});case N.hC.DISABLED:return t.jsx(P.Z,{className:"h-4 w-4 text-gray-500"});default:return t.jsx(R.Z,{className:"h-4 w-4 text-gray-500"})}},x=e=>{switch(e){case N.hC.ACTIVE:return"default";case N.hC.ERROR:return"destructive";case N.hC.PROCESSING:case N.hC.CHUNKING:case N.hC.EMBEDDING:return"secondary";default:return"outline"}},m=e=>{if(!e)return"-";let s=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,s)*100)/100+" "+["Bytes","KB","MB","GB"][s]},u=e=>new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s?t.jsx("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center space-x-4 p-4",children:[t.jsx(q,{className:"h-10 w-10 rounded-full"}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(q,{className:"h-4 w-[200px]"}),t.jsx(q,{className:"h-4 w-[150px]"})]})]},s))}):e.length?(0,t.jsxs)("div",{className:"space-y-4",children:[l&&t.jsx("div",{className:"flex justify-end",children:(0,t.jsxs)(h.z,{variant:"outline",size:"sm",onClick:l,children:[t.jsx(Z.Z,{className:"h-4 w-4 mr-2"}),"Actualizar"]})}),t.jsx("div",{className:"border rounded-lg",children:(0,t.jsxs)(O.iA,{children:[t.jsx(O.xD,{children:(0,t.jsxs)(O.SC,{children:[t.jsx(O.ss,{className:"w-[50px]",children:"Tipo"}),t.jsx(O.ss,{children:"Nombre"}),t.jsx(O.ss,{children:"Estado"}),t.jsx(O.ss,{className:"text-center",children:"Fragmentos"}),t.jsx(O.ss,{className:"text-center",children:"Calidad"}),t.jsx(O.ss,{className:"text-center",children:"Uso"}),t.jsx(O.ss,{children:"Fecha"}),t.jsx(O.ss,{className:"w-[50px]"})]})}),t.jsx(O.RM,{children:e.map(e=>(0,t.jsxs)(O.SC,{children:[t.jsx(O.pj,{children:t.jsx("div",{className:"flex items-center justify-center",children:n(e.type)})}),t.jsx(O.pj,{children:(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("div",{className:"font-medium text-sm",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[e.type===N.rH.FILE&&e.originalFileName&&(0,t.jsxs)("span",{children:[e.originalFileName," • ",m(e.fileSize)]}),e.type===N.rH.URL&&e.sourceUrl&&t.jsx("span",{className:"truncate max-w-[200px] inline-block",children:e.sourceUrl}),e.type===N.rH.TEXT&&t.jsx("span",{children:"Contenido de texto manual"})]}),e.tags.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.tags.slice(0,3).map((e,s)=>t.jsx(z.C,{variant:"outline",className:"text-xs px-1 py-0",children:e},s)),e.tags.length>3&&(0,t.jsxs)(z.C,{variant:"outline",className:"text-xs px-1 py-0",children:["+",e.tags.length-3]})]})]})}),(0,t.jsxs)(O.pj,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[d(e.status),t.jsx(z.C,{variant:x(e.status),className:"text-xs",children:N.hQ[e.status]})]}),e.status===N.hC.ERROR&&e.lastError&&t.jsx("div",{className:"text-xs text-red-500 mt-1 truncate max-w-[150px]",title:e.lastError,children:e.lastError}),(e.status===N.hC.PROCESSING||e.status===N.hC.CHUNKING||e.status===N.hC.EMBEDDING)&&(0,t.jsxs)("div",{className:"mt-1",children:[t.jsx(E.E,{value:e.processingProgress,className:"h-1 w-20"}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.processingProgress,"%"]})]})]}),t.jsx(O.pj,{className:"text-center",children:(0,t.jsxs)("div",{className:"text-sm",children:[t.jsx("div",{className:"font-medium",children:e.processedChunks}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["de ",e.totalChunks]}),e.failedChunks>0&&(0,t.jsxs)("div",{className:"text-xs text-red-500",children:[e.failedChunks," fallaron"]})]})}),t.jsx(O.pj,{className:"text-center",children:e.contentQuality?(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsxs)("div",{className:"font-medium",children:[Math.round(100*e.contentQuality),"%"]}),t.jsx("div",{className:`w-12 h-1 mx-auto rounded-full ${e.contentQuality>.8?"bg-green-500":e.contentQuality>.6?"bg-yellow-500":"bg-red-500"}`})]}):t.jsx("span",{className:"text-gray-400 text-sm",children:"-"})}),t.jsx(O.pj,{className:"text-center",children:(0,t.jsxs)("div",{className:"text-sm",children:[t.jsx("div",{className:"font-medium",children:e.usageCount}),e.lastUsedAt&&t.jsx("div",{className:"text-xs text-gray-500",children:u(e.lastUsedAt)})]})}),t.jsx(O.pj,{children:(0,t.jsxs)("div",{className:"text-sm",children:[t.jsx("div",{children:u(e.createdAt)}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["por ",e.createdByName]})]})}),t.jsx(O.pj,{children:(0,t.jsxs)(L.h_,{children:[t.jsx(L.$F,{asChild:!0,children:t.jsx(h.z,{variant:"ghost",className:"h-8 w-8 p-0",children:t.jsx(T.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(L.AW,{align:"end",children:[t.jsx(L.Ju,{children:"Acciones"}),t.jsx(L.VD,{}),i&&(0,t.jsxs)(L.Xi,{onClick:()=>i(e),children:[t.jsx(I.Z,{className:"mr-2 h-4 w-4"}),"Ver detalles"]}),r&&e.status!==N.hC.PROCESSING&&(0,t.jsxs)(L.Xi,{onClick:()=>r(e.id),children:[t.jsx(Z.Z,{className:"mr-2 h-4 w-4"}),"Reprocesar"]}),t.jsx(L.VD,{}),a&&(0,t.jsxs)(L.Xi,{className:"text-red-600",onClick:()=>a(e.id),children:[t.jsx(M.Z,{className:"mr-2 h-4 w-4"}),"Eliminar"]})]})]})})]},e.id))})]})})]}):(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx(b.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),t.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No hay fuentes de conocimiento"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comienza agregando documentos, URLs o contenido de texto."})]})}var G=a(82063),V=a(68832),U=a(30808),B=a(33901);function _({stats:e}){let s=e.totalChunks>0?Math.round(e.processedChunks/e.totalChunks*100):0,a=e.totalSources>0?Math.round(e.errorSources/e.totalSources*100):0;return(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsxs)(j.Zb,{children:[(0,t.jsxs)(j.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(j.ll,{className:"text-sm font-medium",children:"Fuentes de Conocimiento"}),t.jsx(b.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(j.aY,{children:[t.jsx("div",{className:"text-2xl font-bold",children:e.totalSources}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsxs)(z.C,{variant:"secondary",className:"text-xs",children:[t.jsx(A.Z,{className:"w-3 h-3 mr-1"}),e.activeSources," activas"]}),e.processingSources>0&&(0,t.jsxs)(z.C,{variant:"outline",className:"text-xs",children:[t.jsx(R.Z,{className:"w-3 h-3 mr-1"}),e.processingSources," procesando"]})]})]})]}),(0,t.jsxs)(j.Zb,{children:[(0,t.jsxs)(j.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(j.ll,{className:"text-sm font-medium",children:"Fragmentos de Contenido"}),t.jsx(G.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(j.aY,{children:[t.jsx("div",{className:"text-2xl font-bold",children:e.totalChunks.toLocaleString()}),(0,t.jsxs)("div",{className:"space-y-2 mt-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,t.jsxs)("span",{children:["Procesados: ",e.processedChunks]}),(0,t.jsxs)("span",{children:[s,"%"]})]}),t.jsx(E.E,{value:s,className:"h-2"}),e.failedChunks>0&&(0,t.jsxs)("div",{className:"text-xs text-red-500",children:[e.failedChunks," fragmentos fallaron"]})]})]})]}),(0,t.jsxs)(j.Zb,{children:[(0,t.jsxs)(j.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(j.ll,{className:"text-sm font-medium",children:"Uso del Conocimiento"}),t.jsx(V.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(j.aY,{children:[t.jsx("div",{className:"text-2xl font-bold",children:e.totalUsage}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.usageThisMonth," consultas este mes"]}),t.jsx("div",{className:"mt-2",children:e.usageThisMonth>0&&e.totalUsage>0&&(0,t.jsxs)(z.C,{variant:"outline",className:"text-xs",children:[t.jsx(U.Z,{className:"w-3 h-3 mr-1"}),Math.round(e.usageThisMonth/e.totalUsage*100),"% este mes"]})})]})]}),(0,t.jsxs)(j.Zb,{children:[(0,t.jsxs)(j.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(j.ll,{className:"text-sm font-medium",children:"Calidad del Contenido"}),t.jsx(B.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(j.aY,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[Math.round(100*e.avgQuality),"%"]}),(0,t.jsxs)("div",{className:"space-y-2 mt-2",children:[t.jsx(E.E,{value:100*e.avgQuality,className:"h-2"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs",children:[t.jsx("span",{className:"text-gray-500",children:"Calidad promedio"}),e.errorSources>0&&(0,t.jsxs)("span",{className:"text-red-500 flex items-center gap-1",children:[t.jsx(C.Z,{className:"w-3 h-3"}),a,"% con errores"]})]})]})]})]}),e.topSources.length>0&&(0,t.jsxs)(j.Zb,{className:"md:col-span-2",children:[(0,t.jsxs)(j.Ol,{children:[t.jsx(j.ll,{className:"text-lg",children:"Fuentes M\xe1s Utilizadas"}),t.jsx(j.SZ,{children:"Fuentes de conocimiento que m\xe1s han ayudado a tu IA"})]}),t.jsx(j.aY,{children:t.jsx("div",{className:"space-y-3",children:e.topSources.slice(0,3).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${0===s?"bg-yellow-100 text-yellow-800":1===s?"bg-gray-100 text-gray-800":"bg-orange-100 text-orange-800"}`,children:s+1}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium text-sm",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[e.usageCount," usos",e.quality&&(0,t.jsxs)("span",{className:"ml-2",children:["• Calidad: ",Math.round(100*e.quality),"%"]})]})]})]}),t.jsx(z.C,{variant:"secondary",className:"text-xs",children:e.usageCount})]},e.id))})})]}),e.recentActivity.length>0&&(0,t.jsxs)(j.Zb,{className:"md:col-span-2",children:[(0,t.jsxs)(j.Ol,{children:[t.jsx(j.ll,{className:"text-lg",children:"Actividad Reciente"}),t.jsx(j.SZ,{children:"\xdaltimas actualizaciones en el entrenamiento de tu IA"})]}),t.jsx(j.aY,{children:t.jsx("div",{className:"space-y-3",children:e.recentActivity.slice(0,5).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${"ACTIVE"===e.status?"bg-green-500":"ERROR"===e.status?"bg-red-500":"PROCESSING"===e.status?"bg-yellow-500":"bg-gray-500"}`}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-sm font-medium truncate",children:e.sourceName}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["created"===e.action?"Fuente creada":"Actualizada"," • "," ",new Date(e.timestamp).toLocaleDateString("es-ES",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),t.jsx(z.C,{variant:"ACTIVE"===e.status?"default":"ERROR"===e.status?"destructive":"PROCESSING"===e.status?"secondary":"outline",className:"text-xs",children:e.status.toLowerCase()})]},`${e.id}-${s}`))})})]})]})}var $=a(87552),H=a(66843);let Q=(0,d.Z)("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);var Y=a(60979),X=a(67935),K=a(94437),J=a(99551),W=a(27328),ee=a(11192),es=a(57234),ea=a(84377);let et={ACTIVE:"bg-green-100 text-green-800",INACTIVE:"bg-gray-100 text-gray-800",TRAINING:"bg-yellow-100 text-yellow-800",ERROR:"bg-red-100 text-red-800"},er={ACTIVE:A.Z,INACTIVE:P.Z,TRAINING:R.Z,ERROR:C.Z},ei={COORDINATOR:c.Z,SALES:$.Z,SUPPORT:H.Z,TECHNICAL:Q,MARKETING:G.Z,GENERAL:Y.Z,CUSTOM:X.Z},el=[{value:"OPENAI",label:"OpenAI (GPT)"},{value:"ANTHROPIC",label:"Anthropic (Claude)"},{value:"GOOGLE",label:"Google (Gemini)"},{value:"COHERE",label:"Cohere"},{value:"HUGGING_FACE",label:"Hugging Face"},{value:"LOCAL",label:"Modelo Local"},{value:"CUSTOM",label:"API Personalizada"}],en=[{value:"COORDINATOR",label:"Coordinador",description:"Agente principal que deriva conversaciones"},{value:"SALES",label:"Ventas",description:"Especializado en ventas y conversiones"},{value:"SUPPORT",label:"Soporte",description:"Especializado en atenci\xf3n al cliente"},{value:"TECHNICAL",label:"T\xe9cnico",description:"Especializado en soporte t\xe9cnico"},{value:"MARKETING",label:"Marketing",description:"Especializado en marketing y promociones"},{value:"GENERAL",label:"General",description:"Prop\xf3sito general"},{value:"CUSTOM",label:"Personalizado",description:"Agente personalizado"}];function ec(){let{data:e}=(0,i.useSession)()||{},{toast:s}=(0,y.pm)(),[a,n]=(0,r.useState)([]),[d,o]=(0,r.useState)([]),[x,g]=(0,r.useState)(!0),[N,b]=(0,r.useState)(null),[w,C]=(0,r.useState)(!1),[E,k]=(0,r.useState)(!1),[S,A]=(0,r.useState)(null),[R,P]=(0,r.useState)(!1),[T,I]=(0,r.useState)(!1),[O,L]=(0,r.useState)({name:"",description:"",type:"GENERAL",aiProvider:"OPENAI",aiModel:"gpt-4",systemPrompt:"",isCoordinator:!1,priority:1,knowledgeSourceIds:[]}),F=async()=>{try{g(!0);let e=await fetch("/api/rag-agents"),s=await e.json(),a=await fetch("/api/knowledge"),t=await a.json(),r=await fetch("/api/rag-agents/stats"),i=await r.json();s.success&&n(s.data),t.success&&o(t.data.sources||[]),i.success&&b(i.data)}catch(e){console.error("Error loading RAG agents data:",e),s({title:"Error",description:"Error cargando datos",variant:"destructive"})}finally{g(!1)}},q=async()=>{try{P(!0);let e=await fetch("/api/rag-agents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)}),a=await e.json();a.success?(s({title:"\xc9xito",description:"Agente RAG creado correctamente"}),C(!1),L({name:"",description:"",type:"GENERAL",aiProvider:"OPENAI",aiModel:"gpt-4",systemPrompt:"",isCoordinator:!1,priority:1,knowledgeSourceIds:[]}),F()):s({title:"Error",description:a.error||"Error creando agente",variant:"destructive"})}catch(e){s({title:"Error",description:"Error de conexi\xf3n",variant:"destructive"})}finally{P(!1)}},D=e=>{A(e),L({name:e.name,description:e.description||"",type:e.type,aiProvider:e.aiProvider,aiModel:e.aiModel,systemPrompt:e.systemPrompt||"",isCoordinator:e.isCoordinator,priority:e.priority,knowledgeSourceIds:[]}),k(!0)},G=async()=>{if(S)try{I(!0);let e=await fetch(`/api/rag-agents/${S.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)}),a=await e.json();a.success?(s({title:"\xc9xito",description:"Agente actualizado correctamente"}),k(!1),A(null),F()):s({title:"Error",description:a.error||"Error actualizando agente",variant:"destructive"})}catch(e){s({title:"Error",description:"Error de conexi\xf3n",variant:"destructive"})}finally{I(!1)}},V=async(e,a)=>{try{let t="ACTIVE"===a?"INACTIVE":"ACTIVE",r=await fetch(`/api/rag-agents/${e}/toggle`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})}),i=await r.json();i.success?(s({title:"\xc9xito",description:`Agente ${"ACTIVE"===t?"activado":"desactivado"}`}),F()):s({title:"Error",description:i.error||"Error cambiando estado",variant:"destructive"})}catch(e){s({title:"Error",description:"Error de conexi\xf3n",variant:"destructive"})}},U=async e=>{if(confirm("\xbfEst\xe1s seguro de que quieres eliminar este agente? Esta acci\xf3n no se puede deshacer."))try{let a=await fetch(`/api/rag-agents/${e}`,{method:"DELETE"}),t=await a.json();t.success?(s({title:"\xc9xito",description:"Agente eliminado correctamente"}),F()):s({title:"Error",description:t.error||"Error eliminando agente",variant:"destructive"})}catch(e){s({title:"Error",description:"Error de conexi\xf3n",variant:"destructive"})}};if(x)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(Z.Z,{className:"h-8 w-8 animate-spin"})});let _=a.find(e=>e.isCoordinator);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Agentes RAG Inteligentes"}),t.jsx("p",{className:"text-gray-600",children:"Sistema avanzado de m\xfaltiples agentes especializados con IA"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(h.z,{onClick:F,variant:"outline",children:[t.jsx(Z.Z,{className:"h-4 w-4 mr-2"}),"Actualizar"]}),(0,t.jsxs)(f.Vq,{open:w,onOpenChange:C,children:[t.jsx(f.hg,{asChild:!0,children:(0,t.jsxs)(h.z,{children:[t.jsx(l.Z,{className:"h-4 w-4 mr-2"}),"Nuevo Agente"]})}),(0,t.jsxs)(f.cZ,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(f.fK,{children:[t.jsx(f.$N,{children:"Crear Agente RAG"}),t.jsx(f.Be,{children:"Configura un nuevo agente especializado con IA espec\xedfica"})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"name",children:"Nombre del Agente *"}),t.jsx(m.I,{id:"name",placeholder:"Agente de Ventas",value:O.name,onChange:e=>L(s=>({...s,name:e.target.value}))})]}),(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"description",children:"Descripci\xf3n"}),t.jsx(p.g,{id:"description",placeholder:"Descripci\xf3n del agente...",value:O.description,onChange:e=>L(s=>({...s,description:e.target.value}))})]}),(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"type",children:"Tipo de Agente *"}),(0,t.jsxs)(v.Ph,{value:O.type,onValueChange:e=>L(s=>({...s,type:e})),children:[t.jsx(v.i4,{children:t.jsx(v.ki,{})}),t.jsx(v.Bw,{children:en.map(e=>t.jsx(v.Ql,{value:e.value,children:(0,t.jsxs)("div",{className:"flex flex-col",children:[t.jsx("span",{children:e.label}),t.jsx("span",{className:"text-xs text-gray-500",children:e.description})]})},e.value))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"aiProvider",children:"Proveedor de IA *"}),(0,t.jsxs)(v.Ph,{value:O.aiProvider,onValueChange:e=>L(s=>({...s,aiProvider:e})),children:[t.jsx(v.i4,{children:t.jsx(v.ki,{})}),t.jsx(v.Bw,{children:el.map(e=>t.jsx(v.Ql,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"aiModel",children:"Modelo de IA *"}),t.jsx(m.I,{id:"aiModel",placeholder:"gpt-4, claude-3, etc.",value:O.aiModel,onChange:e=>L(s=>({...s,aiModel:e.target.value}))})]})]}),(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"systemPrompt",children:"Prompt del Sistema"}),t.jsx(p.g,{id:"systemPrompt",placeholder:"Eres un agente especializado en...",rows:3,value:O.systemPrompt,onChange:e=>L(s=>({...s,systemPrompt:e.target.value}))})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(ea.Switch,{id:"isCoordinator",checked:O.isCoordinator,onCheckedChange:e=>L(s=>({...s,isCoordinator:e}))}),t.jsx(u.Label,{htmlFor:"isCoordinator",children:"Agente Coordinador Principal"})]}),(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"priority",children:"Prioridad (1-10)"}),t.jsx(m.I,{id:"priority",type:"number",min:"1",max:"10",value:O.priority,onChange:e=>L(s=>({...s,priority:parseInt(e.target.value)}))})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[t.jsx(h.z,{variant:"outline",onClick:()=>C(!1),children:"Cancelar"}),t.jsx(h.z,{onClick:q,disabled:R,children:R?"Creando...":"Crear Agente"})]})]})]})]})]}),N&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(j.Zb,{children:(0,t.jsxs)(j.aY,{className:"flex items-center justify-between p-6",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Agentes Activos"}),t.jsx("p",{className:"text-2xl font-bold",children:N.activeAgents||0})]}),t.jsx(Y.Z,{className:"h-8 w-8 text-blue-500"})]})}),t.jsx(j.Zb,{children:(0,t.jsxs)(j.aY,{className:"flex items-center justify-between p-6",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Conversaciones"}),t.jsx("p",{className:"text-2xl font-bold",children:N.totalConversations||0})]}),t.jsx(K.Z,{className:"h-8 w-8 text-green-500"})]})}),t.jsx(j.Zb,{children:(0,t.jsxs)(j.aY,{className:"flex items-center justify-between p-6",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Mensajes"}),t.jsx("p",{className:"text-2xl font-bold",children:N.totalMessages||0})]}),t.jsx(B.Z,{className:"h-8 w-8 text-purple-500"})]})}),t.jsx(j.Zb,{children:(0,t.jsxs)(j.aY,{className:"flex items-center justify-between p-6",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rating Promedio"}),t.jsx("p",{className:"text-2xl font-bold",children:N.averageRating?N.averageRating.toFixed(1):"—"})]}),t.jsx($.Z,{className:"h-8 w-8 text-yellow-500"})]})})]}),_&&(0,t.jsxs)(j.Zb,{className:"border-blue-200 bg-blue-50",children:[t.jsx(j.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(c.Z,{className:"h-6 w-6 text-blue-600"})}),(0,t.jsxs)("div",{children:[t.jsx(j.ll,{className:"text-blue-900",children:"Agente Coordinador Principal"}),(0,t.jsxs)(j.SZ,{className:"text-blue-700",children:[_.name," - ",_.description]})]})]}),t.jsx(z.C,{className:"bg-blue-100 text-blue-800",children:"Coordinador"})]})}),t.jsx(j.aY,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-blue-600",children:"Proveedor:"}),t.jsx("p",{className:"font-medium",children:_.aiProvider})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-blue-600",children:"Modelo:"}),t.jsx("p",{className:"font-medium",children:_.aiModel})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-blue-600",children:"Conversaciones:"}),t.jsx("p",{className:"font-medium",children:_.totalConversations})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[t.jsx(h.z,{variant:"outline",size:"sm",onClick:()=>D(_),children:t.jsx(X.Z,{className:"h-4 w-4"})}),t.jsx(h.z,{variant:"outline",size:"sm",onClick:()=>V(_.id,_.status),children:"ACTIVE"===_.status?t.jsx(J.Z,{className:"h-4 w-4"}):t.jsx(W.Z,{className:"h-4 w-4"})})]})]})})]}),(0,t.jsxs)(j.Zb,{children:[(0,t.jsxs)(j.Ol,{children:[t.jsx(j.ll,{children:"Agentes Especializados"}),t.jsx(j.SZ,{children:"Agentes especializados para diferentes funciones de tu negocio"})]}),t.jsx(j.aY,{children:0===a.filter(e=>!e.isCoordinator).length?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(ee.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No hay agentes especializados configurados"}),t.jsx(h.z,{className:"mt-4",onClick:()=>C(!0),children:"Crear Primer Agente"})]}):t.jsx("div",{className:"space-y-4",children:a.filter(e=>!e.isCoordinator).map(e=>{let s=er[e.status],a=ei[e.type]||Y.Z;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:t.jsx(a,{className:"h-5 w-5 text-gray-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("h3",{className:"font-medium",children:e.name}),(0,t.jsxs)(z.C,{className:et[e.status],children:[t.jsx(s,{className:"h-3 w-3 mr-1"}),e.status]}),t.jsx(z.C,{variant:"outline",className:"text-xs",children:e.type})]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.description||"Sin descripci\xf3n"}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500 mt-2",children:[(0,t.jsxs)("span",{children:[e.aiProvider," • ",e.aiModel]}),(0,t.jsxs)("span",{children:[e.totalConversations," conversaciones"]}),(0,t.jsxs)("span",{children:[e.totalMessages," mensajes"]}),e.averageRating&&(0,t.jsxs)("span",{children:["★ ",e.averageRating.toFixed(1)]})]})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[t.jsx(h.z,{variant:"outline",size:"sm",onClick:()=>D(e),children:t.jsx(es.Z,{className:"h-4 w-4"})}),t.jsx(h.z,{variant:"outline",size:"sm",onClick:()=>V(e.id,e.status),children:"ACTIVE"===e.status?t.jsx(J.Z,{className:"h-4 w-4"}):t.jsx(W.Z,{className:"h-4 w-4"})}),t.jsx(h.z,{variant:"outline",size:"sm",onClick:()=>U(e.id),className:"text-red-600 hover:text-red-700",children:t.jsx(M.Z,{className:"h-4 w-4"})})]})]},e.id)})})})]}),t.jsx(f.Vq,{open:E,onOpenChange:k,children:(0,t.jsxs)(f.cZ,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(f.fK,{children:[t.jsx(f.$N,{children:"Editar Agente RAG"}),t.jsx(f.Be,{children:"Modifica la configuraci\xf3n del agente"})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"edit-name",children:"Nombre del Agente *"}),t.jsx(m.I,{id:"edit-name",value:O.name,onChange:e=>L(s=>({...s,name:e.target.value}))})]}),(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"edit-description",children:"Descripci\xf3n"}),t.jsx(p.g,{id:"edit-description",value:O.description,onChange:e=>L(s=>({...s,description:e.target.value}))})]}),(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"edit-type",children:"Tipo de Agente *"}),(0,t.jsxs)(v.Ph,{value:O.type,onValueChange:e=>L(s=>({...s,type:e})),children:[t.jsx(v.i4,{children:t.jsx(v.ki,{})}),t.jsx(v.Bw,{children:en.map(e=>t.jsx(v.Ql,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"edit-aiProvider",children:"Proveedor de IA *"}),(0,t.jsxs)(v.Ph,{value:O.aiProvider,onValueChange:e=>L(s=>({...s,aiProvider:e})),children:[t.jsx(v.i4,{children:t.jsx(v.ki,{})}),t.jsx(v.Bw,{children:el.map(e=>t.jsx(v.Ql,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"edit-aiModel",children:"Modelo de IA *"}),t.jsx(m.I,{id:"edit-aiModel",value:O.aiModel,onChange:e=>L(s=>({...s,aiModel:e.target.value}))})]})]}),(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"edit-systemPrompt",children:"Prompt del Sistema"}),t.jsx(p.g,{id:"edit-systemPrompt",rows:3,value:O.systemPrompt,onChange:e=>L(s=>({...s,systemPrompt:e.target.value}))})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(ea.Switch,{id:"edit-isCoordinator",checked:O.isCoordinator,onCheckedChange:e=>L(s=>({...s,isCoordinator:e}))}),t.jsx(u.Label,{htmlFor:"edit-isCoordinator",children:"Agente Coordinador Principal"})]}),(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"edit-priority",children:"Prioridad (1-10)"}),t.jsx(m.I,{id:"edit-priority",type:"number",min:"1",max:"10",value:O.priority,onChange:e=>L(s=>({...s,priority:parseInt(e.target.value)}))})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[t.jsx(h.z,{variant:"outline",onClick:()=>k(!1),children:"Cancelar"}),t.jsx(h.z,{onClick:G,disabled:T,children:T?"Actualizando...":"Actualizar"})]})]})})]})}function ed(){let{data:e}=(0,i.useSession)()||{},{toast:s}=(0,y.pm)(),[a,d]=(0,r.useState)([]),[b,w]=(0,r.useState)(null),[C,E]=(0,r.useState)(!0),[k,A]=(0,r.useState)(""),[R,P]=(0,r.useState)("all"),[Z,T]=(0,r.useState)("all"),[I,M]=(0,r.useState)(!1),[z,O]=(0,r.useState)(!1),[L,F]=(0,r.useState)(!1),[q,G]=(0,r.useState)(!1),[V,U]=(0,r.useState)(!1),[B,$]=(0,r.useState)({url:"",name:"",tags:""}),[H,Q]=(0,r.useState)({name:"",content:"",tags:""}),Y=async()=>{try{E(!0);let e=new URLSearchParams;k&&e.set("search",k),"all"!==R&&e.set("status",R),"all"!==Z&&e.set("type",Z);let a=await fetch(`/api/knowledge?${e}`),t=await a.json();t.success?d(t.data.sources):s({title:"Error",description:t.error||"Error cargando fuentes",variant:"destructive"})}catch(e){console.error("Error loading sources:",e),s({title:"Error",description:"Error de conexi\xf3n",variant:"destructive"})}finally{E(!1)}},X=async()=>{try{let e=await fetch("/api/knowledge/stats"),s=await e.json();s.success&&w(s.data)}catch(e){console.error("Error loading stats:",e)}},K=(0,r.useCallback)(e=>{d(s=>[e,...s]),M(!1),G(!1),s({title:"\xc9xito",description:"Archivo subido correctamente. El procesamiento comenzar\xe1 en breve."}),X()},[s]),J=async()=>{if(!B.url||!B.name){s({title:"Error",description:"URL y nombre son requeridos",variant:"destructive"});return}try{U(!0);let e=await fetch("/api/knowledge",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:B.name,type:N.rH.URL,sourceUrl:B.url,tags:B.tags.split(",").map(e=>e.trim()).filter(e=>e)})}),a=await e.json();a.success?(d(e=>[a.data.source,...e]),O(!1),$({url:"",name:"",tags:""}),s({title:"\xc9xito",description:"URL agregada correctamente. Procesamiento iniciado."}),X()):s({title:"Error",description:a.error||"Error agregando URL",variant:"destructive"})}catch(e){s({title:"Error",description:"Error de conexi\xf3n",variant:"destructive"})}finally{U(!1)}},W=async()=>{if(!H.name||!H.content){s({title:"Error",description:"Nombre y contenido son requeridos",variant:"destructive"});return}try{U(!0);let e=await fetch("/api/knowledge",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:H.name,type:N.rH.TEXT,textContent:H.content,tags:H.tags.split(",").map(e=>e.trim()).filter(e=>e)})}),a=await e.json();a.success?(d(e=>[a.data.source,...e]),F(!1),Q({name:"",content:"",tags:""}),s({title:"\xc9xito",description:"Contenido agregado correctamente. Procesamiento iniciado."}),X()):s({title:"Error",description:a.error||"Error agregando contenido",variant:"destructive"})}catch(e){s({title:"Error",description:"Error de conexi\xf3n",variant:"destructive"})}finally{U(!1)}},ee=async e=>{if(confirm("\xbfEst\xe1s seguro de que quieres eliminar esta fuente? Esta acci\xf3n no se puede deshacer."))try{let a=await fetch(`/api/knowledge/${e}`,{method:"DELETE"}),t=await a.json();t.success?(d(s=>s.filter(s=>s.id!==e)),s({title:"\xc9xito",description:"Fuente eliminada correctamente"}),X()):s({title:"Error",description:t.error||"Error eliminando fuente",variant:"destructive"})}catch(e){s({title:"Error",description:"Error de conexi\xf3n",variant:"destructive"})}},es=async e=>{try{let a=await fetch(`/api/knowledge/${e}/process`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({forceReprocess:!0})}),t=await a.json();t.success?(s({title:"\xc9xito",description:"Reprocesamiento iniciado"}),d(s=>s.map(s=>s.id===e?{...s,status:N.hC.PROCESSING}:s))):s({title:"Error",description:t.error||"Error reprocesando fuente",variant:"destructive"})}catch(e){s({title:"Error",description:"Error de conexi\xf3n",variant:"destructive"})}};return(0,t.jsxs)("div",{className:"container mx-auto py-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Base de Conocimiento Avanzada"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Sistema inteligente de m\xfaltiples agentes RAG especializados con diferentes proveedores de IA"})]}),t.jsx("div",{className:"flex gap-2",children:(0,t.jsxs)(f.Vq,{open:I,onOpenChange:M,children:[t.jsx(f.hg,{asChild:!0,children:(0,t.jsxs)(h.z,{children:[t.jsx(l.Z,{className:"h-4 w-4 mr-2"}),"Agregar Conocimiento"]})}),(0,t.jsxs)(f.cZ,{className:"sm:max-w-md",children:[(0,t.jsxs)(f.fK,{children:[t.jsx(f.$N,{children:"Agregar Fuente de Conocimiento"}),t.jsx(f.Be,{children:"Elige el tipo de contenido que quieres agregar a tu base de conocimiento."})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)(h.z,{variant:"outline",className:"h-20 flex flex-col gap-2",onClick:()=>{M(!1),G(!0)},children:[t.jsx(n.Z,{className:"h-6 w-6"}),t.jsx("span",{children:"Subir Archivo"}),t.jsx("span",{className:"text-xs text-gray-500",children:"PDF, DOC, TXT"})]}),(0,t.jsxs)(h.z,{variant:"outline",className:"h-20 flex flex-col gap-2",onClick:()=>{M(!1),O(!0)},children:[t.jsx(c.Z,{className:"h-6 w-6"}),t.jsx("span",{children:"P\xe1gina Web"}),t.jsx("span",{className:"text-xs text-gray-500",children:"URL o sitio web"})]}),(0,t.jsxs)(h.z,{variant:"outline",className:"h-20 flex flex-col gap-2",onClick:()=>{M(!1),F(!0)},children:[t.jsx(o,{className:"h-6 w-6"}),t.jsx("span",{children:"Texto Manual"}),t.jsx("span",{className:"text-xs text-gray-500",children:"Escribir directamente"})]})]})]})]})})]}),(0,t.jsxs)(g.Tabs,{defaultValue:"agents",className:"space-y-6",children:[(0,t.jsxs)(g.TabsList,{className:"grid w-full grid-cols-2",children:[t.jsx(g.TabsTrigger,{value:"agents",children:"Agentes RAG Inteligentes"}),t.jsx(g.TabsTrigger,{value:"sources",children:"Fuentes de Conocimiento"})]}),t.jsx(g.TabsContent,{value:"agents",className:"space-y-6",children:t.jsx(ec,{})}),(0,t.jsxs)(g.TabsContent,{value:"sources",className:"space-y-6",children:[b&&t.jsx(_,{stats:b}),(0,t.jsxs)(j.Zb,{children:[t.jsx(j.Ol,{children:t.jsx(j.ll,{className:"text-lg",children:"Fuentes de Conocimiento"})}),(0,t.jsxs)(j.aY,{children:[(0,t.jsxs)("div",{className:"flex gap-4 mb-6",children:[t.jsx("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[t.jsx(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(m.I,{placeholder:"Buscar fuentes...",value:k,onChange:e=>A(e.target.value),className:"pl-10"})]})}),(0,t.jsxs)(v.Ph,{value:R,onValueChange:P,children:[t.jsx(v.i4,{className:"w-48",children:t.jsx(v.ki,{placeholder:"Filtrar por estado"})}),(0,t.jsxs)(v.Bw,{children:[t.jsx(v.Ql,{value:"all",children:"Todos los estados"}),t.jsx(v.Ql,{value:"ACTIVE",children:"Activo"}),t.jsx(v.Ql,{value:"PROCESSING,CHUNKING,EMBEDDING",children:"Procesando"}),t.jsx(v.Ql,{value:"ERROR",children:"Con Error"}),t.jsx(v.Ql,{value:"DISABLED",children:"Deshabilitado"})]})]}),(0,t.jsxs)(v.Ph,{value:Z,onValueChange:T,children:[t.jsx(v.i4,{className:"w-48",children:t.jsx(v.ki,{placeholder:"Filtrar por tipo"})}),(0,t.jsxs)(v.Bw,{children:[t.jsx(v.Ql,{value:"all",children:"Todos los tipos"}),t.jsx(v.Ql,{value:"FILE",children:"Archivos"}),t.jsx(v.Ql,{value:"URL",children:"URLs"}),t.jsx(v.Ql,{value:"TEXT",children:"Texto"})]})]})]}),t.jsx(D,{sources:a,loading:C,onDelete:ee,onReprocess:es,onRefresh:Y})]})]}),t.jsx(f.Vq,{open:z,onOpenChange:O,children:(0,t.jsxs)(f.cZ,{className:"sm:max-w-md",children:[(0,t.jsxs)(f.fK,{children:[t.jsx(f.$N,{children:"Agregar P\xe1gina Web"}),t.jsx(f.Be,{children:"Agrega una URL para que nuestra IA extraiga el contenido autom\xe1ticamente."})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"url",children:"URL *"}),t.jsx(m.I,{id:"url",placeholder:"https://ejemplo.com",value:B.url,onChange:e=>$(s=>({...s,url:e.target.value}))})]}),(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"url-name",children:"Nombre *"}),t.jsx(m.I,{id:"url-name",placeholder:"Mi sitio web",value:B.name,onChange:e=>$(s=>({...s,name:e.target.value}))})]}),(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"url-tags",children:"Etiquetas (opcional)"}),t.jsx(m.I,{id:"url-tags",placeholder:"web, productos, precios",value:B.tags,onChange:e=>$(s=>({...s,tags:e.target.value}))})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[t.jsx(h.z,{variant:"outline",onClick:()=>O(!1),children:"Cancelar"}),t.jsx(h.z,{onClick:J,disabled:V,children:V?"Procesando...":"Agregar URL"})]})]})}),t.jsx(f.Vq,{open:L,onOpenChange:F,children:(0,t.jsxs)(f.cZ,{className:"sm:max-w-2xl",children:[(0,t.jsxs)(f.fK,{children:[t.jsx(f.$N,{children:"Agregar Contenido de Texto"}),t.jsx(f.Be,{children:"Escribe o pega el contenido que quieres que tu IA aprenda."})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"text-name",children:"Nombre *"}),t.jsx(m.I,{id:"text-name",placeholder:"Mi documento de texto",value:H.name,onChange:e=>Q(s=>({...s,name:e.target.value}))})]}),(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"text-content",children:"Contenido *"}),t.jsx(p.g,{id:"text-content",placeholder:"Escribe aqu\xed el contenido que quieres que tu IA aprenda...",rows:10,value:H.content,onChange:e=>Q(s=>({...s,content:e.target.value}))})]}),(0,t.jsxs)("div",{children:[t.jsx(u.Label,{htmlFor:"text-tags",children:"Etiquetas (opcional)"}),t.jsx(m.I,{id:"text-tags",placeholder:"manual, gu\xeda, procedimientos",value:H.tags,onChange:e=>Q(s=>({...s,tags:e.target.value}))})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[t.jsx(h.z,{variant:"outline",onClick:()=>F(!1),children:"Cancelar"}),t.jsx(h.z,{onClick:W,disabled:V,children:V?"Procesando...":"Agregar Contenido"})]})]})}),t.jsx(f.Vq,{open:q,onOpenChange:G,children:(0,t.jsxs)(f.cZ,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(f.fK,{children:[t.jsx(f.$N,{children:"Subir Documentos"}),t.jsx(f.Be,{children:"Sube documentos PDF, DOC, TXT u otros archivos para entrenar tu IA."})]}),t.jsx("div",{className:"py-4",children:t.jsx(S,{onUploadSuccess:K,onCancel:()=>G(!1)})})]})})]})]})]})}},80568:(e,s,a)=>{"use strict";a.d(s,{Cd:()=>d,X:()=>o,bZ:()=>c});var t=a(62901),r=a(24383),i=a(47279),l=a(68637);let n=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=r.forwardRef(({className:e,variant:s,...a},r)=>t.jsx("div",{ref:r,role:"alert",className:(0,l.cn)(n({variant:s}),e),...a}));c.displayName="Alert";let d=r.forwardRef(({className:e,...s},a)=>t.jsx("h5",{ref:a,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",e),...s}));d.displayName="AlertTitle";let o=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",e),...s}));o.displayName="AlertDescription"},82657:(e,s,a)=>{"use strict";a.d(s,{Label:()=>d});var t=a(62901),r=a(24383),i=a(8388),l=a(47279),n=a(68637);let c=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef(({className:e,...s},a)=>t.jsx(i.f,{ref:a,className:(0,n.cn)(c(),e),...s}));d.displayName=i.f.displayName},72388:(e,s,a)=>{"use strict";a.d(s,{Bw:()=>p,Ph:()=>o,Ql:()=>j,i4:()=>h,ki:()=>x});var t=a(62901),r=a(24383),i=a(76960),l=a(7259),n=a(26026),c=a(85453),d=a(68637);let o=i.fC;i.ZA;let x=i.B4,h=r.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(i.xz,{ref:r,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[s,t.jsx(i.JO,{asChild:!0,children:t.jsx(l.Z,{className:"h-4 w-4 opacity-50"})})]}));h.displayName=i.xz.displayName;let m=r.forwardRef(({className:e,...s},a)=>t.jsx(i.u_,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(n.Z,{className:"h-4 w-4"})}));m.displayName=i.u_.displayName;let u=r.forwardRef(({className:e,...s},a)=>t.jsx(i.$G,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(l.Z,{className:"h-4 w-4"})}));u.displayName=i.$G.displayName;let p=r.forwardRef(({className:e,children:s,position:a="popper",...r},l)=>t.jsx(i.h_,{children:(0,t.jsxs)(i.VY,{ref:l,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[t.jsx(m,{}),t.jsx(i.l_,{className:(0,d.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),t.jsx(u,{})]})}));p.displayName=i.VY.displayName,r.forwardRef(({className:e,...s},a)=>t.jsx(i.__,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=i.__.displayName;let j=r.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(i.ck,{ref:r,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(i.wU,{children:t.jsx(c.Z,{className:"h-4 w-4"})})}),t.jsx(i.eT,{children:s})]}));j.displayName=i.ck.displayName,r.forwardRef(({className:e,...s},a)=>t.jsx(i.Z0,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=i.Z0.displayName},84377:(e,s,a)=>{"use strict";a.d(s,{Switch:()=>n});var t=a(62901),r=a(24383),i=a(59094),l=a(68637);let n=r.forwardRef(({className:e,...s},a)=>t.jsx(i.fC,{className:(0,l.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:a,children:t.jsx(i.bU,{className:(0,l.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));n.displayName=i.fC.displayName},72405:(e,s,a)=>{"use strict";a.d(s,{RM:()=>c,SC:()=>d,iA:()=>l,pj:()=>x,ss:()=>o,xD:()=>n});var t=a(62901),r=a(24383),i=a(68637);let l=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:a,className:(0,i.cn)("w-full caption-bottom text-sm",e),...s})}));l.displayName="Table";let n=r.forwardRef(({className:e,...s},a)=>t.jsx("thead",{ref:a,className:(0,i.cn)("[&_tr]:border-b",e),...s}));n.displayName="TableHeader";let c=r.forwardRef(({className:e,...s},a)=>t.jsx("tbody",{ref:a,className:(0,i.cn)("[&_tr:last-child]:border-0",e),...s}));c.displayName="TableBody",r.forwardRef(({className:e,...s},a)=>t.jsx("tfoot",{ref:a,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let d=r.forwardRef(({className:e,...s},a)=>t.jsx("tr",{ref:a,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));d.displayName="TableRow";let o=r.forwardRef(({className:e,...s},a)=>t.jsx("th",{ref:a,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));o.displayName="TableHead";let x=r.forwardRef(({className:e,...s},a)=>t.jsx("td",{ref:a,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));x.displayName="TableCell",r.forwardRef(({className:e,...s},a)=>t.jsx("caption",{ref:a,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption"},84227:(e,s,a)=>{"use strict";a.d(s,{Tabs:()=>n,TabsContent:()=>o,TabsList:()=>c,TabsTrigger:()=>d});var t=a(62901),r=a(24383),i=a(49099),l=a(68637);let n=i.fC,c=r.forwardRef(({className:e,...s},a)=>t.jsx(i.aV,{ref:a,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));c.displayName=i.aV.displayName;let d=r.forwardRef(({className:e,...s},a)=>t.jsx(i.xz,{ref:a,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));d.displayName=i.xz.displayName;let o=r.forwardRef(({className:e,...s},a)=>t.jsx(i.VY,{ref:a,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));o.displayName=i.VY.displayName},17965:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},91334:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},75811:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},99551:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},27328:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},10780:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},57234:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},71028:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},91464:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},83697:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(88895).createProxy)(String.raw`/home/ubuntu/comodin_ia/app/app/(authenticated)/knowledge-base/page.tsx#default`)},8388:(e,s,a)=>{"use strict";a.d(s,{f:()=>n});var t=a(24383),r=a(74132),i=a(62901),l=t.forwardRef((e,s)=>(0,i.jsx)(r.WV.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var n=l},59094:(e,s,a)=>{"use strict";a.d(s,{bU:()=>w,fC:()=>b});var t=a(24383),r=a(1940),i=a(56163),l=a(89291),n=a(98106),c=a(45666),d=a(49209),o=a(74132),x=a(62901),h="Switch",[m,u]=(0,l.b)(h),[p,j]=m(h),g=t.forwardRef((e,s)=>{let{__scopeSwitch:a,name:l,checked:c,defaultChecked:d,required:h,disabled:m,value:u="on",onCheckedChange:j,...g}=e,[v,f]=t.useState(null),b=(0,i.e)(s,e=>f(e)),w=t.useRef(!1),C=!v||!!v.closest("form"),[E=!1,k]=(0,n.T)({prop:c,defaultProp:d,onChange:j});return(0,x.jsxs)(p,{scope:a,checked:E,disabled:m,children:[(0,x.jsx)(o.WV.button,{type:"button",role:"switch","aria-checked":E,"aria-required":h,"data-state":N(E),"data-disabled":m?"":void 0,disabled:m,value:u,...g,ref:b,onClick:(0,r.M)(e.onClick,e=>{k(e=>!e),C&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())})}),C&&(0,x.jsx)(y,{control:v,bubbles:!w.current,name:l,value:u,checked:E,required:h,disabled:m,style:{transform:"translateX(-100%)"}})]})});g.displayName=h;var v="SwitchThumb",f=t.forwardRef((e,s)=>{let{__scopeSwitch:a,...t}=e,r=j(v,a);return(0,x.jsx)(o.WV.span,{"data-state":N(r.checked),"data-disabled":r.disabled?"":void 0,...t,ref:s})});f.displayName=v;var y=e=>{let{control:s,checked:a,bubbles:r=!0,...i}=e,l=t.useRef(null),n=(0,c.D)(a),o=(0,d.t)(s);return t.useEffect(()=>{let e=l.current,s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(n!==a&&s){let t=new Event("click",{bubbles:r});s.call(e,a),e.dispatchEvent(t)}},[n,a,r]),(0,x.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...i,tabIndex:-1,ref:l,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function N(e){return e?"checked":"unchecked"}var b=g,w=f}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[4372,7329,1472,7420,5003,8855,9358,533,6129,6408,1826,6003,9788],()=>a(8248));module.exports=t})();