(()=>{var e={};e.id=9668,e.ids=[9668],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},38852:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(29912),s(69910),s(71363),s(15307);var t=s(36576),r=s(72007),i=s(21818),n=s.n(i),o=s(88897),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(a,l);let d=["",{children:["(authenticated)",{children:["campaigns",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,29912)),"/home/ubuntu/comodin_ia/app/app/(authenticated)/campaigns/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,69910)),"/home/ubuntu/comodin_ia/app/app/(authenticated)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,71363,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,15307)),"/home/ubuntu/comodin_ia/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,71363,23)),"next/dist/client/components/not-found-error"]}],c=["/home/ubuntu/comodin_ia/app/app/(authenticated)/campaigns/page.tsx"],u="/(authenticated)/campaigns/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(authenticated)/campaigns/page",pathname:"/campaigns",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},17173:(e,a,s)=>{Promise.resolve().then(s.bind(s,76825))},76825:(e,a,s)=>{"use strict";s.d(a,{default:()=>A});var t=s(62901),r=s(24383),i=s(23803),n=s(27878),o=s(31606),l=s(21395),d=s(84227),c=s(97718),u=s(26482),m=s(66843),p=s(30808),x=s(35825),E=s(27328),h=s(99551),g=s(30502),N=s(19406),f=s(60437),v=s(97623);function A({canCreateCampaigns:e,canExecuteCampaigns:a,canPauseCampaigns:s}){let[A,y]=(0,r.useState)([]),[j,C]=(0,r.useState)(null),[T,I]=(0,r.useState)(!0),[b,R]=(0,r.useState)("all"),{toast:S}=(0,f.pm)(),P=async()=>{try{I(!0);let[e,a]=await Promise.all([fetch("/api/campaigns"),fetch("/api/campaigns/stats")]);if(e.ok){let a=await e.json();y(a.data||[])}if(a.ok){let e=await a.json();C(e.data)}}catch(e){console.error("Error loading campaigns data:",e),S({title:"Error",description:"No se pudieron cargar los datos de campa\xf1as",variant:"destructive"})}finally{I(!1)}},D=async(e,a)=>{try{let s="",t="POST";switch(a){case"execute":s=`/api/campaigns/${e}/execute`;break;case"pause":s=`/api/campaigns/${e}/pause`;break;case"resume":s=`/api/campaigns/${e}/pause`,t="DELETE"}let r=await fetch(s,{method:t}),i=await r.json();if(i.success)S({title:"\xc9xito",description:i.message}),P();else throw Error(i.error)}catch(e){console.error(`Error executing campaign action ${a}:`,e),S({title:"Error",description:`Error al ${"execute"===a?"ejecutar":"pause"===a?"pausar":"reanudar"} la campa\xf1a`,variant:"destructive"})}},w=A.filter(e=>{switch(b){case"active":return["SENDING","SCHEDULED"].includes(e.status);case"draft":return"DRAFT"===e.status;case"completed":return"COMPLETED"===e.status;case"paused":return["PAUSED","CANCELLED","FAILED"].includes(e.status);default:return!0}});return T?(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-between items-center",children:(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"La M\xe1quina de Crecimiento"}),t.jsx("p",{className:"text-muted-foreground",children:"Sistema de campa\xf1as profesionales con segmentaci\xf3n avanzada"})]})}),t.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[void 0,void 0,void 0,void 0].map((e,a)=>t.jsx(i.Zb,{children:t.jsx(i.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"animate-pulse space-y-2",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]})})},a))})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"La M\xe1quina de Crecimiento"}),t.jsx("p",{className:"text-muted-foreground",children:"Sistema de campa\xf1as profesionales con segmentaci\xf3n avanzada"})]}),e&&(0,t.jsxs)(n.z,{onClick:()=>window.location.href="/campaigns/create",children:[t.jsx(c.Z,{className:"mr-2 h-4 w-4"}),"Nueva Campa\xf1a"]})]}),j&&(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(i.ll,{className:"text-sm font-medium",children:"Total de Campa\xf1as"}),t.jsx(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(i.aY,{children:[t.jsx("div",{className:"text-2xl font-bold",children:j.totalCampaigns}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[j.activeCampaigns," activas"]})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(i.ll,{className:"text-sm font-medium",children:"Mensajes Enviados"}),t.jsx(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(i.aY,{children:[t.jsx("div",{className:"text-2xl font-bold",children:j.totalMessagesSent.toLocaleString()}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Este mes"})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(i.ll,{className:"text-sm font-medium",children:"Tasa de Entrega"}),t.jsx(p.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(i.aY,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[j.avgDeliveryRate.toFixed(1),"%"]}),t.jsx(l.E,{value:j.avgDeliveryRate,className:"mt-2"})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(i.ll,{className:"text-sm font-medium",children:"Costo Total"}),t.jsx(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(i.aY,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:["$",j.totalCostThisMonth.toFixed(2)]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Este mes"})]})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[t.jsx(i.ll,{children:"Campa\xf1as"}),t.jsx(i.SZ,{children:"Gestiona tus campa\xf1as de marketing y comunicaci\xf3n"})]}),t.jsx(i.aY,{children:(0,t.jsxs)(d.Tabs,{value:b,onValueChange:R,children:[(0,t.jsxs)(d.TabsList,{children:[(0,t.jsxs)(d.TabsTrigger,{value:"all",children:["Todas (",A.length,")"]}),(0,t.jsxs)(d.TabsTrigger,{value:"active",children:["Activas (",A.filter(e=>["SENDING","SCHEDULED"].includes(e.status)).length,")"]}),(0,t.jsxs)(d.TabsTrigger,{value:"draft",children:["Borradores (",A.filter(e=>"DRAFT"===e.status).length,")"]}),(0,t.jsxs)(d.TabsTrigger,{value:"completed",children:["Completadas (",A.filter(e=>"COMPLETED"===e.status).length,")"]}),(0,t.jsxs)(d.TabsTrigger,{value:"paused",children:["Pausadas (",A.filter(e=>["PAUSED","CANCELLED","FAILED"].includes(e.status)).length,")"]})]}),t.jsx(d.TabsContent,{value:b,className:"space-y-4 mt-4",children:0===w.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(u.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),t.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay campa\xf1as"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"all"===b?"Comienza creando tu primera campa\xf1a":`No hay campa\xf1as ${"active"===b?"activas":"draft"===b?"en borrador":"completed"===b?"completadas":"pausadas"}`}),e&&"all"===b&&t.jsx("div",{className:"mt-6",children:(0,t.jsxs)(n.z,{onClick:()=>window.location.href="/campaigns/create",children:[t.jsx(c.Z,{className:"mr-2 h-4 w-4"}),"Nueva Campa\xf1a"]})})]}):t.jsx("div",{className:"space-y-4",children:w.map(e=>t.jsx(i.Zb,{className:"hover:shadow-md transition-shadow",children:t.jsx(i.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("h3",{className:"font-semibold",children:e.name}),t.jsx(o.C,{variant:"outline",className:`text-xs ${"green"===v.uU[e.status]?"bg-green-50 text-green-700 border-green-200":"yellow"===v.uU[e.status]?"bg-yellow-50 text-yellow-700 border-yellow-200":"red"===v.uU[e.status]?"bg-red-50 text-red-700 border-red-200":"blue"===v.uU[e.status]?"bg-blue-50 text-blue-700 border-blue-200":"orange"===v.uU[e.status]?"bg-orange-50 text-orange-700 border-orange-200":"bg-gray-50 text-gray-700 border-gray-200"}`,children:v.Dn[e.status]}),t.jsx(o.C,{variant:"secondary",className:"text-xs",children:v.Rh[e.type]})]}),e.description&&t.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{children:["Plantilla: ",e.templateName]}),t.jsx("span",{children:"•"}),(0,t.jsxs)("span",{children:["Audiencia: ",e.targetAudienceSize.toLocaleString()]}),t.jsx("span",{children:"•"}),(0,t.jsxs)("span",{children:["Enviados: ",e.messagesSent.toLocaleString()]}),e.deliveryRate>0&&(0,t.jsxs)(t.Fragment,{children:[t.jsx("span",{children:"•"}),(0,t.jsxs)("span",{children:["Entrega: ",e.deliveryRate.toFixed(1),"%"]})]})]}),"SENDING"===e.status&&e.messagesSent>0&&(0,t.jsxs)("div",{className:"mt-2",children:[t.jsx(l.E,{value:e.messagesSent/e.totalRecipients*100,className:"h-2"}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[e.messagesSent," de ",e.totalRecipients," mensajes enviados"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:["DRAFT"===e.status&&a&&(0,t.jsxs)(n.z,{size:"sm",onClick:()=>D(e.id,"execute"),children:[t.jsx(E.Z,{className:"h-4 w-4 mr-1"}),"Ejecutar"]}),"SENDING"===e.status&&s&&(0,t.jsxs)(n.z,{size:"sm",variant:"outline",onClick:()=>D(e.id,"pause"),children:[t.jsx(h.Z,{className:"h-4 w-4 mr-1"}),"Pausar"]}),"PAUSED"===e.status&&a&&(0,t.jsxs)(n.z,{size:"sm",onClick:()=>D(e.id,"resume"),children:[t.jsx(E.Z,{className:"h-4 w-4 mr-1"}),"Reanudar"]}),(0,t.jsxs)(N.h_,{children:[t.jsx(N.$F,{asChild:!0,children:t.jsx(n.z,{variant:"ghost",size:"sm",children:t.jsx(g.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(N.AW,{children:[t.jsx(N.Xi,{onClick:()=>window.location.href=`/campaigns/${e.id}`,children:"Ver detalles"}),t.jsx(N.Xi,{onClick:()=>window.location.href=`/campaigns/${e.id}/analytics`,children:"Ver anal\xedticas"}),"DRAFT"===e.status&&t.jsx(N.Xi,{onClick:()=>window.location.href=`/campaigns/${e.id}/edit`,children:"Editar"})]})]})]})]})})},e.id))})})]})})]})]})}},23803:(e,a,s)=>{"use strict";s.d(a,{Ol:()=>o,SZ:()=>d,Zb:()=>n,aY:()=>c,eW:()=>u,ll:()=>l});var t=s(62901),r=s(24383),i=s(68637);let n=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));n.displayName="Card";let o=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...a}));o.displayName="CardHeader";let l=r.forwardRef(({className:e,...a},s)=>t.jsx("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));l.displayName="CardTitle";let d=r.forwardRef(({className:e,...a},s)=>t.jsx("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...a}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent";let u=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...a}));u.displayName="CardFooter"},21395:(e,a,s)=>{"use strict";s.d(a,{E:()=>A});var t=s(62901),r=s(24383),i=s(89291),n=s(74132),o="Progress",[l,d]=(0,i.b)(o),[c,u]=l(o),m=r.forwardRef((e,a)=>{var s,r;let{__scopeProgress:i,value:o=null,max:l,getValueLabel:d=E,...u}=e;(l||0===l)&&!N(l)&&console.error((s=`${l}`,`Invalid prop \`max\` of value \`${s}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let m=N(l)?l:100;null===o||f(o,m)||console.error((r=`${o}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let p=f(o,m)?o:null,x=g(p)?d(p,m):void 0;return(0,t.jsx)(c,{scope:i,value:p,max:m,children:(0,t.jsx)(n.WV.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":g(p)?p:void 0,"aria-valuetext":x,role:"progressbar","data-state":h(p,m),"data-value":p??void 0,"data-max":m,...u,ref:a})})});m.displayName=o;var p="ProgressIndicator",x=r.forwardRef((e,a)=>{let{__scopeProgress:s,...r}=e,i=u(p,s);return(0,t.jsx)(n.WV.div,{"data-state":h(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:a})});function E(e,a){return`${Math.round(e/a*100)}%`}function h(e,a){return null==e?"indeterminate":e===a?"complete":"loading"}function g(e){return"number"==typeof e}function N(e){return g(e)&&!isNaN(e)&&e>0}function f(e,a){return g(e)&&!isNaN(e)&&e<=a&&e>=0}x.displayName=p;var v=s(68637);let A=r.forwardRef(({className:e,value:a,...s},r)=>t.jsx(m,{ref:r,className:(0,v.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...s,children:t.jsx(x,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})}));A.displayName=m.displayName},84227:(e,a,s)=>{"use strict";s.d(a,{Tabs:()=>o,TabsContent:()=>c,TabsList:()=>l,TabsTrigger:()=>d});var t=s(62901),r=s(24383),i=s(49099),n=s(68637);let o=i.fC,l=r.forwardRef(({className:e,...a},s)=>t.jsx(i.aV,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...a}));l.displayName=i.aV.displayName;let d=r.forwardRef(({className:e,...a},s)=>t.jsx(i.xz,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...a}));d.displayName=i.xz.displayName;let c=r.forwardRef(({className:e,...a},s)=>t.jsx(i.VY,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a}));c.displayName=i.VY.displayName},97623:(e,a,s)=>{"use strict";s.d(a,{BT:()=>r.AutomationActionType,C2:()=>R,DX:()=>C,Dn:()=>T,ED:()=>p,Eb:()=>g,FQ:()=>N,Go:()=>n,Jg:()=>x,Om:()=>c,Pg:()=>A,Rh:()=>b,Rn:()=>h,Sn:()=>l,UM:()=>P,Ug:()=>y,Vb:()=>r.AutomationConditionType,WC:()=>o,WV:()=>j,WY:()=>i,aE:()=>u,d1:()=>E,fB:()=>d,hC:()=>r.KnowledgeSourceStatus,hQ:()=>f,mT:()=>S,n9:()=>m,rH:()=>r.KnowledgeSourceType,uU:()=>I,wu:()=>D,ym:()=>v});var t,r=s(53524);!function(e){e.INSUFFICIENT_BALANCE="INSUFFICIENT_BALANCE",e.NO_PROVIDER_AVAILABLE="NO_PROVIDER_AVAILABLE",e.PROVIDER_ERROR="PROVIDER_ERROR",e.INVALID_REQUEST="INVALID_REQUEST",e.RATE_LIMIT_EXCEEDED="RATE_LIMIT_EXCEEDED",e.INTERNAL_ERROR="INTERNAL_ERROR"}(t||(t={}));let i={OPEN:"Abierta",PENDING:"Pendiente",RESOLVED:"Resuelta",TRANSFERRED:"Transferida",ARCHIVED:"Archivada"},n={LOW:"Baja",MEDIUM:"Media",HIGH:"Alta",URGENT:"Urgente"},o={LOW:"gray",MEDIUM:"blue",HIGH:"orange",URGENT:"red"},l={QR_CODE:"Conexi\xf3n R\xe1pida (QR)",API_OFFICIAL:"Conexi\xf3n Profesional (API)"},d={DISCONNECTED:"Desconectado",CONNECTING:"Conectando",CONNECTED:"Conectado",ERROR:"Error",EXPIRED:"Expirado"},c={DISCONNECTED:"gray",CONNECTING:"yellow",CONNECTED:"green",ERROR:"red",EXPIRED:"orange"},u={image:["image/jpeg","image/png","image/gif","image/webp"],document:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"],video:["video/mp4","video/avi","video/mov","video/wmv"],audio:["audio/mp3","audio/wav","audio/aac","audio/ogg"]},m={image:10485760,document:52428800,video:104857600,audio:20971520},p={SALES:"Ventas",SUPPORT:"Soporte",QUESTION:"Pregunta",COMPLAINT:"Queja",BOOKING:"Reserva",PAYMENT:"Pago",INFORMATION:"Informaci\xf3n",GREETING:"Saludo",FAREWELL:"Despedida",OTHER:"Otro"},x={SALES:"green",SUPPORT:"blue",QUESTION:"yellow",COMPLAINT:"red",BOOKING:"purple",PAYMENT:"orange",INFORMATION:"cyan",GREETING:"teal",FAREWELL:"gray",OTHER:"slate"},E={INTENTION_DETECTED:"Intenci\xf3n detectada",KEYWORDS_CONTAINS:"Contiene palabras clave",SENDER_IS_VIP:"Remitente es VIP",TIME_RANGE:"Horario espec\xedfico",FIRST_MESSAGE:"Primer mensaje",MESSAGE_COUNT:"N\xfamero de mensajes",RESPONSE_TIME:"Tiempo de respuesta"},h={ADD_TAG:"Agregar etiqueta",ASSIGN_AGENT:"Asignar agente",SET_PRIORITY:"Establecer prioridad",AUTO_REPLY:"Respuesta autom\xe1tica",MARK_VIP:"Marcar como VIP",TRANSFER_CONVERSATION:"Transferir conversaci\xf3n",CREATE_TASK:"Crear tarea",SEND_NOTIFICATION:"Enviar notificaci\xf3n"},g={pdf:["application/pdf"],document:["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],text:["text/plain","text/markdown","text/csv"],web:["text/html"]},N=52428800,f={UPLOADING:"Subiendo",PROCESSING:"Procesando",CHUNKING:"Fragmentando",EMBEDDING:"Generando Embeddings",ACTIVE:"Activo",ERROR:"Error",DISABLED:"Deshabilitado"},v={ECOMMERCE:"E-commerce",CRM:"CRM",ERP:"ERP",PAYMENT:"Pagos",ANALYTICS:"An\xe1lisis",MARKETING:"Marketing",SOCIAL_MEDIA:"Redes Sociales",EMAIL:"Email Marketing",SUPPORT:"Soporte",OTHER:"Otros"},A={AVAILABLE:"Disponible",CONNECTED:"Conectado",DISCONNECTED:"Desconectado",ERROR:"Error",PENDING:"Pendiente"},y={SHOPIFY:{displayName:"Shopify",description:"Conecta tu tienda Shopify para consultar productos, pedidos e inventario",authType:"oauth",authFields:["shop_domain","access_token"],iconUrl:"/integrations/shopify.svg",brandColor:"#7AB55C",supportedFeatures:["products","orders","customers","inventory"],documentation:"https://docs.shopify.com/api"},WOOCOMMERCE:{displayName:"WooCommerce",description:"Conecta tu tienda WooCommerce para gestionar productos y pedidos",authType:"api_key",authFields:["site_url","consumer_key","consumer_secret"],iconUrl:"/integrations/woocommerce.svg",brandColor:"#7F54B3",supportedFeatures:["products","orders","customers"],documentation:"https://woocommerce.github.io/woocommerce-rest-api-docs/"},TIENDANUBE:{displayName:"TiendaNube",description:"Conecta tu tienda TiendaNube para sincronizar cat\xe1logo y pedidos",authType:"oauth",authFields:["store_id","access_token"],iconUrl:"/integrations/tiendanube.svg",brandColor:"#FF6900",supportedFeatures:["products","orders","customers"],documentation:"https://developers.tiendanube.com/"}},j={PENDING:"Pendiente",APPROVED:"Aprobada",REJECTED:"Rechazada",PAUSED:"Pausada",ARCHIVED:"Archivada"},C={PENDING:"yellow",APPROVED:"green",REJECTED:"red",PAUSED:"orange",ARCHIVED:"gray"},T={DRAFT:"Borrador",SCHEDULED:"Programada",SENDING:"Enviando",COMPLETED:"Completada",PAUSED:"Pausada",CANCELLED:"Cancelada",FAILED:"Fallida"},I={DRAFT:"gray",SCHEDULED:"blue",SENDING:"yellow",COMPLETED:"green",PAUSED:"orange",CANCELLED:"red",FAILED:"red"},b={IMMEDIATE:"Inmediato",SCHEDULED:"Programado",DRIP:"Secuencial",AB_TEST:"Prueba A/B",WHATSAPP_BUSINESS:"WhatsApp Business",WHATSAPP_API:"WhatsApp API"},R={IMMEDIATE:"Env\xedo inmediato a todos los destinatarios",SCHEDULED:"Env\xedo programado para una fecha espec\xedfica",DRIP:"Env\xedo secuencial con intervalos definidos",AB_TEST:"Prueba diferentes versiones del mensaje",WHATSAPP_BUSINESS:"M\xe1ximo 40 mensajes diarios, cualquier contenido (texto/imagen/video/audio)",WHATSAPP_API:"Env\xedo ilimitado, solo plantillas verificadas por Meta"},S={INCLUDE_TAG:"Incluir etiqueta",EXCLUDE_TAG:"Excluir etiqueta",CHANNEL:"Canal de origen",VIP_STATUS:"Estado VIP",LAST_CONTACT:"\xdaltimo contacto",CONVERSATION_STATUS:"Estado de conversaci\xf3n"},P={SEND_RATE:10,BATCH_SIZE:100,RETRY_ATTEMPTS:3,PREVIEW_SAMPLE_SIZE:20,PREVIEW_EXPIRATION_HOURS:24},D={BUSINESS:{MAX_DAILY_MESSAGES:40,SEND_RATE:2,BATCH_SIZE:10,REQUIRES_VERIFICATION:!1,SUPPORTS_RICH_MEDIA:!0},API:{MAX_DAILY_MESSAGES:null,SEND_RATE:50,BATCH_SIZE:500,REQUIRES_VERIFICATION:!0,SUPPORTS_RICH_MEDIA:!0}}},35825:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},30502:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},99551:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},27328:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},97718:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},26482:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},30808:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},29912:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>c,metadata:()=>d});var t=s(83537),r=s(57978),i=s(15438),n=s(11826),o=s(25590);let l=(0,s(88895).createProxy)(String.raw`/home/ubuntu/comodin_ia/app/components/campaigns/campaigns-dashboard.tsx#default`),d={title:"La M\xe1quina de Crecimiento - COMOD\xcdN IA",description:"Sistema de campa\xf1as profesionales con segmentaci\xf3n avanzada"};async function c(){let e=await (0,r.getServerSession)(n.L);e?.user?.organizationId||(0,i.redirect)("/auth/signin"),(0,o.N$)(e.user.role,o.y3.VIEW_CAMPAIGNS)||(0,i.redirect)("/dashboard");let a=(0,o.N$)(e.user.role,o.y3.CREATE_CAMPAIGNS),s=(0,o.N$)(e.user.role,o.y3.EXECUTE_CAMPAIGNS),d=(0,o.N$)(e.user.role,o.y3.PAUSE_CAMPAIGNS);return t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsx(l,{canCreateCampaigns:a,canExecuteCampaigns:s,canPauseCampaigns:d})})}},69910:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>l});var t=s(83537),r=s(1507),i=s(15438),n=s(97973),o=s(77516);async function l({children:e}){try{await (0,r.BN)()}catch(e){(0,i.redirect)("/auth/login")}return(0,t.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[t.jsx(n._,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsx(o.c,{}),t.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})}},49099:(e,a,s)=>{"use strict";s.d(a,{VY:()=>D,aV:()=>S,fC:()=>R,xz:()=>P});var t=s(24383),r=s(1940),i=s(89291),n=s(34603),o=s(52490),l=s(74132),d=s(1861),c=s(98106),u=s(50430),m=s(62901),p="Tabs",[x,E]=(0,i.b)(p,[n.Pc]),h=(0,n.Pc)(),[g,N]=x(p),f=t.forwardRef((e,a)=>{let{__scopeTabs:s,value:t,onValueChange:r,defaultValue:i,orientation:n="horizontal",dir:o,activationMode:p="automatic",...x}=e,E=(0,d.gm)(o),[h,N]=(0,c.T)({prop:t,onChange:r,defaultProp:i});return(0,m.jsx)(g,{scope:s,baseId:(0,u.M)(),value:h,onValueChange:N,orientation:n,dir:E,activationMode:p,children:(0,m.jsx)(l.WV.div,{dir:E,"data-orientation":n,...x,ref:a})})});f.displayName=p;var v="TabsList",A=t.forwardRef((e,a)=>{let{__scopeTabs:s,loop:t=!0,...r}=e,i=N(v,s),o=h(s);return(0,m.jsx)(n.fC,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:t,children:(0,m.jsx)(l.WV.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:a})})});A.displayName=v;var y="TabsTrigger",j=t.forwardRef((e,a)=>{let{__scopeTabs:s,value:t,disabled:i=!1,...o}=e,d=N(y,s),c=h(s),u=I(d.baseId,t),p=b(d.baseId,t),x=t===d.value;return(0,m.jsx)(n.ck,{asChild:!0,...c,focusable:!i,active:x,children:(0,m.jsx)(l.WV.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":p,"data-state":x?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...o,ref:a,onMouseDown:(0,r.M)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(t)}),onKeyDown:(0,r.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(t)}),onFocus:(0,r.M)(e.onFocus,()=>{let e="manual"!==d.activationMode;x||i||!e||d.onValueChange(t)})})})});j.displayName=y;var C="TabsContent",T=t.forwardRef((e,a)=>{let{__scopeTabs:s,value:r,forceMount:i,children:n,...d}=e,c=N(C,s),u=I(c.baseId,r),p=b(c.baseId,r),x=r===c.value,E=t.useRef(x);return t.useEffect(()=>{let e=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(o.z,{present:i||x,children:({present:s})=>(0,m.jsx)(l.WV.div,{"data-state":x?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!s,id:p,tabIndex:0,...d,ref:a,style:{...e.style,animationDuration:E.current?"0s":void 0},children:s&&n})})});function I(e,a){return`${e}-trigger-${a}`}function b(e,a){return`${e}-content-${a}`}T.displayName=C;var R=f,S=A,P=j,D=T}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[4372,7329,1472,7420,5003,8855,9358,533,1826,6003],()=>s(38852));module.exports=t})();