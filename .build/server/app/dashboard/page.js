(()=>{var e={};e.id=7702,e.ids=[7702],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},23259:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c}),a(29122),a(68956),a(15307),a(71363);var t=a(36576),r=a(72007),i=a(21818),n=a.n(i),l=a(88897),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);a.d(s,d);let c=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,29122)),"/home/ubuntu/comodin_ia/app/app/dashboard/page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,68956)),"/home/ubuntu/comodin_ia/app/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,15307)),"/home/ubuntu/comodin_ia/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,71363,23)),"next/dist/client/components/not-found-error"]}],o=["/home/ubuntu/comodin_ia/app/app/dashboard/page.tsx"],m="/dashboard/page",x={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},19763:(e,s,a)=>{Promise.resolve().then(a.bind(a,87752)),Promise.resolve().then(a.bind(a,28570)),Promise.resolve().then(a.bind(a,304))},28570:(e,s,a)=>{"use strict";a.d(s,{AgentDashboard:()=>p});var t=a(62901),r=a(24383),i=a(23803),n=a(84227),l=a(27878),d=a(31606),c=a(16501),o=a(21391),m=a(23094),x=a(35825),u=a(79046),h=a(60979);function p({organization:e,user:s}){let[a,p]=(0,r.useState)("conversations");return(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["\xa1Hola ",s.fullName||s.name,"! \uD83D\uDC4B"]}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Agente de ",t.jsx("span",{className:"font-semibold",children:e.name})]})]}),(0,t.jsxs)(n.Tabs,{value:a,onValueChange:p,className:"space-y-8",children:[(0,t.jsxs)(n.TabsList,{className:"grid w-full grid-cols-3",children:[t.jsx(n.TabsTrigger,{value:"conversations",children:"Mis Conversaciones"}),t.jsx(n.TabsTrigger,{value:"performance",children:"Mi Rendimiento"}),t.jsx(n.TabsTrigger,{value:"tools",children:"Herramientas IA"})]}),(0,t.jsxs)(n.TabsContent,{value:"conversations",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(i.ll,{className:"text-sm font-medium",children:"Asignadas"}),t.jsx(c.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(i.aY,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"12"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversaciones activas"})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(i.ll,{className:"text-sm font-medium",children:"Pendientes"}),t.jsx(o.Z,{className:"h-4 w-4 text-yellow-500"})]}),(0,t.jsxs)(i.aY,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"5"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Requieren respuesta"})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(i.ll,{className:"text-sm font-medium",children:"Resueltas Hoy"}),t.jsx(m.Z,{className:"h-4 w-4 text-green-500"})]}),(0,t.jsxs)(i.aY,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"8"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"+3 vs ayer"})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(i.ll,{className:"text-sm font-medium",children:"Tiempo Respuesta"}),t.jsx(x.Z,{className:"h-4 w-4 text-blue-500"})]}),(0,t.jsxs)(i.aY,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"1.2m"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Promedio hoy"})]})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[t.jsx(i.ll,{children:"Conversaciones Activas"}),t.jsx(i.SZ,{children:"Tus conversaciones asignadas que requieren atenci\xf3n"})]}),t.jsx(i.aY,{children:t.jsx("div",{className:"space-y-4",children:[{customer:"Mar\xeda Gonz\xe1lez",phone:"+52 555 123 4567",lastMessage:"Hola, tengo una pregunta sobre el producto",time:"Hace 2 min",priority:"high",unread:2},{customer:"Carlos L\xf3pez",phone:"+52 555 987 6543",lastMessage:"\xbfPueden ayudarme con mi pedido?",time:"Hace 15 min",priority:"medium",unread:1},{customer:"Ana Mart\xednez",phone:"+52 555 456 7890",lastMessage:"Muchas gracias por la informaci\xf3n",time:"Hace 1h",priority:"low",unread:0}].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("p",{className:"font-semibold text-sm",children:e.customer}),t.jsx(d.C,{variant:"high"===e.priority?"destructive":"medium"===e.priority?"default":"outline",children:e.priority})]}),t.jsx("p",{className:"text-sm text-gray-600",children:e.phone}),t.jsx("p",{className:"text-sm text-gray-700",children:e.lastMessage}),t.jsx("p",{className:"text-xs text-gray-500",children:e.time})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[e.unread>0&&t.jsx(d.C,{variant:"default",className:"bg-red-500",children:e.unread}),t.jsx(l.z,{size:"sm",children:"Responder"})]})]},s))})})]})]}),(0,t.jsxs)(n.TabsContent,{value:"performance",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(i.ll,{className:"text-sm font-medium",children:"Conversaciones Esta Semana"}),t.jsx(c.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(i.aY,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"43"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"+8% vs semana pasada"})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(i.ll,{className:"text-sm font-medium",children:"Satisfacci\xf3n Cliente"}),t.jsx(u.Z,{className:"h-4 w-4 text-yellow-500"})]}),(0,t.jsxs)(i.aY,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"4.8"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"⭐⭐⭐⭐⭐ (24 rese\xf1as)"})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(i.ll,{className:"text-sm font-medium",children:"Tiempo Promedio"}),t.jsx(o.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(i.aY,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"1.8m"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Por respuesta"})]})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[t.jsx(i.ll,{children:"Resumen de Rendimiento"}),t.jsx(i.SZ,{children:"Tu desempe\xf1o en las \xfaltimas semanas"})]}),t.jsx(i.aY,{children:t.jsx("p",{className:"text-gray-600",children:"Gr\xe1ficos de rendimiento en desarrollo..."})})]})]}),t.jsx(n.TabsContent,{value:"tools",className:"space-y-6",children:(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[t.jsx(i.ll,{children:"Herramientas de IA"}),t.jsx(i.SZ,{children:"Funciones inteligentes para mejorar tu productividad"})]}),t.jsx(i.aY,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[t.jsx(h.Z,{className:"h-6 w-6 text-purple-600"}),t.jsx("h3",{className:"font-semibold",children:"Respuestas Sugeridas"})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"La IA analiza el mensaje y sugiere respuestas apropiadas"}),t.jsx(d.C,{className:"bg-green-100 text-green-800",children:"Activo"})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[t.jsx(u.Z,{className:"h-6 w-6 text-yellow-600"}),t.jsx("h3",{className:"font-semibold",children:"Auto-Etiquetado"})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Clasifica autom\xe1ticamente las conversaciones por tipo"}),t.jsx(d.C,{className:"bg-green-100 text-green-800",children:"Activo"})]})]})})]})})]})]})}},304:(e,s,a)=>{"use strict";a.d(s,{OwnerDashboard:()=>ex});var t,r=a(62901),i=a(24383),n=a(23803),l=a(84227),d=a(27878),c=a(31606),o=a(53305);function m({children:e,permissions:s=[],roles:a=[],requireAll:t=!1,fallback:i=null}){let{role:n,hasAnyPermission:l,hasAllPermissions:d}=(0,o.TE)();return(!(a.length>0)||a.includes(n))&&(!(s.length>0)||(t?d(s):l(s)))?r.jsx(r.Fragment,{children:e}):r.jsx(r.Fragment,{children:i})}var x=a(84700),u=a(80568),h=a(21680),p=a(44928),f=a(48119);let j={SUPER_ADMIN:4,DISTRIBUIDOR:3,PROPIETARIO:2,AGENTE:1};function g({children:e,allowedRoles:s,requiredRole:a,targetOrganizationId:t,targetUserRole:i,fallback:n,showError:l=!0}){let{data:d}=(0,x.useSession)()||{},c=d?.user;return c?s&&!s.includes(c.role)?l?(0,r.jsxs)(u.bZ,{variant:"destructive",children:[r.jsx(p.Z,{className:"h-4 w-4"}),(0,r.jsxs)(u.X,{children:["No tienes permisos para ver este contenido. Rol requerido: ",s.join(", ")]})]}):n||null:a&&!(j[c.role]>=j[a])?l?(0,r.jsxs)(u.bZ,{variant:"destructive",children:[r.jsx(p.Z,{className:"h-4 w-4"}),(0,r.jsxs)(u.X,{children:["Permisos insuficientes. Se requiere rol: ",a]})]}):n||null:t&&!function(e,s){switch(e.role){case"SUPER_ADMIN":case"DISTRIBUIDOR":return!0;case"PROPIETARIO":case"AGENTE":return e.organizationId===s;default:return!1}}(c,t)?l?(0,r.jsxs)(u.bZ,{variant:"destructive",children:[r.jsx(p.Z,{className:"h-4 w-4"}),r.jsx(u.X,{children:"No tienes acceso a esta organizaci\xf3n"})]}):n||null:i&&!(j[c.role]>=j[i])?l?(0,r.jsxs)(u.bZ,{variant:"destructive",children:[r.jsx(p.Z,{className:"h-4 w-4"}),(0,r.jsxs)(u.X,{children:["No puedes gestionar usuarios con rol: ",i]})]}):n||null:r.jsx(r.Fragment,{children:e}):l?(0,r.jsxs)(u.bZ,{variant:"destructive",children:[r.jsx(h.Z,{className:"h-4 w-4"}),r.jsx(u.X,{children:"Usuario no autenticado"})]}):n||null}!function(e){e.PLATFORM="PLATFORM",e.MULTI_TENANT="MULTI_TENANT",e.ORGANIZATION="ORGANIZATION",e.LIMITED="LIMITED"}(t||(t={}));var v=a(1320),N=a(66843),b=a(16501),y=a(68637);let w={SUPER_ADMIN:{label:"Super Admin",icon:p.Z,color:"bg-red-100 text-red-800 border-red-200",description:"Acceso total a la plataforma"},DISTRIBUIDOR:{label:"Distribuidor",icon:v.Z,color:"bg-purple-100 text-purple-800 border-purple-200",description:"Gestiona m\xfaltiples organizaciones"},PROPIETARIO:{label:"Propietario",icon:N.Z,color:"bg-blue-100 text-blue-800 border-blue-200",description:"Administra su organizaci\xf3n"},AGENTE:{label:"Agente",icon:b.Z,color:"bg-green-100 text-green-800 border-green-200",description:"Atiende conversaciones asignadas"}};function A({role:e,size:s="md",showIcon:a=!0,className:t}){let i=w[e],n=i.icon;return r.jsx(c.C,{variant:"outline",className:(0,y.cn)(i.color,{"text-xs px-2 py-1":"sm"===s,"text-sm px-2.5 py-1":"md"===s,"text-base px-3 py-1.5":"lg"===s},t),children:(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[a&&r.jsx(n,{className:(0,y.cn)({"h-3 w-3":"sm"===s,"h-4 w-4":"md"===s,"h-5 w-5":"lg"===s})}),r.jsx("span",{children:i.label})]})})}var I=a(56580),C=a(97718),Z=a(7259),E=a(60004),M=a(67935),T=a(91334),R=a(61673),P=a(7639);function D({organization:e,members:s,currentUserRole:a}){let[t,l]=(0,i.useState)(new Set(["PROPIETARIO"])),o=s.reduce((e,s)=>(e[s.role]||(e[s.role]=[]),e[s.role].push(s),e),{}),m=e=>{let s=new Set(t);s.has(e)?s.delete(e):s.add(e),l(s)},x=e=>{switch(e){case"SUPER_ADMIN":return p.Z;case"DISTRIBUIDOR":return v.Z;case"PROPIETARIO":default:return N.Z;case"AGENTE":return b.Z}},u=(e,s)=>{let a={SUPER_ADMIN:4,DISTRIBUIDOR:3,PROPIETARIO:2,AGENTE:1};return a[e]>=a[s]};return(0,r.jsxs)(n.Zb,{children:[r.jsx(n.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(n.ll,{className:"flex items-center gap-2",children:[r.jsx(v.Z,{className:"h-5 w-5"}),"Jerarqu\xeda de Equipo"]}),(0,r.jsxs)(n.SZ,{children:["Estructura organizacional de ",e.name]})]}),r.jsx(g,{allowedRoles:["SUPER_ADMIN","DISTRIBUIDOR","PROPIETARIO"],children:(0,r.jsxs)(d.z,{size:"sm",children:[r.jsx(C.Z,{className:"h-4 w-4 mr-2"}),"Invitar Usuario"]})})]})}),(0,r.jsxs)(n.aY,{className:"space-y-4",children:[["SUPER_ADMIN","DISTRIBUIDOR","PROPIETARIO","AGENTE"].map(e=>{let s=o[e]||[];if(0===s.length)return null;let i=x(e),n=t.has(e);return(0,r.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 cursor-pointer hover:bg-gray-100",onClick:()=>m(e),children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[n?r.jsx(Z.Z,{className:"h-4 w-4 text-gray-500"}):r.jsx(E.Z,{className:"h-4 w-4 text-gray-500"}),r.jsx(i,{className:"h-5 w-5"}),r.jsx(A,{role:e,size:"md"}),(0,r.jsxs)(c.C,{variant:"outline",className:"text-xs",children:[s.length," ",1===s.length?"miembro":"miembros"]})]}),r.jsx(g,{targetUserRole:e,showError:!1,fallback:null,children:r.jsx("div",{className:"flex items-center gap-2",children:u(a,e)&&r.jsx(d.z,{variant:"outline",size:"sm",onClick:e=>e.stopPropagation(),children:r.jsx(M.Z,{className:"h-3 w-3"})})})})]}),n&&r.jsx("div",{className:"divide-y",children:s.map(e=>(0,r.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)(I.qE,{className:"h-10 w-10",children:[r.jsx(I.F$,{src:e.avatar}),r.jsx(I.Q5,{className:"bg-blue-100 text-blue-600",children:(e.name||e.email).charAt(0).toUpperCase()})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold text-sm",children:e.name||"Sin nombre"}),r.jsx("p",{className:"text-sm text-gray-600",children:e.email}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(c.C,{variant:e.isActive?"default":"secondary",className:"text-xs",children:e.isActive?"Activo":"Inactivo"}),e.lastLogin&&(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["\xdaltimo acceso: ",(0,R.WU)(e.lastLogin,"dd MMM",{locale:P.es})]})]})]})]}),r.jsx(g,{targetUserRole:e.role,showError:!1,fallback:null,children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(d.z,{variant:"ghost",size:"sm",children:r.jsx(T.Z,{className:"h-4 w-4"})}),u(a,e.role)&&r.jsx(d.z,{variant:"ghost",size:"sm",children:r.jsx(M.Z,{className:"h-4 w-4"})})]})})]},e.id))})]},e)}),(0,r.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Resumen de Jerarqu\xeda"}),(0,r.jsxs)("div",{className:"text-sm text-blue-700 space-y-1",children:[(0,r.jsxs)("p",{children:["• ",r.jsx("strong",{children:"Total de miembros:"})," ",s.length]}),(0,r.jsxs)("p",{children:["• ",r.jsx("strong",{children:"Usuarios activos:"})," ",s.filter(e=>e.isActive).length]}),(0,r.jsxs)("p",{children:["• ",r.jsx("strong",{children:"Nivel de organizaci\xf3n:"})," ",e.status]})]})]})]})]})}var z=a(84374),S=a(39350),k=a(250),O=a(82657),_=a(52),q=a(65923),Y=a(53524);function L({isOpen:e,onClose:s,onSuccess:a}){let[t,n]=(0,i.useState)(!1),[l,c]=(0,i.useState)({email:"",firstName:"",lastName:"",message:""}),o=(0,z.useRouter)(),m=async e=>{e.preventDefault(),n(!0);try{let e=await fetch("/api/invitations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l.email,role:Y.UserRole.AGENTE,firstName:l.firstName,lastName:l.lastName,message:l.message})}),t=await e.json();if(!e.ok)throw Error(t.error||"Error al enviar invitaci\xf3n");S.Am.success("\xa1Invitaci\xf3n enviada exitosamente!"),t.emailPreviewUrl&&(console.log("\uD83D\uDCE7 Email preview:",t.emailPreviewUrl),S.Am.success("Invitaci\xf3n enviada. Revisa la consola para el preview del email.",{duration:5e3})),c({email:"",firstName:"",lastName:"",message:""}),s(),a?.(),o.refresh()}catch(s){let e=s instanceof Error?s.message:"Error desconocido";S.Am.error(e)}finally{n(!1)}},x=(e,s)=>{c(a=>({...a,[e]:s}))};return r.jsx(q.Vq,{open:e,onOpenChange:s,children:(0,r.jsxs)(q.cZ,{className:"sm:max-w-[425px]",children:[(0,r.jsxs)(q.fK,{children:[r.jsx(q.$N,{className:"text-xl font-bold text-gray-900",children:"Invitar nuevo agente"}),r.jsx(q.Be,{className:"text-gray-600",children:"Env\xeda una invitaci\xf3n por email para que se una a tu equipo como Agente de Ventas."})]}),(0,r.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(O.Label,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email *"}),r.jsx(k.I,{id:"email",type:"email",value:l.email,onChange:e=>x("email",e.target.value),placeholder:"agente@empresa.com",required:!0,className:"w-full"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(O.Label,{htmlFor:"firstName",className:"text-sm font-medium text-gray-700",children:"Nombre"}),r.jsx(k.I,{id:"firstName",value:l.firstName,onChange:e=>x("firstName",e.target.value),placeholder:"Juan",className:"w-full"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(O.Label,{htmlFor:"lastName",className:"text-sm font-medium text-gray-700",children:"Apellido"}),r.jsx(k.I,{id:"lastName",value:l.lastName,onChange:e=>x("lastName",e.target.value),placeholder:"P\xe9rez",className:"w-full"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(O.Label,{htmlFor:"message",className:"text-sm font-medium text-gray-700",children:"Mensaje personalizado (opcional)"}),r.jsx(_.g,{id:"message",value:l.message,onChange:e=>x("message",e.target.value),placeholder:"\xa1Bienvenido al equipo! Estamos emocionados de que te unas...",rows:3,className:"w-full resize-none"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Este mensaje aparecer\xe1 en el email de invitaci\xf3n"})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,r.jsxs)("div",{className:"flex items-start space-x-2",children:[r.jsx("div",{className:"text-blue-600 text-sm",children:"ℹ️"}),(0,r.jsxs)("div",{className:"text-sm text-blue-800",children:[r.jsx("p",{className:"font-medium",children:"\xbfQu\xe9 sucede despu\xe9s?"}),r.jsx("p",{className:"text-blue-700",children:"El agente recibir\xe1 un email con un enlace para registrarse y unirse autom\xe1ticamente a tu organizaci\xf3n."})]})]})}),(0,r.jsxs)(q.cN,{className:"space-x-2 pt-4",children:[r.jsx(d.z,{type:"button",variant:"outline",onClick:s,disabled:t,children:"Cancelar"}),r.jsx(d.z,{type:"submit",disabled:t||!l.email,className:"bg-blue-600 hover:bg-blue-700",children:t?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enviando..."]}):"Enviar invitaci\xf3n"})]})]})]})})}var V=a(14573),W=a(78932),U=a(1919),H=a(65759),G=a(69662),F=a(22134),X=a(13979);function B(e,s){let a=+(0,X.Q)(e)-+(0,X.Q)(s);return a<0?-1:a>0?1:a}var $=a(71514),Q=a(97053),K=a(9699);function J(e,s){return function(e,s,a){var t,r,i,n;let l;let d=(0,H.j)(),c=a?.locale??d.locale??U._,o=B(e,s);if(isNaN(o))throw RangeError("Invalid time value");let m=Object.assign({},a,{addSuffix:a?.addSuffix,comparison:o}),[x,u]=(0,F.d)(a?.in,...o>0?[s,e]:[e,s]),h=(t=u,r=x,(n=void 0,e=>{let s=(n?Math[n]:Math.trunc)(e);return 0===s?0:s})((+(0,X.Q)(t)-+(0,X.Q)(r))/1e3)),p=Math.round((h-((0,G.D)(u)-(0,G.D)(x))/1e3)/60);if(p<2){if(a?.includeSeconds){if(h<5)return c.formatDistance("lessThanXSeconds",5,m);if(h<10)return c.formatDistance("lessThanXSeconds",10,m);if(h<20)return c.formatDistance("lessThanXSeconds",20,m);if(h<40)return c.formatDistance("halfAMinute",0,m);else if(h<60)return c.formatDistance("lessThanXMinutes",1,m);else return c.formatDistance("xMinutes",1,m)}return 0===p?c.formatDistance("lessThanXMinutes",1,m):c.formatDistance("xMinutes",p,m)}if(p<45)return c.formatDistance("xMinutes",p,m);if(p<90)return c.formatDistance("aboutXHours",1,m);if(p<$.H_)return c.formatDistance("aboutXHours",Math.round(p/60),m);if(p<2520)return c.formatDistance("xDays",1,m);if(p<$.fH){let e=Math.round(p/$.H_);return c.formatDistance("xDays",e,m)}if(p<2*$.fH)return l=Math.round(p/$.fH),c.formatDistance("aboutXMonths",l,m);if((l=function(e,s,a){let[t,r,i]=(0,F.d)(void 0,e,e,s),n=B(r,i),l=Math.abs((0,Q.T)(r,i));if(l<1)return 0;1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-n*l);let d=B(r,i)===-n;(function(e,s){let a=(0,X.Q)(e,void 0);return+function(e,s){let a=(0,X.Q)(e,s?.in);return a.setHours(23,59,59,999),a}(a,void 0)==+(0,K.V)(a,void 0)})(t)&&1===l&&1===B(t,i)&&(d=!1);let c=n*(l-+d);return 0===c?0:c}(u,x))<12){let e=Math.round(p/$.fH);return c.formatDistance("xMonths",e,m)}{let e=l%12,s=Math.trunc(l/12);return e<3?c.formatDistance("aboutXYears",s,m):e<9?c.formatDistance("overXYears",s,m):c.formatDistance("almostXYears",s+1,m)}}(e,(0,W.L)(e,Date.now()),s)}function ee({onInvite:e}){let[s,a]=(0,i.useState)([]),[t,n]=(0,i.useState)(!0),[l,o]=(0,i.useState)(!1),[m,x]=(0,i.useState)(null),u=async()=>{try{let e=await fetch("/api/invitations"),s=await e.json();if(e.ok)a(s.invitations||[]);else throw Error(s.error||"Error cargando invitaciones")}catch(e){console.error("❌ Error cargando invitaciones:",e),S.Am.error("Error cargando las invitaciones")}finally{n(!1)}},h=async e=>{try{let s=await fetch(`/api/invitations/${e}/cancel`,{method:"POST"}),a=await s.json();if(!s.ok)throw Error(a.error||"Error cancelando invitaci\xf3n");S.Am.success("Invitaci\xf3n cancelada"),u()}catch(s){let e=s instanceof Error?s.message:"Error desconocido";S.Am.error(e)}},p=(e,s)=>{if(new Date(s)<new Date&&e===Y.InvitationStatus.PENDING)return r.jsx(c.C,{variant:"secondary",className:"bg-gray-100 text-gray-600",children:"Expirada"});switch(e){case Y.InvitationStatus.PENDING:return r.jsx(c.C,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Pendiente"});case Y.InvitationStatus.ACCEPTED:return r.jsx(c.C,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Aceptada"});case Y.InvitationStatus.CANCELLED:return r.jsx(c.C,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Cancelada"});case Y.InvitationStatus.EXPIRED:return r.jsx(c.C,{variant:"secondary",className:"bg-gray-100 text-gray-600",children:"Expirada"});default:return r.jsx(c.C,{variant:"secondary",children:e})}};return t?r.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),r.jsx("div",{className:"space-y-3",children:[1,2,3].map(e=>r.jsx("div",{className:"h-16 bg-gray-100 rounded"},e))})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Invitaciones del equipo"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Gestiona las invitaciones enviadas a nuevos agentes"})]}),r.jsx(d.z,{onClick:e,className:"bg-blue-600 hover:bg-blue-700",children:"Nueva invitaci\xf3n"})]})}),r.jsx("div",{className:"p-6",children:0===s.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:"\uD83D\uDCE7"}),r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay invitaciones"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Comienza invitando a tu primer agente de ventas"}),r.jsx(d.z,{onClick:e,className:"bg-blue-600 hover:bg-blue-700",children:"Enviar primera invitaci\xf3n"})]}):r.jsx("div",{className:"space-y-4",children:s.map(e=>{let s=new Date(e.expiresAt)<new Date,a=e.status===Y.InvitationStatus.PENDING&&!s;return r.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-center space-x-3",children:(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:e.email}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[e.firstName&&e.lastName&&(0,r.jsxs)(r.Fragment,{children:[e.email," •"]}),"Rol: Agente"]})]})}),(0,r.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-sm text-gray-500",children:[(0,r.jsxs)("span",{children:["Enviada ",J(new Date(e.createdAt),{addSuffix:!0,locale:P.es})]}),e.status===Y.InvitationStatus.PENDING&&(0,r.jsxs)("span",{children:["Expira ",J(new Date(e.expiresAt),{addSuffix:!0,locale:P.es})]}),e.acceptedAt&&(0,r.jsxs)("span",{className:"text-green-600",children:["Aceptada ",J(new Date(e.acceptedAt),{addSuffix:!0,locale:P.es})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[p(e.status,e.expiresAt),a&&r.jsx(d.z,{variant:"outline",size:"sm",onClick:()=>{x(e.id),o(!0)},className:"text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:"Cancelar"})]})]})},e.id)})})})]}),r.jsx(V.aR,{open:l,onOpenChange:o,children:(0,r.jsxs)(V._T,{children:[(0,r.jsxs)(V.fY,{children:[r.jsx(V.f$,{children:"\xbfCancelar invitaci\xf3n?"}),r.jsx(V.yT,{children:"Esta acci\xf3n no se puede deshacer. La invitaci\xf3n ser\xe1 cancelada y el enlace dejar\xe1 de funcionar."})]}),(0,r.jsxs)(V.xo,{children:[r.jsx(V.le,{children:"Mantener"}),r.jsx(V.OL,{onClick:()=>{m&&h(m),o(!1),x(null)},className:"bg-red-600 hover:bg-red-700",children:"Cancelar invitaci\xf3n"})]})]})})]})}var es=a(49356),ea=a(30808),et=a(68832),er=a(94437),ei=a(76244),en=a(60092),el=a(60979),ed=a(82063),ec=a(21395),eo=a(62392);function em({organizationId:e,userRole:s}){let[a,t]=(0,i.useState)(null),[l,o]=(0,i.useState)(!0);return l?(0,r.jsxs)(n.Zb,{children:[r.jsx(n.Ol,{className:"pb-4",children:r.jsx(n.ll,{className:"text-base font-medium",children:"Suscripci\xf3n"})}),r.jsx(n.aY,{children:(0,r.jsxs)("div",{className:"animate-pulse space-y-3",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),r.jsx("div",{className:"h-2 bg-gray-200 rounded"}),r.jsx("div",{className:"h-2 bg-gray-200 rounded"})]})})]}):a?(0,r.jsxs)(n.Zb,{className:a.needsAttention?"border-amber-200 bg-amber-50":"",children:[r.jsx(n.Ol,{className:"pb-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx(n.ll,{className:"text-base font-medium",children:"Plan Actual"}),r.jsx(c.C,{variant:(e=>{switch(e){case"FREE":default:return"secondary";case"STARTER":case"PREMIUM":case"ENTERPRISE":return"default"}})(a.currentPlan),children:a.planName})]})}),(0,r.jsxs)(n.aY,{className:"space-y-4",children:[a.needsAttention&&(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-amber-700 text-sm",children:[r.jsx(h.Z,{className:"w-4 h-4"}),r.jsx("span",{children:a.usage.limitsExceeded?"L\xedmites excedidos":"Considera actualizar tu plan"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsxs)("div",{className:"flex items-center text-xs text-gray-600",children:[r.jsx(N.Z,{className:"w-3 h-3 mr-1"}),"Usuarios"]}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:[a.usage.currentUsers,"/",a.usage.maxUsers]})]}),r.jsx(ec.E,{value:a.usage.currentUsers/a.usage.maxUsers*100,className:`h-1 ${a.usage.currentUsers>a.usage.maxUsers?"bg-red-100":""}`})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsxs)("div",{className:"flex items-center text-xs text-gray-600",children:[r.jsx(er.Z,{className:"w-3 h-3 mr-1"}),"Mensajes"]}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:[a.usage.currentMessages.toLocaleString(),"/",a.usage.maxMessages.toLocaleString()]})]}),r.jsx(ec.E,{value:a.usage.currentMessages/a.usage.maxMessages*100,className:`h-1 ${a.usage.currentMessages>a.usage.maxMessages?"bg-red-100":""}`})]})]}),"PROPIETARIO"===s&&r.jsx("div",{className:"pt-2",children:r.jsx(eo.default,{href:"/suscripcion",children:(0,r.jsxs)(d.z,{size:"sm",variant:"outline",className:"w-full",children:[r.jsx(ea.Z,{className:"w-3 h-3 mr-1"}),"Gestionar Plan"]})})})]})]}):(0,r.jsxs)(n.Zb,{children:[r.jsx(n.Ol,{className:"pb-4",children:r.jsx(n.ll,{className:"text-base font-medium",children:"Suscripci\xf3n"})}),r.jsx(n.aY,{children:r.jsx("p",{className:"text-sm text-gray-500",children:"Error al cargar datos de suscripci\xf3n"})})]})}function ex({organization:e,user:s}){let[a,t]=(0,i.useState)("overview"),[o,x]=(0,i.useState)(!1),u=[{id:s.id,name:s.name||"Propietario",email:s.email,role:s.role,isActive:!0,lastLogin:new Date,organizationId:s.organizationId,organizationName:e.name},{id:"agent1",name:"Ana Mart\xednez",email:"ana@empresa.com",role:"AGENTE",isActive:!0,lastLogin:new Date(Date.now()-72e5),organizationId:s.organizationId,organizationName:e.name},{id:"agent2",name:"Luis Garc\xeda",email:"luis@empresa.com",role:"AGENTE",isActive:!0,lastLogin:new Date(Date.now()-864e5),organizationId:s.organizationId,organizationName:e.name}];return(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(v.Z,{className:"h-8 w-8 text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["\xa1Hola ",s.fullName||s.name,"! \uD83D\uDC4B"]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(A,{role:s.role,size:"sm"}),r.jsx("span",{className:"text-gray-600",children:"de"}),r.jsx("span",{className:"font-semibold",children:e.name}),r.jsx(c.C,{variant:"outline",className:"text-xs",children:e.status})]})]})]}),r.jsx(g,{allowedRoles:["PROPIETARIO"],children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(d.z,{variant:"outline",size:"sm",children:[r.jsx(M.Z,{className:"h-4 w-4 mr-2"}),"Configurar"]}),(0,r.jsxs)(d.z,{size:"sm",onClick:()=>x(!0),children:[r.jsx(es.Z,{className:"h-4 w-4 mr-2"}),"Invitar Agente"]})]})})]})}),(0,r.jsxs)(l.Tabs,{value:a,onValueChange:t,className:"space-y-8",children:[(0,r.jsxs)(l.TabsList,{className:"grid w-full grid-cols-5",children:[r.jsx(l.TabsTrigger,{value:"overview",children:"Resumen"}),r.jsx(l.TabsTrigger,{value:"conversations",children:"Conversaciones"}),r.jsx(l.TabsTrigger,{value:"team",children:"Equipo"}),r.jsx(l.TabsTrigger,{value:"automation",children:"Automatizaci\xf3n"}),r.jsx(l.TabsTrigger,{value:"settings",children:"Configuraci\xf3n"})]}),(0,r.jsxs)(l.TabsContent,{value:"overview",className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsxs)(n.Zb,{className:"border-l-4 border-l-green-500",children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(n.ll,{className:"text-sm font-medium",children:"Conversaciones Activas"}),r.jsx(b.Z,{className:"h-5 w-5 text-green-500"})]}),(0,r.jsxs)(n.aY,{children:[r.jsx("div",{className:"text-3xl font-bold",children:"47"}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground mt-2",children:[r.jsx(ea.Z,{className:"h-3 w-3 mr-1 text-green-500"}),"+12% desde ayer"]})]})]}),(0,r.jsxs)(n.Zb,{className:"border-l-4 border-l-blue-500",children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(n.ll,{className:"text-sm font-medium",children:"Miembros del Equipo"}),r.jsx(N.Z,{className:"h-5 w-5 text-blue-500"})]}),(0,r.jsxs)(n.aY,{children:[r.jsx("div",{className:"text-3xl font-bold",children:u.length}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground mt-2",children:[r.jsx(et.Z,{className:"h-3 w-3 mr-1 text-blue-500"}),u.filter(e=>e.isActive).length," agentes activos"]})]})]}),r.jsx(m,{permissions:[f.y3.VIEW_BILLING],children:r.jsx(em,{organizationId:s.organizationId,userRole:s.role})}),(0,r.jsxs)(n.Zb,{className:"border-l-4 border-l-purple-500",children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(n.ll,{className:"text-sm font-medium",children:"Respuesta Promedio"}),r.jsx(ea.Z,{className:"h-5 w-5 text-purple-500"})]}),(0,r.jsxs)(n.aY,{children:[r.jsx("div",{className:"text-3xl font-bold",children:"2.3m"}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground mt-2",children:[r.jsx(et.Z,{className:"h-3 w-3 mr-1 text-purple-500"}),"-30s desde la semana pasada"]})]})]})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[r.jsx(n.ll,{children:"Acciones R\xe1pidas"}),r.jsx(n.SZ,{children:"Accede r\xe1pidamente a las funciones m\xe1s importantes de tu organizaci\xf3n"})]}),r.jsx(n.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[r.jsx(m,{permissions:[f.y3.MANAGE_WHATSAPP_CONFIG],children:(0,r.jsxs)(d.z,{variant:"outline",className:"h-20 flex flex-col items-center justify-center space-y-2 hover:bg-green-50 hover:border-green-200",children:[r.jsx(er.Z,{className:"h-6 w-6 text-green-600"}),r.jsx("span",{className:"text-sm",children:"Configurar WhatsApp"})]})}),r.jsx(m,{permissions:[f.y3.INVITE_USERS],children:(0,r.jsxs)(d.z,{variant:"outline",className:"h-20 flex flex-col items-center justify-center space-y-2 hover:bg-blue-50 hover:border-blue-200",onClick:()=>x(!0),children:[r.jsx(es.Z,{className:"h-6 w-6 text-blue-600"}),r.jsx("span",{className:"text-sm",children:"Invitar Agente"})]})}),r.jsx(m,{permissions:[f.y3.VIEW_BILLING],children:(0,r.jsxs)(d.z,{variant:"outline",className:"h-20 flex flex-col items-center justify-center space-y-2 hover:bg-indigo-50 hover:border-indigo-200",onClick:()=>window.location.href="/suscripcion",children:[r.jsx(ei.Z,{className:"h-6 w-6 text-indigo-600"}),r.jsx("span",{className:"text-sm",children:"Gestionar Plan"})]})}),r.jsx(m,{permissions:[f.y3.VIEW_BILLING],children:(0,r.jsxs)(d.z,{variant:"outline",className:"h-20 flex flex-col items-center justify-center space-y-2 hover:bg-emerald-50 hover:border-emerald-200",onClick:()=>window.location.href="/facturacion",children:[r.jsx(en.Z,{className:"h-6 w-6 text-emerald-600"}),r.jsx("span",{className:"text-sm",children:"Billetera IA"})]})}),r.jsx(m,{permissions:[f.y3.CONFIGURE_AI],children:(0,r.jsxs)(d.z,{variant:"outline",className:"h-20 flex flex-col items-center justify-center space-y-2 hover:bg-purple-50 hover:border-purple-200",children:[r.jsx(el.Z,{className:"h-6 w-6 text-purple-600"}),r.jsx("span",{className:"text-sm",children:"Configurar IA"})]})}),r.jsx(m,{permissions:[f.y3.MANAGE_ORGANIZATION],children:(0,r.jsxs)(d.z,{variant:"outline",className:"h-20 flex flex-col items-center justify-center space-y-2 hover:bg-gray-50 hover:border-gray-200",children:[r.jsx(M.Z,{className:"h-6 w-6 text-gray-600"}),r.jsx("span",{className:"text-sm",children:"Configuraci\xf3n"})]})})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[r.jsx(n.ll,{children:"Conversaciones Recientes"}),r.jsx(n.SZ,{children:"\xdaltimas interacciones con clientes"})]}),r.jsx(n.aY,{children:r.jsx("div",{className:"space-y-4",children:[{customer:"Mar\xeda Gonz\xe1lez",message:"Consulta sobre productos",agent:"Ana",time:"Hace 5 min",status:"active"},{customer:"Carlos L\xf3pez",message:"Solicitud de cotizaci\xf3n",agent:"Luis",time:"Hace 12 min",status:"pending"},{customer:"Sof\xeda Mart\xednez",message:"Seguimiento de pedido",agent:"Ana",time:"Hace 25 min",status:"resolved"}].map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-semibold text-sm",children:e.customer}),r.jsx("p",{className:"text-sm text-gray-600",children:e.message}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["Agente: ",e.agent," • ",e.time]})]}),r.jsx(c.C,{variant:"active"===e.status?"default":"pending"===e.status?"secondary":"outline",children:e.status})]},s))})})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[r.jsx(n.ll,{children:"Estado del Sistema"}),r.jsx(n.SZ,{children:"Conexiones y configuraciones"})]}),r.jsx(n.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(er.Z,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{className:"text-sm font-medium",children:"WhatsApp Business"})]}),r.jsx(c.C,{className:"bg-green-100 text-green-800",children:"Conectado"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(el.Z,{className:"h-5 w-5 text-purple-600"}),r.jsx("span",{className:"text-sm font-medium",children:"Asistente IA"})]}),r.jsx(c.C,{className:"bg-green-100 text-green-800",children:"Activo"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(ed.Z,{className:"h-5 w-5 text-yellow-600"}),r.jsx("span",{className:"text-sm font-medium",children:"Automatizaci\xf3n"})]}),r.jsx(c.C,{variant:"secondary",children:"3 reglas activas"})]})]})})]})]})]}),(0,r.jsxs)(l.TabsContent,{value:"team",className:"space-y-6",children:[r.jsx(D,{organization:e,members:u,currentUserRole:s.role}),r.jsx(m,{permissions:[f.y3.INVITE_USERS],children:r.jsx(ee,{onInvite:()=>x(!0)})})]}),r.jsx(l.TabsContent,{value:"conversations",children:(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[r.jsx(n.ll,{children:"Centro de Conversaciones"}),r.jsx(n.SZ,{children:"Gestiona todas las conversaciones de WhatsApp de tu organizaci\xf3n"})]}),r.jsx(n.aY,{children:(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx(b.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"M\xf3dulo de conversaciones en desarrollo..."}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Pr\xf3ximamente podr\xe1s gestionar todas las conversaciones desde aqu\xed"})]})})]})}),r.jsx(l.TabsContent,{value:"automation",children:(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[r.jsx(n.ll,{children:"Automatizaci\xf3n e IA"}),r.jsx(n.SZ,{children:"Configura respuestas autom\xe1ticas y asistente de IA"})]}),r.jsx(n.aY,{children:(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx(el.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Configuraci\xf3n de automatizaci\xf3n en desarrollo..."}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Pr\xf3ximamente podr\xe1s configurar respuestas autom\xe1ticas y entrenar la IA"})]})})]})}),r.jsx(l.TabsContent,{value:"settings",children:(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[r.jsx(n.ll,{children:"Configuraci\xf3n de la Organizaci\xf3n"}),(0,r.jsxs)(n.SZ,{children:["Administra los ajustes de ",e.name]})]}),r.jsx(n.aY,{children:(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx(M.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Panel de configuraci\xf3n en desarrollo..."}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Pr\xf3ximamente podr\xe1s configurar todos los aspectos de tu organizaci\xf3n"})]})})]})})]}),r.jsx(L,{isOpen:o,onClose:()=>x(!1)})]})}},14573:(e,s,a)=>{"use strict";a.d(s,{OL:()=>j,_T:()=>x,aR:()=>d,f$:()=>p,fY:()=>u,le:()=>g,vW:()=>c,xo:()=>h,yT:()=>f});var t=a(62901),r=a(24383),i=a(13443),n=a(68637),l=a(27878);let d=i.fC,c=i.xz,o=i.h_,m=r.forwardRef(({className:e,...s},a)=>t.jsx(i.aV,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:a}));m.displayName=i.aV.displayName;let x=r.forwardRef(({className:e,...s},a)=>(0,t.jsxs)(o,{children:[t.jsx(m,{}),t.jsx(i.VY,{ref:a,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s})]}));x.displayName=i.VY.displayName;let u=({className:e,...s})=>t.jsx("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...s});u.displayName="AlertDialogHeader";let h=({className:e,...s})=>t.jsx("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});h.displayName="AlertDialogFooter";let p=r.forwardRef(({className:e,...s},a)=>t.jsx(i.Dx,{ref:a,className:(0,n.cn)("text-lg font-semibold",e),...s}));p.displayName=i.Dx.displayName;let f=r.forwardRef(({className:e,...s},a)=>t.jsx(i.dk,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));f.displayName=i.dk.displayName;let j=r.forwardRef(({className:e,...s},a)=>t.jsx(i.aU,{ref:a,className:(0,n.cn)((0,l.d)(),e),...s}));j.displayName=i.aU.displayName;let g=r.forwardRef(({className:e,...s},a)=>t.jsx(i.$j,{ref:a,className:(0,n.cn)((0,l.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...s}));g.displayName=i.$j.displayName},23803:(e,s,a)=>{"use strict";a.d(s,{Ol:()=>l,SZ:()=>c,Zb:()=>n,aY:()=>o,eW:()=>m,ll:()=>d});var t=a(62901),r=a(24383),i=a(68637);let n=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));n.displayName="Card";let l=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let d=r.forwardRef(({className:e,...s},a)=>t.jsx("h3",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));d.displayName="CardTitle";let c=r.forwardRef(({className:e,...s},a)=>t.jsx("p",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));c.displayName="CardDescription";let o=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,i.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent";let m=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s}));m.displayName="CardFooter"},65923:(e,s,a)=>{"use strict";a.d(s,{$N:()=>p,Be:()=>f,Vq:()=>d,cN:()=>h,cZ:()=>x,fK:()=>u,hg:()=>c});var t=a(62901),r=a(24383),i=a(18832),n=a(42594),l=a(68637);let d=i.fC,c=i.xz,o=i.h_;i.x8;let m=r.forwardRef(({className:e,...s},a)=>t.jsx(i.aV,{ref:a,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));m.displayName=i.aV.displayName;let x=r.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(o,{children:[t.jsx(m,{}),(0,t.jsxs)(i.VY,{ref:r,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[s,(0,t.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(n.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));x.displayName=i.VY.displayName;let u=({className:e,...s})=>t.jsx("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});u.displayName="DialogHeader";let h=({className:e,...s})=>t.jsx("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});h.displayName="DialogFooter";let p=r.forwardRef(({className:e,...s},a)=>t.jsx(i.Dx,{ref:a,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));p.displayName=i.Dx.displayName;let f=r.forwardRef(({className:e,...s},a)=>t.jsx(i.dk,{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));f.displayName=i.dk.displayName},82657:(e,s,a)=>{"use strict";a.d(s,{Label:()=>c});var t=a(62901),r=a(24383),i=a(8388),n=a(47279),l=a(68637);let d=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef(({className:e,...s},a)=>t.jsx(i.f,{ref:a,className:(0,l.cn)(d(),e),...s}));c.displayName=i.f.displayName},21395:(e,s,a)=>{"use strict";a.d(s,{E:()=>b});var t=a(62901),r=a(24383),i=a(89291),n=a(74132),l="Progress",[d,c]=(0,i.b)(l),[o,m]=d(l),x=r.forwardRef((e,s)=>{var a,r;let{__scopeProgress:i,value:l=null,max:d,getValueLabel:c=p,...m}=e;(d||0===d)&&!g(d)&&console.error((a=`${d}`,`Invalid prop \`max\` of value \`${a}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let x=g(d)?d:100;null===l||v(l,x)||console.error((r=`${l}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let u=v(l,x)?l:null,h=j(u)?c(u,x):void 0;return(0,t.jsx)(o,{scope:i,value:u,max:x,children:(0,t.jsx)(n.WV.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":j(u)?u:void 0,"aria-valuetext":h,role:"progressbar","data-state":f(u,x),"data-value":u??void 0,"data-max":x,...m,ref:s})})});x.displayName=l;var u="ProgressIndicator",h=r.forwardRef((e,s)=>{let{__scopeProgress:a,...r}=e,i=m(u,a);return(0,t.jsx)(n.WV.div,{"data-state":f(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:s})});function p(e,s){return`${Math.round(e/s*100)}%`}function f(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function j(e){return"number"==typeof e}function g(e){return j(e)&&!isNaN(e)&&e>0}function v(e,s){return j(e)&&!isNaN(e)&&e<=s&&e>=0}h.displayName=u;var N=a(68637);let b=r.forwardRef(({className:e,value:s,...a},r)=>t.jsx(x,{ref:r,className:(0,N.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...a,children:t.jsx(h,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));b.displayName=x.displayName},84227:(e,s,a)=>{"use strict";a.d(s,{Tabs:()=>l,TabsContent:()=>o,TabsList:()=>d,TabsTrigger:()=>c});var t=a(62901),r=a(24383),i=a(49099),n=a(68637);let l=i.fC,d=r.forwardRef(({className:e,...s},a)=>t.jsx(i.aV,{ref:a,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));d.displayName=i.aV.displayName;let c=r.forwardRef(({className:e,...s},a)=>t.jsx(i.xz,{ref:a,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));c.displayName=i.xz.displayName;let o=r.forwardRef(({className:e,...s},a)=>t.jsx(i.VY,{ref:a,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));o.displayName=i.VY.displayName},52:(e,s,a)=>{"use strict";a.d(s,{g:()=>n});var t=a(62901),r=a(24383),i=a(68637);let n=r.forwardRef(({className:e,...s},a)=>t.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...s}));n.displayName="Textarea"},68832:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},60979:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},1320:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},7259:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},35825:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},23094:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},91334:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},16501:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},44928:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},79046:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},30808:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},49356:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},82063:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},68956:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d});var t=a(83537),r=a(1507),i=a(15438),n=a(97973),l=a(77516);async function d({children:e}){try{await (0,r.BN)()}catch(e){(0,i.redirect)("/auth/login")}return(0,t.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[t.jsx(n._,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsx(l.c,{}),t.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})}},29122:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(83537),r=a(1507),i=a(93370),n=a(25590),l=a(88895);let d=(0,l.createProxy)(String.raw`/home/ubuntu/comodin_ia/app/components/dashboard/owner-dashboard.tsx#OwnerDashboard`),c=(0,l.createProxy)(String.raw`/home/ubuntu/comodin_ia/app/components/dashboard/agent-dashboard.tsx#AgentDashboard`);async function o(){let{organization:e,user:s}=await (0,r.BN)();return t.jsx(i.i,{permissions:[n.y3.VIEW_ASSIGNED_CONVERSATIONS,n.y3.VIEW_ALL_CONVERSATIONS],children:t.jsx("div",{className:"p-6",children:"PROPIETARIO"===s.role?t.jsx(d,{organization:e,user:s}):t.jsx(c,{organization:e,user:s})})})}},93370:(e,s,a)=>{"use strict";a.d(s,{i:()=>t});let t=(0,a(88895).createProxy)(String.raw`/home/ubuntu/comodin_ia/app/components/auth/protected-route.tsx#ProtectedRoute`)},49099:(e,s,a)=>{"use strict";a.d(s,{VY:()=>R,aV:()=>M,fC:()=>E,xz:()=>T});var t=a(24383),r=a(1940),i=a(89291),n=a(34603),l=a(52490),d=a(74132),c=a(1861),o=a(98106),m=a(50430),x=a(62901),u="Tabs",[h,p]=(0,i.b)(u,[n.Pc]),f=(0,n.Pc)(),[j,g]=h(u),v=t.forwardRef((e,s)=>{let{__scopeTabs:a,value:t,onValueChange:r,defaultValue:i,orientation:n="horizontal",dir:l,activationMode:u="automatic",...h}=e,p=(0,c.gm)(l),[f,g]=(0,o.T)({prop:t,onChange:r,defaultProp:i});return(0,x.jsx)(j,{scope:a,baseId:(0,m.M)(),value:f,onValueChange:g,orientation:n,dir:p,activationMode:u,children:(0,x.jsx)(d.WV.div,{dir:p,"data-orientation":n,...h,ref:s})})});v.displayName=u;var N="TabsList",b=t.forwardRef((e,s)=>{let{__scopeTabs:a,loop:t=!0,...r}=e,i=g(N,a),l=f(a);return(0,x.jsx)(n.fC,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:t,children:(0,x.jsx)(d.WV.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:s})})});b.displayName=N;var y="TabsTrigger",w=t.forwardRef((e,s)=>{let{__scopeTabs:a,value:t,disabled:i=!1,...l}=e,c=g(y,a),o=f(a),m=C(c.baseId,t),u=Z(c.baseId,t),h=t===c.value;return(0,x.jsx)(n.ck,{asChild:!0,...o,focusable:!i,active:h,children:(0,x.jsx)(d.WV.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...l,ref:s,onMouseDown:(0,r.M)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(t)}),onKeyDown:(0,r.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(t)}),onFocus:(0,r.M)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||i||!e||c.onValueChange(t)})})})});w.displayName=y;var A="TabsContent",I=t.forwardRef((e,s)=>{let{__scopeTabs:a,value:r,forceMount:i,children:n,...c}=e,o=g(A,a),m=C(o.baseId,r),u=Z(o.baseId,r),h=r===o.value,p=t.useRef(h);return t.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,x.jsx)(l.z,{present:i||h,children:({present:a})=>(0,x.jsx)(d.WV.div,{"data-state":h?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":m,hidden:!a,id:u,tabIndex:0,...c,ref:s,style:{...e.style,animationDuration:p.current?"0s":void 0},children:a&&n})})});function C(e,s){return`${e}-trigger-${s}`}function Z(e,s){return`${e}-content-${s}`}I.displayName=A;var E=v,M=b,T=w,R=I},97053:(e,s,a)=>{"use strict";a.d(s,{T:()=>r});var t=a(22134);function r(e,s,a){let[r,i]=(0,t.d)(a?.in,e,s);return 12*(r.getFullYear()-i.getFullYear())+(r.getMonth()-i.getMonth())}},9699:(e,s,a)=>{"use strict";a.d(s,{V:()=>r});var t=a(13979);function r(e,s){let a=(0,t.Q)(e,s?.in),r=a.getMonth();return a.setFullYear(a.getFullYear(),r+1,0),a.setHours(23,59,59,999),a}},7639:(e,s,a)=>{"use strict";a.d(s,{es:()=>x});let t={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d\xeda",other:"{{count}} d\xedas"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a\xf1o",other:"alrededor de {{count}} a\xf1os"},xYears:{one:"1 a\xf1o",other:"{{count}} a\xf1os"},overXYears:{one:"m\xe1s de 1 a\xf1o",other:"m\xe1s de {{count}} a\xf1os"},almostXYears:{one:"casi 1 a\xf1o",other:"casi {{count}} a\xf1os"}};var r=a(72054);let i={date:(0,r.l)({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:(0,r.l)({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,r.l)({formats:{full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},n={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma\xf1ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},l={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma\xf1ana a las' p",nextWeek:"eeee 'a las' p",other:"P"};var d=a(83882);let c={ordinalNumber:(e,s)=>Number(e)+"\xba",era:(0,d.Y)({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu\xe9s de cristo"]},defaultWidth:"wide"}),quarter:(0,d.Y)({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:(0,d.Y)({values:{narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},defaultWidth:"wide"}),day:(0,d.Y)({values:{narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s\xe1"],abbreviated:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],wide:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"]},defaultWidth:"wide"}),dayPeriod:(0,d.Y)({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},defaultFormattingWidth:"wide"})};var o=a(13050),m=a(15259);let x={code:"es",formatDistance:(e,s,a)=>{let r;let i=t[e];return(r="string"==typeof i?i:1===s?i.one:i.other.replace("{{count}}",s.toString()),a?.addSuffix)?a.comparison&&a.comparison>0?"en "+r:"hace "+r:r},formatLong:i,formatRelative:(e,s,a,t)=>1!==s.getHours()?l[e]:n[e],localize:c,match:{ordinalNumber:(0,o.y)({matchPattern:/^(\d+)(º)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,m.t)({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},defaultParseWidth:"any"}),quarter:(0,m.t)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:(0,m.t)({matchPatterns:{narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},defaultParseWidth:"any"}),day:(0,m.t)({matchPatterns:{narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,m.t)({matchPatterns:{narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}}}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[4372,7329,1472,7420,5003,8855,9358,533,1811,3383,1826,6003,7752],()=>a(23259));module.exports=t})();