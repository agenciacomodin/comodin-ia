(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7354],{81653:function(e,a,t){Promise.resolve().then(t.bind(t,72663))},72663:function(e,a,t){"use strict";t.d(a,{default:function(){return y}});var r=t(15444),n=t(89300),s=t(99827),o=t(2422),i=t(61335),l=t(74678),d=t(34635),c=t(67012),u=t(70489),m=t(29530),p=t(66124),f=t(77694),x=t(62492),h=t(81540),g=t(26771),E=t(39429),N=t(25076),j=t(95854),v=t(33186);function y({canCreateTemplates:e,canManageTemplates:a,canSyncMeta:t}){let[y,b]=(0,n.useState)([]),[T,C]=(0,n.useState)(!0),[I,A]=(0,n.useState)(""),[R,S]=(0,n.useState)("all"),[w,D]=(0,n.useState)("all"),[P,O]=(0,n.useState)(!1),[_,L]=(0,n.useState)(!1),{toast:M}=(0,j.pm)(),[U,V]=(0,n.useState)({name:"",category:"MARKETING",language:"es",bodyContent:"",headerType:"NONE",hasButtons:!1});(0,n.useEffect)(()=>{F()},[]);let F=async()=>{try{C(!0);let e=await fetch("/api/campaigns/templates"),a=await e.json();if(a.success)b(a.data||[]);else throw Error(a.error)}catch(e){console.error("Error loading templates:",e),M({title:"Error",description:"No se pudieron cargar las plantillas",variant:"destructive"})}finally{C(!1)}},G=async()=>{try{if(!U.name||!U.bodyContent||!U.category){M({title:"Error",description:"Por favor completa todos los campos requeridos",variant:"destructive"});return}let e=await fetch("/api/campaigns/templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)}),a=await e.json();if(a.success)M({title:"\xc9xito",description:"Plantilla creada exitosamente"}),O(!1),V({name:"",category:"MARKETING",language:"es",bodyContent:"",headerType:"NONE",hasButtons:!1}),F();else throw Error(a.error)}catch(e){console.error("Error creating template:",e),M({title:"Error",description:"Error al crear la plantilla",variant:"destructive"})}},B=async()=>{try{L(!0),await new Promise(e=>setTimeout(e,2e3)),M({title:"\xc9xito",description:"Sincronizaci\xf3n con Meta completada"}),F()}catch(e){console.error("Error syncing with Meta:",e),M({title:"Error",description:"Error al sincronizar con Meta Business",variant:"destructive"})}finally{L(!1)}},k=y.filter(e=>{let a=e.name.toLowerCase().includes(I.toLowerCase())||e.bodyContent.toLowerCase().includes(I.toLowerCase()),t="all"===R||e.status===R,r="all"===w||e.category===w;return a&&t&&r}),H=[...new Set(y.map(e=>e.category))];if(T)return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex justify-between items-center",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Gestor de Plantillas"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Gestiona plantillas de mensajes pre-aprobadas por Meta"})]})}),(0,r.jsx)("div",{className:"grid gap-6",children:[void 0,void 0,void 0].map((e,a)=>(0,r.jsx)(s.Zb,{children:(0,r.jsx)(s.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"animate-pulse space-y-2",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]})})},a))})]});let z=e=>{switch(e){case"APPROVED":return(0,r.jsx)(p.Z,{className:"h-4 w-4 text-green-600"});case"REJECTED":return(0,r.jsx)(f.Z,{className:"h-4 w-4 text-red-600"});case"PENDING":return(0,r.jsx)(x.Z,{className:"h-4 w-4 text-yellow-600"});case"ARCHIVED":return(0,r.jsx)(h.Z,{className:"h-4 w-4 text-gray-600"});default:return(0,r.jsx)(g.Z,{className:"h-4 w-4 text-blue-600"})}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Gestor de Plantillas"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Gestiona plantillas de mensajes pre-aprobadas por Meta"})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[t&&(0,r.jsx)(o.z,{variant:"outline",onClick:B,disabled:_,children:_?"Sincronizando...":"Sincronizar con Meta"}),e&&(0,r.jsxs)(m.Vq,{open:P,onOpenChange:O,children:[(0,r.jsx)(m.hg,{asChild:!0,children:(0,r.jsxs)(o.z,{children:[(0,r.jsx)(E.Z,{className:"mr-2 h-4 w-4"}),"Nueva Plantilla"]})}),(0,r.jsxs)(m.cZ,{className:"max-w-2xl",children:[(0,r.jsxs)(m.fK,{children:[(0,r.jsx)(m.$N,{children:"Crear Nueva Plantilla"}),(0,r.jsx)(m.Be,{children:"Crea una nueva plantilla de mensaje para tus campa\xf1as"})]}),(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(d.Label,{htmlFor:"name",children:"Nombre de la plantilla *"}),(0,r.jsx)(l.I,{id:"name",placeholder:"Ej: Bienvenida nuevos clientes",value:U.name||"",onChange:e=>V({...U,name:e.target.value})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(d.Label,{htmlFor:"category",children:"Categor\xeda *"}),(0,r.jsxs)(u.Ph,{value:U.category,onValueChange:e=>V({...U,category:e}),children:[(0,r.jsx)(u.i4,{children:(0,r.jsx)(u.ki,{placeholder:"Selecciona categor\xeda"})}),(0,r.jsxs)(u.Bw,{children:[(0,r.jsx)(u.Ql,{value:"MARKETING",children:"Marketing"}),(0,r.jsx)(u.Ql,{value:"UTILITY",children:"Utilidad"}),(0,r.jsx)(u.Ql,{value:"AUTHENTICATION",children:"Autenticaci\xf3n"})]})]})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(d.Label,{htmlFor:"language",children:"Idioma"}),(0,r.jsxs)(u.Ph,{value:U.language,onValueChange:e=>V({...U,language:e}),children:[(0,r.jsx)(u.i4,{children:(0,r.jsx)(u.ki,{placeholder:"Selecciona idioma"})}),(0,r.jsxs)(u.Bw,{children:[(0,r.jsx)(u.Ql,{value:"es",children:"Espa\xf1ol"}),(0,r.jsx)(u.Ql,{value:"en",children:"Ingl\xe9s"})]})]})]})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(d.Label,{htmlFor:"headerType",children:"Tipo de encabezado"}),(0,r.jsxs)(u.Ph,{value:U.headerType,onValueChange:e=>V({...U,headerType:e}),children:[(0,r.jsx)(u.i4,{children:(0,r.jsx)(u.ki,{placeholder:"Selecciona tipo"})}),(0,r.jsxs)(u.Bw,{children:[(0,r.jsx)(u.Ql,{value:"NONE",children:"Sin encabezado"}),(0,r.jsx)(u.Ql,{value:"TEXT",children:"Texto"}),(0,r.jsx)(u.Ql,{value:"IMAGE",children:"Imagen"}),(0,r.jsx)(u.Ql,{value:"VIDEO",children:"Video"}),(0,r.jsx)(u.Ql,{value:"DOCUMENT",children:"Documento"})]})]})]}),"TEXT"===U.headerType&&(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(d.Label,{htmlFor:"headerContent",children:"Contenido del encabezado"}),(0,r.jsx)(l.I,{id:"headerContent",placeholder:"Texto del encabezado",value:U.headerContent||"",onChange:e=>V({...U,headerContent:e.target.value})})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(d.Label,{htmlFor:"bodyContent",children:"Contenido del mensaje *"}),(0,r.jsx)(c.g,{id:"bodyContent",placeholder:"Hola {{1}}, bienvenido a nuestra plataforma...",value:U.bodyContent||"",onChange:e=>V({...U,bodyContent:e.target.value}),rows:6}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Usa ","{{1}}, {{2}}, etc."," para variables din\xe1micas"]})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(d.Label,{htmlFor:"footerContent",children:"Pie de mensaje (opcional)"}),(0,r.jsx)(l.I,{id:"footerContent",placeholder:"Ej: Responde STOP para darte de baja",value:U.footerContent||"",onChange:e=>V({...U,footerContent:e.target.value})})]})]}),(0,r.jsxs)(m.cN,{children:[(0,r.jsx)(o.z,{variant:"outline",onClick:()=>O(!1),children:"Cancelar"}),(0,r.jsx)(o.z,{onClick:G,children:"Crear Plantilla"})]})]})]})]})]}),(0,r.jsx)(s.Zb,{children:(0,r.jsx)(s.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 items-end",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,r.jsx)(d.Label,{htmlFor:"search",children:"Buscar plantillas"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(N.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,r.jsx)(l.I,{id:"search",placeholder:"Buscar por nombre o contenido...",value:I,onChange:e=>A(e.target.value),className:"pl-10"})]})]}),(0,r.jsxs)("div",{className:"w-48",children:[(0,r.jsx)(d.Label,{htmlFor:"statusFilter",children:"Estado"}),(0,r.jsxs)(u.Ph,{value:R,onValueChange:S,children:[(0,r.jsx)(u.i4,{children:(0,r.jsx)(u.ki,{placeholder:"Filtrar por estado"})}),(0,r.jsxs)(u.Bw,{children:[(0,r.jsx)(u.Ql,{value:"all",children:"Todos los estados"}),(0,r.jsx)(u.Ql,{value:"APPROVED",children:"Aprobadas"}),(0,r.jsx)(u.Ql,{value:"PENDING",children:"Pendientes"}),(0,r.jsx)(u.Ql,{value:"REJECTED",children:"Rechazadas"}),(0,r.jsx)(u.Ql,{value:"PAUSED",children:"Pausadas"}),(0,r.jsx)(u.Ql,{value:"ARCHIVED",children:"Archivadas"})]})]})]}),(0,r.jsxs)("div",{className:"w-48",children:[(0,r.jsx)(d.Label,{htmlFor:"categoryFilter",children:"Categor\xeda"}),(0,r.jsxs)(u.Ph,{value:w,onValueChange:D,children:[(0,r.jsx)(u.i4,{children:(0,r.jsx)(u.ki,{placeholder:"Filtrar por categor\xeda"})}),(0,r.jsxs)(u.Bw,{children:[(0,r.jsx)(u.Ql,{value:"all",children:"Todas las categor\xedas"}),H.map(e=>(0,r.jsx)(u.Ql,{value:e,children:e},e))]})]})]})]})})}),0===k.length?(0,r.jsx)(s.Zb,{children:(0,r.jsxs)(s.aY,{className:"p-12 text-center",children:[(0,r.jsx)(g.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay plantillas"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:0===y.length?"Comienza creando tu primera plantilla":"No se encontraron plantillas con los filtros aplicados"}),e&&0===y.length&&(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsxs)(o.z,{onClick:()=>O(!0),children:[(0,r.jsx)(E.Z,{className:"mr-2 h-4 w-4"}),"Nueva Plantilla"]})})]})}):(0,r.jsx)("div",{className:"grid gap-4",children:k.map(e=>(0,r.jsx)(s.Zb,{className:"hover:shadow-md transition-shadow",children:(0,r.jsx)(s.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[z(e.status),(0,r.jsx)("h3",{className:"font-semibold",children:e.name}),(0,r.jsx)(i.C,{variant:"outline",className:`text-xs ${"green"===v.DX[e.status]?"bg-green-50 text-green-700 border-green-200":"yellow"===v.DX[e.status]?"bg-yellow-50 text-yellow-700 border-yellow-200":"red"===v.DX[e.status]?"bg-red-50 text-red-700 border-red-200":"orange"===v.DX[e.status]?"bg-orange-50 text-orange-700 border-orange-200":"bg-gray-50 text-gray-700 border-gray-200"}`,children:v.WV[e.status]}),(0,r.jsx)(i.C,{variant:"secondary",className:"text-xs",children:e.category}),(0,r.jsx)(i.C,{variant:"outline",className:"text-xs",children:e.language.toUpperCase()})]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.bodyContent}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[(0,r.jsxs)("span",{children:["Usado ",e.usageCount," veces"]}),e.successfulSends>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:[e.successfulSends," env\xedos exitosos"]})]}),e.lastUsedAt&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:["\xdaltimo uso: ",new Date(e.lastUsedAt).toLocaleDateString()]})]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:["Creado por ",e.createdByName]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(o.z,{variant:"outline",size:"sm",onClick:()=>window.location.href=`/campaigns/templates/${e.id}`,children:"Ver detalles"}),a&&(0,r.jsx)(o.z,{variant:"outline",size:"sm",onClick:()=>window.location.href=`/campaigns/templates/${e.id}/edit`,children:"Editar"})]})]})})},e.id))})]})}},61335:function(e,a,t){"use strict";t.d(a,{C:function(){return i}});var r=t(15444);t(89300);var n=t(2371),s=t(65522);let o=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:a,...t}){return(0,r.jsx)("div",{className:(0,s.cn)(o({variant:a}),e),...t})}},2422:function(e,a,t){"use strict";t.d(a,{d:function(){return l},z:function(){return d}});var r=t(15444),n=t(89300),s=t(21030),o=t(2371),i=t(65522);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef(({className:e,variant:a,size:t,asChild:n=!1,...o},d)=>{let c=n?s.g7:"button";return(0,r.jsx)(c,{className:(0,i.cn)(l({variant:a,size:t,className:e})),ref:d,...o})});d.displayName="Button"},99827:function(e,a,t){"use strict";t.d(a,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return o},aY:function(){return c},eW:function(){return u},ll:function(){return l}});var r=t(15444),n=t(89300),s=t(65522);let o=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));o.displayName="Card";let i=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...a}));i.displayName="CardHeader";let l=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));l.displayName="CardTitle";let d=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",e),...a}));d.displayName="CardDescription";let c=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent";let u=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",e),...a}));u.displayName="CardFooter"},29530:function(e,a,t){"use strict";t.d(a,{$N:function(){return x},Be:function(){return h},Vq:function(){return l},cN:function(){return f},cZ:function(){return m},fK:function(){return p},hg:function(){return d}});var r=t(15444),n=t(89300),s=t(49095),o=t(33485),i=t(65522);let l=s.fC,d=s.xz,c=s.h_;s.x8;let u=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)(s.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));u.displayName=s.aV.displayName;let m=n.forwardRef(({className:e,children:a,...t},n)=>(0,r.jsxs)(c,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(s.VY,{ref:n,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[a,(0,r.jsxs)(s.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=s.VY.displayName;let p=({className:e,...a})=>(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});p.displayName="DialogHeader";let f=({className:e,...a})=>(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});f.displayName="DialogFooter";let x=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)(s.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));x.displayName=s.Dx.displayName;let h=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)(s.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...a}));h.displayName=s.dk.displayName},74678:function(e,a,t){"use strict";t.d(a,{I:function(){return o}});var r=t(15444),n=t(89300),s=t(65522);let o=n.forwardRef(({className:e,type:a,...t},n)=>(0,r.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));o.displayName="Input"},34635:function(e,a,t){"use strict";t.d(a,{Label:function(){return d}});var r=t(15444),n=t(89300),s=t(4100),o=t(2371),i=t(65522);let l=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)(s.f,{ref:t,className:(0,i.cn)(l(),e),...a}));d.displayName=s.f.displayName},70489:function(e,a,t){"use strict";t.d(a,{Bw:function(){return x},Ph:function(){return c},Ql:function(){return h},i4:function(){return m},ki:function(){return u}});var r=t(15444),n=t(89300),s=t(63280),o=t(63751),i=t(16997),l=t(77248),d=t(65522);let c=s.fC;s.ZA;let u=s.B4,m=n.forwardRef(({className:e,children:a,...t},n)=>(0,r.jsxs)(s.xz,{ref:n,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[a,(0,r.jsx)(s.JO,{asChild:!0,children:(0,r.jsx)(o.Z,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=s.xz.displayName;let p=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)(s.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})}));p.displayName=s.u_.displayName;let f=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)(s.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})}));f.displayName=s.$G.displayName;let x=n.forwardRef(({className:e,children:a,position:t="popper",...n},o)=>(0,r.jsx)(s.h_,{children:(0,r.jsxs)(s.VY,{ref:o,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...n,children:[(0,r.jsx)(p,{}),(0,r.jsx)(s.l_,{className:(0,d.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(f,{})]})}));x.displayName=s.VY.displayName,n.forwardRef(({className:e,...a},t)=>(0,r.jsx)(s.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=s.__.displayName;let h=n.forwardRef(({className:e,children:a,...t},n)=>(0,r.jsxs)(s.ck,{ref:n,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(s.wU,{children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(s.eT,{children:a})]}));h.displayName=s.ck.displayName,n.forwardRef(({className:e,...a},t)=>(0,r.jsx)(s.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=s.Z0.displayName},67012:function(e,a,t){"use strict";t.d(a,{g:function(){return o}});var r=t(15444),n=t(89300),s=t(65522);let o=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...a}));o.displayName="Textarea"},95854:function(e,a,t){"use strict";t.d(a,{pm:function(){return m}});var r=t(89300);let n=0,s=new Map,o=e=>{if(s.has(e))return;let a=setTimeout(()=>{s.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,a)},i=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?o(t):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},l=[],d={toasts:[]};function c(e){d=i(d,e),l.forEach(e=>{e(d)})}function u({...e}){let a=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...e,id:a,open:!0,onOpenChange:e=>{e||t()}}}),{id:a,dismiss:t,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,a]=r.useState(d);return r.useEffect(()=>(l.push(a),()=>{let e=l.indexOf(a);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},33186:function(e,a,t){"use strict";t.d(a,{BT:function(){return s.AutomationActionType},C2:function(){return S},DX:function(){return C},Dn:function(){return I},ED:function(){return f},Eb:function(){return E},FQ:function(){return N},Go:function(){return i},Jg:function(){return x},Om:function(){return u},Pg:function(){return y},Rh:function(){return R},Rn:function(){return g},Sn:function(){return d},UM:function(){return D},Ug:function(){return b},Vb:function(){return s.AutomationConditionType},WC:function(){return l},WV:function(){return T},WY:function(){return o},aE:function(){return m},d1:function(){return h},fB:function(){return c},hC:function(){return s.KnowledgeSourceStatus},hQ:function(){return j},mT:function(){return w},n9:function(){return p},rH:function(){return s.KnowledgeSourceType},uU:function(){return A},wu:function(){return P},ym:function(){return v}});var r,n,s=t(51181);(r=n||(n={})).INSUFFICIENT_BALANCE="INSUFFICIENT_BALANCE",r.NO_PROVIDER_AVAILABLE="NO_PROVIDER_AVAILABLE",r.PROVIDER_ERROR="PROVIDER_ERROR",r.INVALID_REQUEST="INVALID_REQUEST",r.RATE_LIMIT_EXCEEDED="RATE_LIMIT_EXCEEDED",r.INTERNAL_ERROR="INTERNAL_ERROR";let o={OPEN:"Abierta",PENDING:"Pendiente",RESOLVED:"Resuelta",TRANSFERRED:"Transferida",ARCHIVED:"Archivada"},i={LOW:"Baja",MEDIUM:"Media",HIGH:"Alta",URGENT:"Urgente"},l={LOW:"gray",MEDIUM:"blue",HIGH:"orange",URGENT:"red"},d={QR_CODE:"Conexi\xf3n R\xe1pida (QR)",API_OFFICIAL:"Conexi\xf3n Profesional (API)"},c={DISCONNECTED:"Desconectado",CONNECTING:"Conectando",CONNECTED:"Conectado",ERROR:"Error",EXPIRED:"Expirado"},u={DISCONNECTED:"gray",CONNECTING:"yellow",CONNECTED:"green",ERROR:"red",EXPIRED:"orange"},m={image:["image/jpeg","image/png","image/gif","image/webp"],document:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"],video:["video/mp4","video/avi","video/mov","video/wmv"],audio:["audio/mp3","audio/wav","audio/aac","audio/ogg"]},p={image:10485760,document:52428800,video:104857600,audio:20971520},f={SALES:"Ventas",SUPPORT:"Soporte",QUESTION:"Pregunta",COMPLAINT:"Queja",BOOKING:"Reserva",PAYMENT:"Pago",INFORMATION:"Informaci\xf3n",GREETING:"Saludo",FAREWELL:"Despedida",OTHER:"Otro"},x={SALES:"green",SUPPORT:"blue",QUESTION:"yellow",COMPLAINT:"red",BOOKING:"purple",PAYMENT:"orange",INFORMATION:"cyan",GREETING:"teal",FAREWELL:"gray",OTHER:"slate"},h={INTENTION_DETECTED:"Intenci\xf3n detectada",KEYWORDS_CONTAINS:"Contiene palabras clave",SENDER_IS_VIP:"Remitente es VIP",TIME_RANGE:"Horario espec\xedfico",FIRST_MESSAGE:"Primer mensaje",MESSAGE_COUNT:"N\xfamero de mensajes",RESPONSE_TIME:"Tiempo de respuesta"},g={ADD_TAG:"Agregar etiqueta",ASSIGN_AGENT:"Asignar agente",SET_PRIORITY:"Establecer prioridad",AUTO_REPLY:"Respuesta autom\xe1tica",MARK_VIP:"Marcar como VIP",TRANSFER_CONVERSATION:"Transferir conversaci\xf3n",CREATE_TASK:"Crear tarea",SEND_NOTIFICATION:"Enviar notificaci\xf3n"},E={pdf:["application/pdf"],document:["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],text:["text/plain","text/markdown","text/csv"],web:["text/html"]},N=52428800,j={UPLOADING:"Subiendo",PROCESSING:"Procesando",CHUNKING:"Fragmentando",EMBEDDING:"Generando Embeddings",ACTIVE:"Activo",ERROR:"Error",DISABLED:"Deshabilitado"},v={ECOMMERCE:"E-commerce",CRM:"CRM",ERP:"ERP",PAYMENT:"Pagos",ANALYTICS:"An\xe1lisis",MARKETING:"Marketing",SOCIAL_MEDIA:"Redes Sociales",EMAIL:"Email Marketing",SUPPORT:"Soporte",OTHER:"Otros"},y={AVAILABLE:"Disponible",CONNECTED:"Conectado",DISCONNECTED:"Desconectado",ERROR:"Error",PENDING:"Pendiente"},b={SHOPIFY:{displayName:"Shopify",description:"Conecta tu tienda Shopify para consultar productos, pedidos e inventario",authType:"oauth",authFields:["shop_domain","access_token"],iconUrl:"/integrations/shopify.svg",brandColor:"#7AB55C",supportedFeatures:["products","orders","customers","inventory"],documentation:"https://docs.shopify.com/api"},WOOCOMMERCE:{displayName:"WooCommerce",description:"Conecta tu tienda WooCommerce para gestionar productos y pedidos",authType:"api_key",authFields:["site_url","consumer_key","consumer_secret"],iconUrl:"/integrations/woocommerce.svg",brandColor:"#7F54B3",supportedFeatures:["products","orders","customers"],documentation:"https://woocommerce.github.io/woocommerce-rest-api-docs/"},TIENDANUBE:{displayName:"TiendaNube",description:"Conecta tu tienda TiendaNube para sincronizar cat\xe1logo y pedidos",authType:"oauth",authFields:["store_id","access_token"],iconUrl:"/integrations/tiendanube.svg",brandColor:"#FF6900",supportedFeatures:["products","orders","customers"],documentation:"https://developers.tiendanube.com/"}},T={PENDING:"Pendiente",APPROVED:"Aprobada",REJECTED:"Rechazada",PAUSED:"Pausada",ARCHIVED:"Archivada"},C={PENDING:"yellow",APPROVED:"green",REJECTED:"red",PAUSED:"orange",ARCHIVED:"gray"},I={DRAFT:"Borrador",SCHEDULED:"Programada",SENDING:"Enviando",COMPLETED:"Completada",PAUSED:"Pausada",CANCELLED:"Cancelada",FAILED:"Fallida"},A={DRAFT:"gray",SCHEDULED:"blue",SENDING:"yellow",COMPLETED:"green",PAUSED:"orange",CANCELLED:"red",FAILED:"red"},R={IMMEDIATE:"Inmediato",SCHEDULED:"Programado",DRIP:"Secuencial",AB_TEST:"Prueba A/B",WHATSAPP_BUSINESS:"WhatsApp Business",WHATSAPP_API:"WhatsApp API"},S={IMMEDIATE:"Env\xedo inmediato a todos los destinatarios",SCHEDULED:"Env\xedo programado para una fecha espec\xedfica",DRIP:"Env\xedo secuencial con intervalos definidos",AB_TEST:"Prueba diferentes versiones del mensaje",WHATSAPP_BUSINESS:"M\xe1ximo 40 mensajes diarios, cualquier contenido (texto/imagen/video/audio)",WHATSAPP_API:"Env\xedo ilimitado, solo plantillas verificadas por Meta"},w={INCLUDE_TAG:"Incluir etiqueta",EXCLUDE_TAG:"Excluir etiqueta",CHANNEL:"Canal de origen",VIP_STATUS:"Estado VIP",LAST_CONTACT:"\xdaltimo contacto",CONVERSATION_STATUS:"Estado de conversaci\xf3n"},D={SEND_RATE:10,BATCH_SIZE:100,RETRY_ATTEMPTS:3,PREVIEW_SAMPLE_SIZE:20,PREVIEW_EXPIRATION_HOURS:24},P={BUSINESS:{MAX_DAILY_MESSAGES:40,SEND_RATE:2,BATCH_SIZE:10,REQUIRES_VERIFICATION:!1,SUPPORTS_RICH_MEDIA:!0},API:{MAX_DAILY_MESSAGES:null,SEND_RATE:50,BATCH_SIZE:500,REQUIRES_VERIFICATION:!0,SUPPORTS_RICH_MEDIA:!0}}},65522:function(e,a,t){"use strict";t.d(a,{cn:function(){return s}});var r=t(32191),n=t(23607);function s(...e){return(0,n.m6)((0,r.W)(e))}}},function(e){e.O(0,[6539,688,8077,8151,822,1181,4701,2386,7156,1744],function(){return e(e.s=81653)}),_N_E=e.O()}]);