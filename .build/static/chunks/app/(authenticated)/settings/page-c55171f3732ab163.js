(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5002],{65521:function(e,n,s){Promise.resolve().then(s.bind(s,82538)),Promise.resolve().then(s.bind(s,34635)),Promise.resolve().then(s.bind(s,25181)),Promise.resolve().then(s.bind(s,86765))},82538:function(e,n,s){"use strict";s.d(n,{ProtectedRoute:function(){return d}});var r=s(15444),i=s(51924),t=s(56948),a=s(81059),o=s(70362),l=s(2422),c=s(79047);function d({children:e,permissions:n=[],requireAll:s=!1,fallback:d,redirectTo:u}){let{isLoading:f,isAuthenticated:m,hasAnyPermission:g,hasAllPermissions:b,getDashboardRoute:v}=(0,i.TE)(),h=(0,c.useRouter)();return f?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):m?!(n.length>0)||(s?b(n):g(n))?(0,r.jsx)(r.Fragment,{children:e}):d?(0,r.jsx)(r.Fragment,{children:d}):(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,r.jsxs)(t.bZ,{className:"max-w-md",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4"}),(0,r.jsx)(t.Cd,{children:"Sin Permisos"}),(0,r.jsx)(t.X,{children:"No tienes los permisos necesarios para acceder a esta funcionalidad."}),(0,r.jsx)(l.z,{onClick:()=>h.push(u||v()),className:"mt-3 w-full",children:"Volver al Dashboard"})]})}):(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,r.jsxs)(t.bZ,{className:"max-w-md",children:[(0,r.jsx)(a.Z,{className:"h-4 w-4"}),(0,r.jsx)(t.Cd,{children:"Acceso Denegado"}),(0,r.jsx)(t.X,{children:"Debes iniciar sesi\xf3n para acceder a esta p\xe1gina."}),(0,r.jsx)(l.z,{onClick:()=>h.push("/auth/login"),className:"mt-3 w-full",children:"Iniciar Sesi\xf3n"})]})})}},56948:function(e,n,s){"use strict";s.d(n,{Cd:function(){return c},X:function(){return d},bZ:function(){return l}});var r=s(15444),i=s(89300),t=s(2371),a=s(65522);let o=(0,t.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=i.forwardRef(({className:e,variant:n,...s},i)=>(0,r.jsx)("div",{ref:i,role:"alert",className:(0,a.cn)(o({variant:n}),e),...s}));l.displayName="Alert";let c=i.forwardRef(({className:e,...n},s)=>(0,r.jsx)("h5",{ref:s,className:(0,a.cn)("mb-1 font-medium leading-none tracking-tight",e),...n}));c.displayName="AlertTitle";let d=i.forwardRef(({className:e,...n},s)=>(0,r.jsx)("div",{ref:s,className:(0,a.cn)("text-sm [&_p]:leading-relaxed",e),...n}));d.displayName="AlertDescription"},34635:function(e,n,s){"use strict";s.d(n,{Label:function(){return c}});var r=s(15444),i=s(89300),t=s(4100),a=s(2371),o=s(65522);let l=(0,a.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=i.forwardRef(({className:e,...n},s)=>(0,r.jsx)(t.f,{ref:s,className:(0,o.cn)(l(),e),...n}));c.displayName=t.f.displayName},25181:function(e,n,s){"use strict";s.d(n,{Switch:function(){return o}});var r=s(15444),i=s(89300),t=s(62312),a=s(65522);let o=i.forwardRef(({className:e,...n},s)=>(0,r.jsx)(t.fC,{className:(0,a.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...n,ref:s,children:(0,r.jsx)(t.bU,{className:(0,a.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));o.displayName=t.fC.displayName},86765:function(e,n,s){"use strict";s.d(n,{Tabs:function(){return o},TabsContent:function(){return d},TabsList:function(){return l},TabsTrigger:function(){return c}});var r=s(15444),i=s(89300),t=s(84018),a=s(65522);let o=t.fC,l=i.forwardRef(({className:e,...n},s)=>(0,r.jsx)(t.aV,{ref:s,className:(0,a.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...n}));l.displayName=t.aV.displayName;let c=i.forwardRef(({className:e,...n},s)=>(0,r.jsx)(t.xz,{ref:s,className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...n}));c.displayName=t.xz.displayName;let d=i.forwardRef(({className:e,...n},s)=>(0,r.jsx)(t.VY,{ref:s,className:(0,a.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...n}));d.displayName=t.VY.displayName},51924:function(e,n,s){"use strict";s.d(n,{TE:function(){return t}});var r=s(75762),i=s(92937);function t(){let{data:e,status:n}=(0,r.useSession)(),s=e?.user,t=s?.role,a=s?.organizationId;return{isAuthenticated:!!e,isLoading:"loading"===n,user:s,role:t,organizationId:a,hasPermission:e=>!!t&&(0,i.N$)(t,e),hasAnyPermission:e=>!!t&&(0,i.vr)(t,e),hasAllPermissions:e=>{if(!t)return!1;let n=(0,i.ai)(t).map(e=>e.toString());return(0,i.wP)(n,e)},canAccessRoute:e=>{if(!t)return!1;let n=(0,i.ai)(t).map(e=>e.toString());return(0,i.mn)(n,e)},getDashboardRoute:()=>t?(0,i.Ol)(t):"/dashboard",getAllPermissions:()=>t?(0,i.ai)(t):[],isSuperAdmin:"SUPER_ADMIN"===t,isDistributor:"DISTRIBUIDOR"===t,isOwner:"PROPIETARIO"===t,isAgent:"AGENTE"===t,canManageUsers:"SUPER_ADMIN"===t||"PROPIETARIO"===t,canManageOrganization:"SUPER_ADMIN"===t||"PROPIETARIO"===t,canViewAllConversations:"AGENTE"!==t,canManageWhatsApp:"SUPER_ADMIN"===t||"PROPIETARIO"===t,canManageBilling:"SUPER_ADMIN"===t||"PROPIETARIO"===t,canConfigureAI:"SUPER_ADMIN"===t||"PROPIETARIO"===t,canViewReports:"AGENTE"!==t,canManageClients:"DISTRIBUIDOR"===t||"SUPER_ADMIN"===t}}}},function(e){e.O(0,[6539,5762,4018,5394,3657,2386,7156,1744],function(){return e(e.s=65521)}),_N_E=e.O()}]);